/*! For license information please see 56200-a7b045cd7fddffcb9601.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[56200],{66015:(t,e,r)=>{"use strict";r.d(e,{L:()=>o});var n=r(510),i=r.n(n);const o=t=>{const{url:e,username:r,password:n,clientId:o,protocolVersion:s=4,clean:a=!1}=t;return i().connect(e,{clientId:o,protocol:"wss",clean:a,connectTimeout:4e3,reconnectPeriod:3e3,keepalive:60,username:r,password:n,protocolVersion:s})}},94083:(t,e,r)=>{"use strict";t=r.nmd(t);const n=r(10734),i=(t,e)=>function(){return`[${t.apply(n,arguments)+e}m`},o=(t,e)=>function(){const r=t.apply(n,arguments);return`[${38+e};5;${r}m`},s=(t,e)=>function(){const r=t.apply(n,arguments);return`[${38+e};2;${r[0]};${r[1]};${r[2]}m`};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(const r of Object.keys(e)){const n=e[r];for(const r of Object.keys(n)){const i=n[r];e[r]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[r]=e[r],t.set(i[0],i[1])}Object.defineProperty(e,r,{value:n,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}const r=t=>t,a=(t,e,r)=>[t,e,r];e.color.close="[39m",e.bgColor.close="[49m",e.color.ansi={ansi:i(r,0)},e.color.ansi256={ansi256:o(r,0)},e.color.ansi16m={rgb:s(a,0)},e.bgColor.ansi={ansi:i(r,10)},e.bgColor.ansi256={ansi256:o(r,10)},e.bgColor.ansi16m={rgb:s(a,10)};for(let t of Object.keys(n)){if("object"!=typeof n[t])continue;const r=n[t];"ansi16"===t&&(t="ansi"),"ansi16"in r&&(e.color.ansi[t]=i(r.ansi16,0),e.bgColor.ansi[t]=i(r.ansi16,10)),"ansi256"in r&&(e.color.ansi256[t]=o(r.ansi256,0),e.bgColor.ansi256[t]=o(r.ansi256,10)),"rgb"in r&&(e.color.ansi16m[t]=s(r.rgb,0),e.bgColor.ansi16m[t]=s(r.rgb,10))}return e}})},26192:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(74650);const i=(()=>{let t=!1,e=null,r=null;const i=()=>t&&!(0,n.A)(r)&&!(0,n.A)(e);return{init:(i,o)=>{t||(0,n.A)(i)||(0,n.A)(o)||(t=!0,e=o,r=i)},applyBrandingToText:t=>{if(!i())return t;const n=e?.brandingText;if(!n)return t;const{baseBrandKey:o,brandTextTokens:s}=n,a=s[o],c=s[r];return Object.entries(a).reduce(((t,[e,r])=>{const n=new RegExp(`\\b${r}\\b`,"g"),i=c[e];return i?t.replace(n,i):t}),t)},isInit:i,getConfig:()=>e&&r?e[r]:null}})()},87813:(t,e,r)=>{"use strict";const{Buffer:n}=r(48287),i=Symbol.for("BufferList");function o(t){if(!(this instanceof o))return new o(t);o._init.call(this,t)}o._init=function(t){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},o.prototype._new=function(t){return new o(t)},o.prototype._offset=function(t){if(0===t)return[0,0];let e=0;for(let r=0;r<this._bufs.length;r++){const n=e+this._bufs[r].length;if(t<n||r===this._bufs.length-1)return[r,t-e];e=n}},o.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let t=0;t<e;t++)r+=this._bufs[t].length;return r},o.prototype.get=function(t){if(t>this.length||t<0)return;const e=this._offset(t);return this._bufs[e[0]][e[1]]},o.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},o.prototype.copy=function(t,e,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return t||n.alloc(0);if(i<=0)return t||n.alloc(0);const o=!!t,s=this._offset(r),a=i-r;let c=a,u=o&&e||0,l=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,u),u+=this._bufs[e].length;return t}if(c<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(t,e,l,l+c):this._bufs[s[0]].slice(l,l+c);o||(t=n.allocUnsafe(a));for(let e=s[0];e<this._bufs.length;e++){const r=this._bufs[e].length-l;if(!(c>r)){this._bufs[e].copy(t,u,l,l+c),u+=r;break}this._bufs[e].copy(t,u,l),u+=r,c-=r,l&&(l=0)}return t.length>u?t.slice(0,u):t},o.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();const r=this._offset(t),n=this._offset(e),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},o.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},o.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(n.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(let e=0;e<t._bufs.length;e++)this.append(t._bufs[e]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(n.from(t));return this},o.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},o.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=n.from([t]):"string"==typeof t?t=n.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=n.from(t.buffer,t.byteOffset,t.byteLength):n.isBuffer(t)||(t=n.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;const i=this._offset(e);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const e=this._bufs[o];for(;s<e.length;)if(e.length-s>=t.length){const r=e.indexOf(t,s);if(-1!==r)return this._reverseOffset([o,r]);s=e.length-t.length+1}else{const e=this._reverseOffset([o,s]);if(this._match(e,t))return e;s++}s=0}return-1},o.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)!function(e){o.prototype[e]=null===t[e]?function(t,r){return this.slice(t,t+r)[e](0,r)}:function(r=0){return this.slice(r,r+t[e])[e](0)}}(e)}(),o.prototype._isBufferList=function(t){return t instanceof o||o.isBufferList(t)},o.isBufferList=function(t){return null!=t&&t[i]},t.exports=o},44829:(t,e,r)=>{"use strict";const n=r(28399).Duplex,i=r(56698),o=r(87813);function s(t){if(!(this instanceof s))return new s(t);if("function"==typeof t){this._callback=t;const e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)})),t=null}o._init.call(this,t),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(t){return new s(t)},s.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},s.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},s.prototype.end=function(t){n.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},s.prototype._isBufferList=function(t){return t instanceof s||t instanceof o||s.isBufferList(t)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o},13144:(t,e,r)=>{"use strict";var n=r(66743),i=r(11002),o=r(10076),s=r(47119);t.exports=s||n.call(o,i)},12205:(t,e,r)=>{"use strict";var n=r(66743),i=r(11002),o=r(13144);t.exports=function(){return o(n,i,arguments)}},11002:t=>{"use strict";t.exports=Function.prototype.apply},10076:t=>{"use strict";t.exports=Function.prototype.call},73126:(t,e,r)=>{"use strict";var n=r(66743),i=r(69675),o=r(10076),s=r(13144);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new i("a function is required");return s(n,o,t)}},47119:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},38075:(t,e,r)=>{"use strict";var n=r(70453),i=r(10487),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},10487:(t,e,r)=>{"use strict";var n=r(96897),i=r(30655),o=r(73126),s=r(12205);t.exports=function(t){var e=o(arguments),r=t.length-(arguments.length-1);return n(e,1+(r>0?r:0),!0)},i?i(t.exports,"apply",{value:s}):t.exports.apply=s},17833:(t,e,r)=>{e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(n++,"%c"===t&&(i=n))})),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t={}.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=r(40736)(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},40736:(t,e,r)=>{t.exports=function(t){function e(t){let r,i,o,s=null;function a(...t){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];r=o.call(n,e),t.splice(s,1),s--}return r})),e.formatArgs.call(n,t),(n.log||e.log).apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,r){const n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(i),...e.skips.map(i).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let r;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(6585),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((r=>{e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},30041:(t,e,r)=>{"use strict";var n=r(30655),i=r(58068),o=r(69675),s=r(75795);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new o("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],h=!!s&&s(t,e);if(n)n(t,e,{configurable:null===u&&h?h.configurable:!u,enumerable:null===a&&h?h.enumerable:!a,value:r,writable:null===c&&h?h.writable:!c});else{if(!l&&(a||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},7176:(t,e,r)=>{"use strict";var n,i=r(73126),o=r(75795);try{n=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var s=!!n&&o&&o(Object.prototype,"__proto__"),a=Object,c=a.getPrototypeOf;t.exports=s&&"function"==typeof s.get?i([s.get]):"function"==typeof c&&function(t){return c(null==t?t:a(t))}},32623:(t,e,r)=>{var n=r(28399),i=r(26611),o=r(56698),s=r(15332),a=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),c=function(t,e){t._corked?t.once("uncork",e):e()},u=function(t,e){return function(r){r?function(t,e){t._autoDestroy&&t.destroy(e)}(t,"premature close"===r.message?null:r):e&&!t._ended&&t.end()}},l=function(){},h=function(t,e,r){if(!(this instanceof h))return new h(t,e,r);n.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};o(h,n.Duplex),h.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new h(t,e,r)},h.prototype.cork=function(){1==++this._corked&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},h.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,r=i(t,{writable:!0,readable:!1},u(this,this._forwardEnd)),n=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&process.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=function(){e._writable.removeListener("drain",n),r()},this.uncork()}else this.end()},h.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e,r=this,o=i(t,{writable:!1,readable:!0},u(this)),s=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:(e=t,new n.Readable({objectMode:!0,highWaterMark:16}).wrap(e)),this._readable2.on("readable",s),this._readable2.on("end",a),this._unread=function(){r._readable2.removeListener("readable",s),r._readable2.removeListener("end",a),o()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=s(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},h.prototype.destroy=function(t,e){if(e||(e=l),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick((function(){r._destroy(t),e(null)}))},h.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(t,e,r){if(!this.destroyed)return this._corked?c(this,this._write.bind(this,t,e,r)):t===a?this._finish(r):this._writable?void(!1===this._writable.write(t)?this._ondrain=r:this.destroyed||r()):r()},h.prototype._finish=function(t){var e=this;this.emit("preend"),c(this,(function(){var r,n;n=function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),c(e,t)},(r=e._forwardEnd&&e._writable)?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},h.prototype.end=function(t,e,r){return"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this._writableState.destroyed||this.write(a),n.Writable.prototype.end.call(this,r))},t.exports=h},26611:(t,e,r)=>{var n=r(83519),i=function(){},o=function(t,e,r){if("function"==typeof e)return o(t,null,e);e||(e={}),r=n(r||i);var s=t._writableState,a=t._readableState,c=e.readable||!1!==e.readable&&t.readable,u=e.writable||!1!==e.writable&&t.writable,l=!1,h=function(){t.writable||f()},f=function(){u=!1,c||r.call(t)},p=function(){c=!1,u||r.call(t)},d=function(e){r.call(t,e?new Error("exited with error code: "+e):null)},g=function(e){r.call(t,e)},v=function(){process.nextTick(m)},m=function(){if(!l)return(!c||a&&a.ended&&!a.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:r.call(t,new Error("premature close"))},y=function(){t.req.on("finish",f)};return function(t){return t.setHeader&&"function"==typeof t.abort}(t)?(t.on("complete",f),t.on("abort",v),t.req?y():t.on("request",y)):u&&!s&&(t.on("end",h),t.on("close",h)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",d),t.on("end",p),t.on("finish",f),!1!==e.error&&t.on("error",g),t.on("close",v),function(){l=!0,t.removeListener("complete",f),t.removeListener("abort",v),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",f),t.removeListener("exit",d),t.removeListener("end",p),t.removeListener("error",g),t.removeListener("close",v)}};t.exports=o},30655:t=>{"use strict";var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}t.exports=e},41237:t=>{"use strict";t.exports=EvalError},69383:t=>{"use strict";t.exports=Error},79290:t=>{"use strict";t.exports=RangeError},79538:t=>{"use strict";t.exports=ReferenceError},58068:t=>{"use strict";t.exports=SyntaxError},69675:t=>{"use strict";t.exports=TypeError},35345:t=>{"use strict";t.exports=URIError},79612:t=>{"use strict";t.exports=Object},37007:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,o,s,u;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):d(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)n(c,this,e);else{var u=c.length,l=d(c,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},89353:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(t,e){for(var r=[],n=1,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r}(arguments),a=r(0,i.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=",");return r}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var e=i.apply(this,n(s,arguments));return Object(e)===e?e:this}return i.apply(t,n(s,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},66743:(t,e,r)=>{"use strict";var n=r(89353);t.exports=Function.prototype.bind||n},70453:(t,e,r)=>{"use strict";var n,i=r(79612),o=r(69383),s=r(41237),a=r(79290),c=r(79538),u=r(58068),l=r(69675),h=r(35345),f=r(71514),p=r(58968),d=r(6188),g=r(68002),v=r(75880),m=r(70414),y=r(73093),b=Function,w=function(t){try{return b('"use strict"; return ('+t+").constructor;")()}catch(t){}},E=r(75795),S=r(30655),_=function(){throw new l},A=E?function(){try{return _}catch(t){try{return E(arguments,"callee").get}catch(t){return _}}}():_,T=r(64039)(),O=r(93628),P=r(71064),I=r(48648),C=r(11002),N=r(10076),k={},x="undefined"!=typeof Uint8Array&&O?O(Uint8Array):n,R={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":T&&O?O([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":k,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&O?O(O([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&T&&O?O((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&T&&O?O((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&O?O(""[Symbol.iterator]()):n,"%Symbol%":T?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":A,"%TypedArray%":x,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":N,"%Function.prototype.apply%":C,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":P,"%Math.abs%":f,"%Math.floor%":p,"%Math.max%":d,"%Math.min%":g,"%Math.pow%":v,"%Math.round%":m,"%Math.sign%":y,"%Reflect.getPrototypeOf%":I};if(O)try{null.error}catch(t){var D=O(O(t));R["%Error.prototype%"]=D}var M=function t(e){var r;if("%AsyncFunction%"===e)r=w("async function () {}");else if("%GeneratorFunction%"===e)r=w("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=w("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&O&&(r=O(i.prototype))}return R[e]=r,r},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j=r(66743),B=r(9957),F=j.call(N,Array.prototype.concat),U=j.call(C,Array.prototype.splice),H=j.call(N,String.prototype.replace),G=j.call(N,String.prototype.slice),X=j.call(N,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,W=function(t,e){var r,n=t;if(B(L,n)&&(n="%"+(r=L[n])[0]+"%"),B(R,n)){var i=R[n];if(i===k&&(i=M(n)),void 0===i&&!e)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new u("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new l('"allowMissing" argument must be a boolean');if(null===X(/^%?[^%]*%?$/,t))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=G(t,0,1),r=G(t,-1);if("%"===e&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return H(t,V,(function(t,e,r,i){n[n.length]=r?H(i,Y,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",i=W("%"+n+"%",e),o=i.name,s=i.value,a=!1,c=i.alias;c&&(n=c[0],U(r,F([0,1],c)));for(var h=1,f=!0;h<r.length;h+=1){var p=r[h],d=G(p,0,1),g=G(p,-1);if(('"'===d||"'"===d||"`"===d||'"'===g||"'"===g||"`"===g)&&d!==g)throw new u("property names with quotes must have matching quotes");if("constructor"!==p&&f||(a=!0),B(R,o="%"+(n+="."+p)+"%"))s=R[o];else if(null!=s){if(!(p in s)){if(!e)throw new l("base intrinsic for "+t+" exists, but the property is not available.");return}if(E&&h+1>=r.length){var v=E(s,p);s=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[p]}else f=B(s,p),s=s[p];f&&!a&&(R[o]=s)}}return s}},71064:(t,e,r)=>{"use strict";var n=r(79612);t.exports=n.getPrototypeOf||null},48648:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},93628:(t,e,r)=>{"use strict";var n=r(48648),i=r(71064),o=r(7176);t.exports=n?function(t){return n(t)}:i?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return i(t)}:o?function(t){return o(t)}:null},6549:t=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},75795:(t,e,r)=>{"use strict";var n=r(6549);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},30592:(t,e,r)=>{"use strict";var n=r(30655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},64039:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(41333);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},41333:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9957:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(66743);t.exports=o.call(n,i)},56698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},38194:(t,e,r)=>{"use strict";r.d(e,{CD:()=>w});var n,i=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(){function t(t,e){this.ee=1,this.u=void 0,this.p=void 0,this.K=void 0,this.N=void 0,this.rr=void 0,this.u=t,this.p=e}return t.prototype.L=function(){var t=this;if(1===t.ee&&t.rr.rr===t)t=t.N;else if(t.K)for(t=t.K;t.N;)t=t.N;else{for(var e=t.rr;e.K===t;)e=(t=e).rr;t=e}return t},t.prototype.m=function(){var t=this;if(t.N){for(t=t.N;t.K;)t=t.K;return t}for(var e=t.rr;e.N===t;)e=(t=e).rr;return t.N!==e?e:t},t.prototype.ne=function(){var t=this.rr,e=this.N,r=e.K;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.K=this,this.rr=e,this.N=r,r&&(r.rr=this),e},t.prototype.te=function(){var t=this.rr,e=this.K,r=e.N;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.N=this,this.rr=e,this.K=r,r&&(r.rr=this),e},t}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tr=1,e}return i(e,t),e.prototype.ne=function(){var e=t.prototype.ne.call(this);return this.ie(),e.ie(),e},e.prototype.te=function(){var e=t.prototype.te.call(this);return this.ie(),e.ie(),e},e.prototype.ie=function(){this.tr=1,this.K&&(this.tr+=this.K.tr),this.N&&(this.tr+=this.N.tr)},e}(o),a=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=function(){function t(t){void 0===t&&(t=0),this.iteratorType=t}return t.prototype.equals=function(t){return this.o===t.o},t}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(function(){function t(){this.M=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.M},enumerable:!1,configurable:!0}),t.prototype.size=function(){return this.M},t.prototype.empty=function(){return 0===this.M},t}());function l(){throw new RangeError("Iterator access denied!")}var h=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const d=function(t){function e(e,r){void 0===e&&(e=function(t,e){return t<e?-1:t>e?1:0}),void 0===r&&(r=!1);var n=t.call(this)||this;return n.W=void 0,n.$=e,r?(n.re=s,n.v=function(t,e,r){var n=this.se(t,e,r);if(n){for(var i=n.rr;i!==this.h;)i.tr+=1,i=i.rr;var o=this.fe(n);if(o){var s=o,a=s.parentNode,c=s.grandParent,u=s.curNode;a.ie(),c.ie(),u.ie()}}return this.M},n.G=function(t){for(var e=this.he(t);e!==this.h;)e.tr-=1,e=e.rr}):(n.re=o,n.v=function(t,e,r){var n=this.se(t,e,r);return n&&this.fe(n),this.M},n.G=n.he),n.h=new n.re,n}return h(e,t),e.prototype.U=function(t,e){for(var r=this.h;t;){var n=this.$(t.u,e);if(n<0)t=t.N;else{if(!(n>0))return t;r=t,t=t.K}}return r},e.prototype.X=function(t,e){for(var r=this.h;t;)this.$(t.u,e)<=0?t=t.N:(r=t,t=t.K);return r},e.prototype.Y=function(t,e){for(var r=this.h;t;){var n=this.$(t.u,e);if(n<0)r=t,t=t.N;else{if(!(n>0))return t;t=t.K}}return r},e.prototype.Z=function(t,e){for(var r=this.h;t;)this.$(t.u,e)<0?(r=t,t=t.N):t=t.K;return r},e.prototype.ue=function(t){for(;;){var e,r=t.rr;if(r===this.h)return;if(1===t.ee)return void(t.ee=0);if(t===r.K)if(1===(e=r.N).ee)e.ee=0,r.ee=1,r===this.W?this.W=r.ne():r.ne();else{if(e.N&&1===e.N.ee)return e.ee=r.ee,r.ee=0,e.N.ee=0,void(r===this.W?this.W=r.ne():r.ne());e.K&&1===e.K.ee?(e.ee=1,e.K.ee=0,e.te()):(e.ee=1,t=r)}else if(1===(e=r.K).ee)e.ee=0,r.ee=1,r===this.W?this.W=r.te():r.te();else{if(e.K&&1===e.K.ee)return e.ee=r.ee,r.ee=0,e.K.ee=0,void(r===this.W?this.W=r.te():r.te());e.N&&1===e.N.ee?(e.ee=1,e.N.ee=0,e.ne()):(e.ee=1,t=r)}}},e.prototype.he=function(t){var e,r;if(1===this.M)return this.clear(),this.h;for(var n=t;n.K||n.N;){if(n.N)for(n=n.N;n.K;)n=n.K;else n=n.K;e=f([n.u,t.u],2),t.u=e[0],n.u=e[1],r=f([n.p,t.p],2),t.p=r[0],n.p=r[1],t=n}this.h.K===n?this.h.K=n.rr:this.h.N===n&&(this.h.N=n.rr),this.ue(n);var i=n.rr;return n===i.K?i.K=void 0:i.N=void 0,this.M-=1,this.W.ee=0,i},e.prototype.ae=function(t,e){return void 0!==t&&(!!this.ae(t.K,e)||!!e(t)||this.ae(t.N,e))},e.prototype.fe=function(t){for(;;){var e=t.rr;if(0===e.ee)return;var r=e.rr;if(e===r.K){if((n=r.N)&&1===n.ee){if(n.ee=e.ee=0,r===this.W)return;r.ee=1,t=r;continue}if(t===e.N)return t.ee=0,t.K&&(t.K.rr=e),t.N&&(t.N.rr=r),e.N=t.K,r.K=t.N,t.K=e,t.N=r,r===this.W?(this.W=t,this.h.rr=t):(i=r.rr).K===r?i.K=t:i.N=t,t.rr=r.rr,e.rr=t,r.rr=t,r.ee=1,{parentNode:e,grandParent:r,curNode:t};e.ee=0,r===this.W?this.W=r.te():r.te(),r.ee=1}else{var n,i;if((n=r.K)&&1===n.ee){if(n.ee=e.ee=0,r===this.W)return;r.ee=1,t=r;continue}if(t===e.K)return t.ee=0,t.K&&(t.K.rr=r),t.N&&(t.N.rr=e),r.N=t.K,e.K=t.N,t.K=r,t.N=e,r===this.W?(this.W=t,this.h.rr=t):(i=r.rr).K===r?i.K=t:i.N=t,t.rr=r.rr,e.rr=t,r.rr=t,r.ee=1,{parentNode:e,grandParent:r,curNode:t};e.ee=0,r===this.W?this.W=r.ne():r.ne(),r.ee=1}return}},e.prototype.se=function(t,e,r){if(void 0===this.W)return this.M+=1,this.W=new this.re(t,e),this.W.ee=0,this.W.rr=this.h,this.h.rr=this.W,this.h.K=this.W,void(this.h.N=this.W);var n,i=this.h.K,o=this.$(i.u,t);if(0!==o){if(o>0)i.K=new this.re(t,e),i.K.rr=i,n=i.K,this.h.K=n;else{var s=this.h.N,a=this.$(s.u,t);if(0===a)return void(s.p=e);if(a<0)s.N=new this.re(t,e),s.N.rr=s,n=s.N,this.h.N=n;else{if(void 0!==r){var c=r.o;if(c!==this.h){var u=this.$(c.u,t);if(0===u)return void(c.p=e);if(u>0){var l=c.L(),h=this.$(l.u,t);if(0===h)return void(l.p=e);h<0&&(n=new this.re(t,e),void 0===l.N?(l.N=n,n.rr=l):(c.K=n,n.rr=c))}}}if(void 0===n)for(n=this.W;;){var f=this.$(n.u,t);if(f>0){if(void 0===n.K){n.K=new this.re(t,e),n.K.rr=n,n=n.K;break}n=n.K}else{if(!(f<0))return void(n.p=e);if(void 0===n.N){n.N=new this.re(t,e),n.N.rr=n,n=n.N;break}n=n.N}}}}return this.M+=1,n}i.p=e},e.prototype.g=function(t,e){for(;t;){var r=this.$(t.u,e);if(r<0)t=t.N;else{if(!(r>0))return t;t=t.K}}return t||this.h},e.prototype.clear=function(){this.M=0,this.W=void 0,this.h.rr=void 0,this.h.K=this.h.N=void 0},e.prototype.updateKeyByIterator=function(t,e){var r=t.o;if(r===this.h&&l(),1===this.M)return r.u=e,!0;if(r===this.h.K)return this.$(r.m().u,e)>0&&(r.u=e,!0);if(r===this.h.N)return this.$(r.L().u,e)<0&&(r.u=e,!0);var n=r.L().u;if(this.$(n,e)>=0)return!1;var i=r.m().u;return!(this.$(i,e)<=0||(r.u=e,0))},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw new RangeError;var e=0,r=this;return this.ae(this.W,(function(n){return t===e?(r.G(n),!0):(e+=1,!1)})),this.M},e.prototype.eraseElementByKey=function(t){if(0===this.M)return!1;var e=this.g(this.W,t);return e!==this.h&&(this.G(e),!0)},e.prototype.eraseElementByIterator=function(t){var e=t.o;e===this.h&&l();var r=void 0===e.N;return 0===t.iteratorType?r&&t.next():r&&void 0!==e.K||t.next(),this.G(e),t},e.prototype.forEach=function(t){var e,r,n=0;try{for(var i=p(this),o=i.next();!o.done;o=i.next())t(o.value,n++,this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},e.prototype.getElementByPos=function(t){var e,r,n;if(t<0||t>this.M-1)throw new RangeError;var i=0;try{for(var o=p(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(i===t){n=a;break}i+=1}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},e.prototype.getHeight=function(){if(0===this.M)return 0;var t=function(e){return e?Math.max(t(e.K),t(e.N))+1:0};return t(this.W)},e}(u);var g=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const v=function(t){function e(e,r,n){var i=t.call(this,n)||this;return i.o=e,i.h=r,0===i.iteratorType?(i.pre=function(){return this.o===this.h.K&&l(),this.o=this.o.L(),this},i.next=function(){return this.o===this.h&&l(),this.o=this.o.m(),this}):(i.pre=function(){return this.o===this.h.N&&l(),this.o=this.o.m(),this},i.next=function(){return this.o===this.h&&l(),this.o=this.o.L(),this}),i}return g(e,t),Object.defineProperty(e.prototype,"index",{get:function(){var t=this.o,e=this.h.rr;if(t===this.h)return e?e.tr-1:0;var r=0;for(t.K&&(r+=t.K.tr);t!==e;){var n=t.rr;t===n.N&&(r+=1,n.K&&(r+=n.K.tr)),t=n}return r},enumerable:!1,configurable:!0}),e}(c);var m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return m(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&l(),this.o.u},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(v);const w=function(t){function e(e,r,n){void 0===e&&(e=[]);var i=t.call(this,r,n)||this,o=i;return e.forEach((function(t){o.insert(t)})),i}return m(e,t),e.prototype.P=function(t){return function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}(this,(function(e){switch(e.label){case 0:return void 0===t?[2]:[5,y(this.P(t.K))];case 1:return e.sent(),[4,t.u];case 2:return e.sent(),[5,y(this.P(t.N))];case 3:return e.sent(),[2]}}))},e.prototype.begin=function(){return new b(this.h.K||this.h,this.h,this)},e.prototype.end=function(){return new b(this.h,this.h,this)},e.prototype.rBegin=function(){return new b(this.h.N||this.h,this.h,this,1)},e.prototype.rEnd=function(){return new b(this.h,this.h,this,1)},e.prototype.front=function(){return this.h.K?this.h.K.u:void 0},e.prototype.back=function(){return this.h.N?this.h.N.u:void 0},e.prototype.insert=function(t,e){return this.v(t,void 0,e)},e.prototype.find=function(t){var e=this.g(this.W,t);return new b(e,this.h,this)},e.prototype.lowerBound=function(t){var e=this.U(this.W,t);return new b(e,this.h,this)},e.prototype.upperBound=function(t){var e=this.X(this.W,t);return new b(e,this.h,this)},e.prototype.reverseLowerBound=function(t){var e=this.Y(this.W,t);return new b(e,this.h,this)},e.prototype.reverseUpperBound=function(t){var e=this.Z(this.W,t);return new b(e,this.h,this)},e.prototype.union=function(t){var e=this;return t.forEach((function(t){e.insert(t)})),this.M},e.prototype[Symbol.iterator]=function(){return this.P(this.W)},e}(d)},68287:t=>{"use strict";t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Middleware stack must be an array!");for(const e of t)if("function"!=typeof e)throw new TypeError("Middleware must be composed of functions!");return function(e,r){let n=-1;return function i(o){if(o<=n)return Promise.reject(new Error("next() called multiple times"));n=o;let s=t[o];if(o===t.length&&(s=r),!s)return Promise.resolve();try{return Promise.resolve(s(e,i.bind(null,o+1)))}catch(t){return Promise.reject(t)}}(0)}}},70848:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},31392:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},29307:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}},48266:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(376),i=r(37947);const o=function(t,e){return t&&(0,n.A)(e,(0,i.A)(e),t)}},57737:(t,e,r)=>{"use strict";r.d(e,{A:()=>M});var n=r(29133),i=r(31392),o=r(16542),s=r(48266),a=r(376),c=r(74583);var u=r(65963),l=r(91810),h=r(49499);var f=r(54760);var p=r(62505),d=r(37138),g=r(92372),v=Object.prototype.hasOwnProperty;var m=r(53458);var y=/\w*$/;var b=r(38066),w=b.A?b.A.prototype:void 0,E=w?w.valueOf:void 0;var S=r(93672);const _=function(t,e,r){var n,i,o,s=t.constructor;switch(e){case"[object ArrayBuffer]":return(0,m.A)(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function(t,e){var r=e?(0,m.A)(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,S.A)(t,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return(o=new(i=t).constructor(i.source,y.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return n=t,E?Object(E.call(n)):{}}};var A=r(19164),T=r(39990),O=r(27917),P=r(41863),I=r(85356),C=r(10471),N=r(37947),k="[object Arguments]",x="[object Function]",R="[object Object]",D={};D[k]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[R]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[x]=D["[object WeakMap]"]=!1;const M=function t(e,r,m,y,b,w){var E,S=1&r,M=2&r,L=4&r;if(m&&(E=b?m(e,y,b,w):m(e)),void 0!==E)return E;if(!(0,I.A)(e))return e;var j=(0,T.A)(e);if(j){if(E=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&v.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!S)return(0,l.A)(e,E)}else{var B=(0,g.A)(e),F=B==x||"[object GeneratorFunction]"==B;if((0,O.A)(e))return(0,u.A)(e,S);if(B==R||B==k||F&&!b){if(E=M||F?{}:(0,A.A)(e),!S)return M?function(t,e){return(0,a.A)(t,(0,f.A)(t),e)}(e,function(t,e){return t&&(0,a.A)(e,(0,c.A)(e),t)}(E,e)):function(t,e){return(0,a.A)(t,(0,h.A)(t),e)}(e,(0,s.A)(E,e))}else{if(!D[B])return b?e:{};E=_(e,B,S)}}w||(w=new n.A);var U=w.get(e);if(U)return U;w.set(e,E),(0,C.A)(e)?e.forEach((function(n){E.add(t(n,r,m,n,e,w))})):(0,P.A)(e)&&e.forEach((function(n,i){E.set(i,t(n,r,m,i,e,w))}));var H=L?M?d.A:p.A:M?keysIn:N.A,G=j?void 0:H(e);return(0,i.A)(G||e,(function(n,i){G&&(n=e[i=n]),(0,o.A)(E,i,t(n,r,m,i,e,w))})),E}},21411:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(85356),i=Object.create;const o=function(){function t(){}return function(e){if(!(0,n.A)(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}()},64725:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(51194);const i=function(t,e){var r=[];return(0,n.A)(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}},97314:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},3684:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var n=r(70009),i=r(38066),o=r(91419),s=r(39990),a=i.A?i.A.isConcatSpreadable:void 0;const c=function(t){return(0,s.A)(t)||(0,o.A)(t)||!!(a&&t&&t[a])},u=function t(e,r,i,o,s){var a=-1,u=e.length;for(i||(i=c),s||(s=[]);++a<u;){var l=e[a];r>0&&i(l)?r>1?t(l,r-1,i,o,s):(0,n.A)(s,l):o||(s[s.length]=l)}return s}},82752:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(97314),i=r(6318);const o=function(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):(0,n.A)(t,i.A,r)}},6318:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t){return t!=t}},94871:(t,e,r)=>{"use strict";r.d(e,{A:()=>_});var n=r(29133),i=r(48657),o=r(24461);const s=function(t,e,r){(void 0!==r&&!(0,o.A)(t[e],r)||void 0===r&&!(e in t))&&(0,i.A)(t,e,r)};var a=r(11892),c=r(65963),u=r(93672),l=r(91810),h=r(19164),f=r(91419),p=r(39990),d=r(10654),g=r(27917),v=r(58807),m=r(85356),y=r(78696),b=r(12001);const w=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var E=r(96719);var S=r(74583);const _=function t(e,r,i,o,_){e!==r&&(0,a.A)(r,(function(a,S){if(_||(_=new n.A),(0,m.A)(a))!function(t,e,r,n,i,o,a){var S=w(t,r),_=w(e,r),A=a.get(_);if(A)s(t,r,A);else{var T=o?o(S,_,r+"",t,e,a):void 0,O=void 0===T;if(O){var P=(0,p.A)(_),I=!P&&(0,g.A)(_),C=!P&&!I&&(0,b.A)(_);T=_,P||I||C?(0,p.A)(S)?T=S:(0,d.A)(S)?T=(0,l.A)(S):I?(O=!1,T=(0,c.A)(_,!0)):C?(O=!1,T=(0,u.A)(_,!0)):T=[]:(0,y.A)(_)||(0,f.A)(_)?(T=S,(0,f.A)(S)?T=(0,E.A)(S):(0,m.A)(S)&&!(0,v.A)(S)||(T=(0,h.A)(_))):O=!1}O&&(a.set(_,T),i(T,_,n,o,a),a.delete(_)),s(t,r,T)}}(e,r,S,i,t,o,_);else{var A=o?o(w(e,S),a,S+"",e,r,_):void 0;void 0===A&&(A=a),s(e,S,A)}}),S.A)}},59821:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(46482),i=r(78912),o=Array.prototype.splice;const s=function(t,e){for(var r=t?e.length:0,s=r-1;r--;){var a=e[r];if(r==s||a!==c){var c=a;(0,i.A)(a)?o.call(t,a,1):(0,n.A)(t,a)}}return t}},62297:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}},55881:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(63077),i=r(29954),o=r(80285);const s=function(t,e){return(0,o.A)((0,i.A)(t,e,n.A),t+"")}},48929:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(98519);const i=function(t,e){return(0,n.A)(e,(function(e){return t[e]}))}},76253:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(63077);const i=function(t){return"function"==typeof t?t:n.A}},90179:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(2813);const i=function(t,e,r){var i=t.length;return r=void 0===r?i:r,!e&&r>=i?t:(0,n.A)(t,e,r)}},53458:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(92615);const i=function(t){var e=new t.constructor(t.byteLength);return new n.A(e).set(new n.A(t)),e}},65963:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var n=r(24606);t=r.hmd(t);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i?n.A.Buffer:void 0,a=s?s.allocUnsafe:void 0;const c=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}},93672:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(53458);const i=function(t,e){var r=e?(0,n.A)(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},91810:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},376:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(16542),i=r(48657);const o=function(t,e,r,o){var s=!r;r||(r={});for(var a=-1,c=e.length;++a<c;){var u=e[a],l=o?o(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),s?(0,i.A)(r,u,l):(0,n.A)(r,u,l)}return r}},56280:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(55881),i=r(31943);const o=function(t){return(0,n.A)((function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&(0,i.A)(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++n<o;){var c=r[n];c&&t(e,c,n,s)}return e}))}},88383:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(74033),i=r(29954),o=r(80285);const s=function(t){return(0,o.A)((0,i.A)(t,void 0,n.A),t+"")}},37138:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(45300),i=r(54760),o=r(74583);const s=function(t){return(0,n.A)(t,o.A,i.A)}},86848:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=(0,r(24630).A)(Object.getPrototypeOf,Object)},54760:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var n=r(70009),i=r(86848),o=r(49499),s=r(38058);const a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)(0,n.A)(e,(0,o.A)(t)),t=(0,i.A)(t);return e}:s.A},49625:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const i=function(t){return n.test(t)}},19164:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(21411),i=r(86848),o=r(690);const s=function(t){return"function"!=typeof t.constructor||(0,o.A)(t)?{}:(0,n.A)((0,i.A)(t))}},31943:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var n=r(24461),i=r(21585),o=r(78912),s=r(85356);const a=function(t,e,r){if(!(0,s.A)(r))return!1;var a=typeof e;return!!("number"==a?(0,i.A)(r)&&(0,o.A)(e,r.length):"string"==a&&e in r)&&(0,n.A)(r[e],t)}},29954:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(70848),i=Math.max;const o=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),c=Array(a);++s<a;)c[s]=o[e+s];s=-1;for(var u=Array(e+1);++s<e;)u[s]=o[s];return u[e]=r(c),(0,n.A)(t,this,u)}}},80285:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var n=r(33659),i=r(51348),o=r(63077);const s=i.A?function(t,e){return(0,i.A)(t,"toString",{configurable:!0,enumerable:!1,value:(0,n.A)(e),writable:!0})}:o.A,a=(0,r(57076).A)(s)},57076:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=Date.now;const i=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},38415:(t,e,r)=>{"use strict";r.d(e,{A:()=>v});var n=r(49625),i="\\ud800-\\udfff",o="["+i+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",c="[^"+i+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",h="(?:"+s+"|"+a+")?",f="[\\ufe0e\\ufe0f]?",p=f+h+"(?:\\u200d(?:"+[c,u,l].join("|")+")"+f+h+")*",d="(?:"+[c+s+"?",s,u,l,o].join("|")+")",g=RegExp(a+"(?="+a+")|"+d+p,"g");const v=function(t){return(0,n.A)(t)?function(t){return t.match(g)||[]}(t):function(t){return t.split("")}(t)}},97134:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(57737);const i=function(t){return(0,n.A)(t,4)}},73372:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(57737);const i=function(t){return(0,n.A)(t,5)}},34798:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i}},33659:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t){return function(){return t}}},92720:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var n=r(85356),i=r(90943),o=r(31155),s=Math.max,a=Math.min;const c=function(t,e,r){var c,u,l,h,f,p,d=0,g=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var r=c,n=u;return c=u=void 0,d=e,h=t.apply(n,r)}function b(t){var r=t-p;return void 0===p||r>=e||r<0||v&&t-d>=l}function w(){var t=(0,i.A)();if(b(t))return E(t);f=setTimeout(w,function(t){var r=e-(t-p);return v?a(r,l-(t-d)):r}(t))}function E(t){return f=void 0,m&&c?y(t):(c=u=void 0,h)}function S(){var t=(0,i.A)(),r=b(t);if(c=arguments,u=this,p=t,r){if(void 0===f)return function(t){return d=t,f=setTimeout(w,e),g?y(t):h}(p);if(v)return clearTimeout(f),f=setTimeout(w,e),y(p)}return void 0===f&&(f=setTimeout(w,e)),h}return e=(0,o.A)(e)||0,(0,n.A)(r)&&(g=!!r.leading,l=(v="maxWait"in r)?s((0,o.A)(r.maxWait)||0,e):l,m="trailing"in r?!!r.trailing:m),S.cancel=function(){void 0!==f&&clearTimeout(f),d=0,c=p=u=f=void 0},S.flush=function(){return void 0===f?h:E((0,i.A)())},S}},97133:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var n=r(89191),i=r(64725),o=r(48870),s=r(39990);const a=function(t,e){return((0,s.A)(t)?n.A:i.A)(t,(0,o.A)(e,3))}},74033:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(3684);const i=function(t){return null!=t&&t.length?(0,n.A)(t,1):[]}},69769:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var n=r(31392),i=r(51194),o=r(76253),s=r(39990);const a=function(t,e){return((0,s.A)(t)?n.A:i.A)(t,(0,o.A)(e))}},85610:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(49858),i=r(76253);const o=function(t,e){return t&&(0,n.A)(t,(0,i.A)(e))}},60796:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=Object.prototype.hasOwnProperty;const i=function(t,e){return null!=t&&n.call(t,e)};var o=r(64491);const s=function(t,e){return null!=t&&(0,o.A)(t,e,i)}},69606:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var n=r(82752),i=r(21585),o=r(86378),s=r(29914),a=r(27785),c=Math.max;const u=function(t,e,r,u){t=(0,i.A)(t)?t:(0,a.A)(t),r=r&&!u?(0,s.A)(r):0;var l=t.length;return r<0&&(r=c(l+r,0)),(0,o.A)(t)?r<=l&&t.indexOf(e,r)>-1:!!l&&(0,n.A)(t,e,r)>-1}},10654:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(21585),i=r(53315);const o=function(t){return(0,i.A)(t)&&(0,n.A)(t)}},41863:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var n=r(92372),i=r(53315);var o=r(26132),s=r(89986),a=s.A&&s.A.isMap;const c=a?(0,o.A)(a):function(t){return(0,i.A)(t)&&"[object Map]"==(0,n.A)(t)}},78696:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var n=r(74376),i=r(86848),o=r(53315),s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,l=c.call(Object);const h=function(t){if(!(0,o.A)(t)||"[object Object]"!=(0,n.A)(t))return!1;var e=(0,i.A)(t);if(null===e)return!0;var r=u.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},12016:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var n=r(74376),i=r(53315);var o=r(26132),s=r(89986),a=s.A&&s.A.isRegExp;const c=a?(0,o.A)(a):function(t){return(0,i.A)(t)&&"[object RegExp]"==(0,n.A)(t)}},10471:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var n=r(92372),i=r(53315);var o=r(26132),s=r(89986),a=s.A&&s.A.isSet;const c=a?(0,o.A)(a):function(t){return(0,i.A)(t)&&"[object Set]"==(0,n.A)(t)}},86378:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(74376),i=r(39990),o=r(53315);const s=function(t){return"string"==typeof t||!(0,i.A)(t)&&(0,o.A)(t)&&"[object String]"==(0,n.A)(t)}},89523:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(t){return void 0===t}},74583:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var n=r(51510),i=r(85356),o=r(690);var s=Object.prototype.hasOwnProperty;const a=function(t){if(!(0,i.A)(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=(0,o.A)(t),r=[];for(var n in t)("constructor"!=n||!e&&s.call(t,n))&&r.push(n);return r};var c=r(21585);const u=function(t){return(0,c.A)(t)?(0,n.A)(t,!0):a(t)}},58419:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(94871);const i=(0,r(56280).A)((function(t,e,r){(0,n.A)(t,e,r)}))},42111:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});const n=function(){}},90943:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(24606);const i=function(){return n.A.Date.now()}},75420:(t,e,r)=>{"use strict";r.d(e,{A:()=>f});var n=r(98519),i=r(57737),o=r(46482),s=r(88662),a=r(376),c=r(78696);const u=function(t){return(0,c.A)(t)?void 0:t};var l=r(88383),h=r(37138);const f=(0,l.A)((function(t,e){var r={};if(null==t)return r;var c=!1;e=(0,n.A)(e,(function(e){return e=(0,s.A)(e,t),c||(c=e.length>1),e})),(0,a.A)(t,(0,h.A)(t),r),c&&(r=(0,i.A)(r,7,u));for(var l=e.length;l--;)(0,o.A)(r,e[l]);return r}))},53617:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var n=r(29307),i=r(51194),o=r(48870),s=r(62297),a=r(39990);const c=function(t,e,r){var c=(0,a.A)(t)?n.A:s.A,u=arguments.length<3;return c(t,(0,o.A)(e,4),r,u,i.A)}},53047:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(48870),i=r(59821);const o=function(t,e){var r=[];if(!t||!t.length)return r;var o=-1,s=[],a=t.length;for(e=(0,n.A)(e,3);++o<a;){var c=t[o];e(c,o,t)&&(r.push(c),s.push(o))}return(0,i.A)(t,s),r}},23623:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(29319);const i=function(t,e,r,i){return i="function"==typeof i?i:void 0,null==t?t:(0,n.A)(t,e,r,i)}},33747:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var n=r(95345),i=r(48870),o=r(51194);const s=function(t,e){var r;return(0,o.A)(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r};var a=r(39990),c=r(31943);const u=function(t,e,r){var o=(0,a.A)(t)?n.A:s;return r&&(0,c.A)(t,e,r)&&(e=void 0),o(t,(0,i.A)(e,3))}},88396:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var n=r(49027),i=r(90179),o=r(49625),s=r(31943),a=r(12016),c=r(38415),u=r(8587);const l=function(t,e,r){return r&&"number"!=typeof r&&(0,s.A)(t,e,r)&&(e=r=void 0),(r=void 0===r?4294967295:r>>>0)?(t=(0,u.A)(t))&&("string"==typeof e||null!=e&&!(0,a.A)(e))&&!(e=(0,n.A)(e))&&(0,o.A)(t)?(0,i.A)((0,c.A)(t),0,r):t.split(e,r):[]}},21043:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(92720),i=r(85356);const o=function(t,e,r){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,i.A)(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),(0,n.A)(t,e,{leading:o,maxWait:e,trailing:s})}},19909:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(31155),i=1/0;const o=function(t){return t?(t=(0,n.A)(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},29914:(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r(19909);const i=function(t){var e=(0,n.A)(t),r=e%1;return e==e?r?e-r:e:0}},31155:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var n=r(85356),i=r(62579),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;const l=function(t){if("number"==typeof t)return t;if((0,i.A)(t))return NaN;if((0,n.A)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,n.A)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=a.test(t);return r||c.test(t)?u(t.slice(2),r?2:8):s.test(t)?NaN:+t}},92565:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var n=r(98519),i=r(91810),o=r(39990),s=r(62579),a=r(36079),c=r(43512),u=r(8587);const l=function(t){return(0,o.A)(t)?(0,n.A)(t,c.A):(0,s.A)(t)?[t]:(0,i.A)((0,a.A)((0,u.A)(t)))}},96719:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(376),i=r(74583);const o=function(t){return(0,n.A)(t,(0,i.A)(t))}},27785:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(48929),i=r(37947);const o=function(t){return null==t?[]:(0,n.A)(t,(0,i.A)(t))}},38859:(t,e,r)=>{var n=r(53661),i=r(31380),o=r(51459);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},37217:(t,e,r)=>{var n=r(80079),i=r(51420),o=r(90938),s=r(63605),a=r(29817),c=r(80945);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,t.exports=u},37828:(t,e,r)=>{var n=r(9325).Uint8Array;t.exports=n},79770:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}},70695:(t,e,r)=>{var n=r(55715),i=r(72428),o=r(56449),s=r(3656),a=r(30361),c=r(37167),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),l=!r&&i(t),h=!r&&!l&&s(t),f=!r&&!l&&!h&&c(t),p=r||l||h||f,d=p?n(t.length,String):[],g=d.length;for(var v in t)!e&&!u.call(t,v)||p&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,g))||d.push(v);return d}},14528:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},14248:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},82199:(t,e,r)=>{var n=r(14528),i=r(56449);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},60270:(t,e,r)=>{var n=r(87068),i=r(40346);t.exports=function t(e,r,o,s,a){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,s,t,a))}},87068:(t,e,r)=>{var n=r(37217),i=r(25911),o=r(21986),s=r(50689),a=r(5861),c=r(56449),u=r(3656),l=r(37167),h="[object Arguments]",f="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,v,m){var y=c(t),b=c(e),w=y?f:a(t),E=b?f:a(e),S=(w=w==h?p:w)==p,_=(E=E==h?p:E)==p,A=w==E;if(A&&u(t)){if(!u(e))return!1;y=!0,S=!1}if(A&&!S)return m||(m=new n),y||l(t)?i(t,e,r,g,v,m):o(t,e,w,r,g,v,m);if(!(1&r)){var T=S&&d.call(t,"__wrapped__"),O=_&&d.call(e,"__wrapped__");if(T||O){var P=T?t.value():t,I=O?e.value():e;return m||(m=new n),v(P,I,r,g,m)}}return!!A&&(m||(m=new n),s(t,e,r,g,v,m))}},55715:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},19219:t=>{t.exports=function(t,e){return t.has(e)}},25911:(t,e,r)=>{var n=r(38859),i=r(14248),o=r(19219);t.exports=function(t,e,r,s,a,c){var u=1&r,l=t.length,h=e.length;if(l!=h&&!(u&&h>l))return!1;var f=c.get(t),p=c.get(e);if(f&&p)return f==e&&p==t;var d=-1,g=!0,v=2&r?new n:void 0;for(c.set(t,e),c.set(e,t);++d<l;){var m=t[d],y=e[d];if(s)var b=u?s(y,m,d,e,t,c):s(m,y,d,t,e,c);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(m===t||a(m,t,r,s,c)))return v.push(e)}))){g=!1;break}}else if(m!==y&&!a(m,y,r,s,c)){g=!1;break}}return c.delete(t),c.delete(e),g}},21986:(t,e,r)=>{var n=r(51873),i=r(37828),o=r(75288),s=r(25911),a=r(20317),c=r(84247),u=n?n.prototype:void 0,l=u?u.valueOf:void 0;t.exports=function(t,e,r,n,u,h,f){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":var d=1&n;if(p||(p=c),t.size!=e.size&&!d)return!1;var g=f.get(t);if(g)return g==e;n|=2,f.set(t,e);var v=s(p(t),p(e),n,u,h,f);return f.delete(t),v;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},50689:(t,e,r)=>{var n=r(50002),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,s,a){var c=1&r,u=n(t),l=u.length;if(l!=n(e).length&&!c)return!1;for(var h=l;h--;){var f=u[h];if(!(c?f in e:i.call(e,f)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=c;++h<l;){var m=t[f=u[h]],y=e[f];if(o)var b=c?o(y,m,f,e,t,a):o(m,y,f,t,e,a);if(!(void 0===b?m===y||s(m,y,r,o,a):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=t.constructor,E=e.constructor;w==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(t),a.delete(e),g}},50002:(t,e,r)=>{var n=r(82199),i=r(4664),o=r(95950);t.exports=function(t){return n(t,o,i)}},4664:(t,e,r)=>{var n=r(79770),i=r(63345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},30361:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},20317:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},31380:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},51459:t=>{t.exports=function(t){return this.__data__.has(t)}},84247:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},51420:(t,e,r)=>{var n=r(80079);t.exports=function(){this.__data__=new n,this.size=0}},90938:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},63605:t=>{t.exports=function(t){return this.__data__.get(t)}},29817:t=>{t.exports=function(t){return this.__data__.has(t)}},80945:(t,e,r)=>{var n=r(80079),i=r(68223),o=r(53661);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},2404:(t,e,r)=>{var n=r(60270);t.exports=function(t,e){return n(t,e)}},95950:(t,e,r)=>{var n=r(70695),i=r(88984),o=r(64894);t.exports=function(t){return o(t)?n(t):i(t)}},63345:t=>{t.exports=function(){return[]}},69749:(t,e,r)=>{"use strict";const n=r(28799),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),d=()=>1,g=(t,e,r)=>{const n=t[f].get(e);if(n){const e=n.value;if(v(t,e)){if(y(t,n),!t[a])return}else r&&(t[p]&&(n.value.now=Date.now()),t[h].unshiftNode(n));return e.value}},v=(t,e)=>{if(!e||!e.maxAge&&!t[c])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[c]&&r>t[c]},m=t=>{if(t[o]>t[i])for(let e=t[h].tail;t[o]>t[i]&&null!==e;){const r=e.prev;y(t,e),e=r}},y=(t,e)=>{if(e){const r=e.value;t[u]&&t[u](r.key,r.value),t[o]-=r.length,t[f].delete(r.key),t[h].removeNode(e)}};class b{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const w=(t,e,r,n)=>{let i=r.value;v(t,i)&&(y(t,r),t[a]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||d;if(this[s]="function"!=typeof e?d:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[c]=t.maxAge||0,this[u]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[p]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,m(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[c]=t,m(this)}get maxAge(){return this[c]}set lengthCalculator(t){"function"!=typeof t&&(t=d),t!==this[s]&&(this[s]=t,this[o]=0,this[h].forEach((t=>{t.length=this[s](t.value,t.key),this[o]+=t.length}))),m(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(t,e){e=e||this;for(let r=this[h].tail;null!==r;){const n=r.prev;w(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[h].head;null!==r;){const n=r.next;w(this,t,r,e),r=n}}keys(){return this[h].toArray().map((t=>t.key))}values(){return this[h].toArray().map((t=>t.value))}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach((t=>this[u](t.key,t.value))),this[f]=new Map,this[h]=new n,this[o]=0}dump(){return this[h].map((t=>!v(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[h]}set(t,e,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](e,t);if(this[f].has(t)){if(a>this[i])return y(this,this[f].get(t)),!1;const s=this[f].get(t).value;return this[u]&&(this[l]||this[u](t,s.value)),s.now=n,s.maxAge=r,s.value=e,this[o]+=a-s.length,s.length=a,this.get(t),m(this),!0}const p=new b(t,e,a,n,r);return p.length>this[i]?(this[u]&&this[u](t,e),!1):(this[o]+=p.length,this[h].unshift(p),this[f].set(t,this[h].head),m(this),!0)}has(t){if(!this[f].has(t))return!1;const e=this[f].get(t).value;return!v(this,e)}get(t){return g(this,t,!0)}peek(t){return g(this,t,!1)}pop(){const t=this[h].tail;return t?(y(this,t),t.value):null}del(t){y(this,this[f].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[f].forEach(((t,e)=>g(this,e,!1)))}}},28775:(t,e,r)=>{"use strict";var n=r(48712),i=n.escapeXML,o=n.escapeXMLText,s=r(83255),a=s.equal,c=s.name,u=s.attrs,l=s.children,h=r(43942);function f(t,e){this.name=t,this.parent=null,this.children=[],this.attrs={},this.setAttrs(e)}f.prototype.is=function(t,e){return this.getName()===t&&(!e||this.getNS()===e)},f.prototype.getName=function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name},f.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var t=this.name.substr(0,this.name.indexOf(":"));return this.findNS(t)}return this.findNS()},f.prototype.findNS=function(t){if(t){var e="xmlns:"+t;if(this.attrs[e])return this.attrs[e];if(this.parent)return this.parent.findNS(t)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}},f.prototype.getXmlns=function(){var t={};for(var e in this.parent&&(t=this.parent.getXmlns()),this.attrs){var r=e.match("xmlns:?(.*)");this.attrs.hasOwnProperty(e)&&r&&(t[this.attrs[e]]=r[1])}return t},f.prototype.setAttrs=function(t){"string"==typeof t?this.attrs.xmlns=t:t&&Object.keys(t).forEach((function(e){this.attrs[e]=t[e]}),this)},f.prototype.getAttr=function(t,e){if(!e)return this.attrs[t];var r=this.getXmlns();return r[e]?this.attrs[[r[e],t].join(":")]:null},f.prototype.getChild=function(t,e){return this.getChildren(t,e)[0]},f.prototype.getChildren=function(t,e){for(var r=[],n=0;n<this.children.length;n++){var i=this.children[n];!i.getName||i.getName()!==t||e&&i.getNS()!==e||r.push(i)}return r},f.prototype.getChildByAttr=function(t,e,r,n){return this.getChildrenByAttr(t,e,r,n)[0]},f.prototype.getChildrenByAttr=function(t,e,r,n){for(var i=[],o=0;o<this.children.length;o++){var s=this.children[o];!s.attrs||s.attrs[t]!==e||r&&s.getNS()!==r||i.push(s),n&&s.getChildrenByAttr&&i.push(s.getChildrenByAttr(t,e,r,!0))}return n&&(i=[].concat.apply([],i)),i},f.prototype.getChildrenByFilter=function(t,e){for(var r=[],n=0;n<this.children.length;n++){var i=this.children[n];t(i)&&r.push(i),e&&i.getChildrenByFilter&&r.push(i.getChildrenByFilter(t,!0))}return e&&(r=[].concat.apply([],r)),r},f.prototype.getText=function(){for(var t="",e=0;e<this.children.length;e++){var r=this.children[e];"string"!=typeof r&&"number"!=typeof r||(t+=r)}return t},f.prototype.getChildText=function(t,e){var r=this.getChild(t,e);return r?r.getText():null},f.prototype.getChildElements=function(){return this.getChildrenByFilter((function(t){return t instanceof f}))},f.prototype.root=function(){return this.parent?this.parent.root():this},f.prototype.tree=f.prototype.root,f.prototype.up=function(){return this.parent?this.parent:this},f.prototype.c=function(t,e){return this.cnode(new f(t,e))},f.prototype.cnode=function(t){return this.children.push(t),"object"==typeof t&&(t.parent=this),t},f.prototype.t=function(t){return this.children.push(t),this},f.prototype.remove=function(t,e){var r;return r="string"==typeof t?function(r){return!(r.is&&r.is(t,e))}:function(e){return e!==t},this.children=this.children.filter(r),this},f.prototype.clone=function(){return h(this)},f.prototype.text=function(t){return t&&1===this.children.length?(this.children[0]=t,this):this.getText()},f.prototype.attr=function(t,e){return void 0!==e||null===e?(this.attrs||(this.attrs={}),this.attrs[t]=e,this):this.attrs[t]},f.prototype.toString=function(){var t="";return this.write((function(e){t+=e})),t},f.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map((function(t){return t&&t.toJSON?t.toJSON():t}))}},f.prototype._addChildren=function(t){t(">");for(var e=0;e<this.children.length;e++){var r=this.children[e];(r||0===r)&&(r.write?r.write(t):"string"==typeof r?t(o(r)):r.toString&&t(o(r.toString(10))))}t("</"),t(this.name),t(">")},f.prototype.write=function(t){for(var e in t("<"),t(this.name),this.attrs){var r=this.attrs[e];null!=r&&(t(" "),t(e),t('="'),"string"!=typeof r&&(r=r.toString()),t(i(r)),t('"'))}0===this.children.length?t("/>"):this._addChildren(t)},f.prototype.nameEquals=function(t){return c(this,t)},f.prototype.attrsEquals=function(t){return u(this,t)},f.prototype.childrenEquals=function(t){return l(this,t)},f.prototype.equals=function(t){return a(this,t)},t.exports=f},43942:t=>{"use strict";t.exports=function(t){for(var e=new t.constructor(t.name,t.attrs),r=0;r<t.children.length;r++){var n=t.children[r];e.cnode(n.clone?n.clone():n)}return e}},83255:t=>{"use strict";function e(t,e){return t.name===e.name}function r(t,e){var r=t.attrs,n=Object.keys(r),i=n.length;if(i!==Object.keys(e.attrs).length)return!1;for(var o=0,s=i;o<s;o++){var a=n[o],c=r[a];if(null==c||null==e.attrs[a]){if(c!==e.attrs[a])return!1}else if(c.toString()!==e.attrs[a].toString())return!1}return!0}function n(t,e){var r=t.children,n=r.length;if(n!==e.children.length)return!1;for(var i=0,o=n;i<o;i++){var s=r[i];if("string"==typeof s){if(s!==e.children[i])return!1}else if(!s.equals(e.children[i]))return!1}return!0}t.exports.name=e,t.exports.attrs=r,t.exports.children=n,t.exports.equal=function(t,i){return!!e(t,i)&&!!r(t,i)&&!!n(t,i)}},48712:(t,e)=>{"use strict";var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function n(t){return r[t]}var i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"};function o(t){if("#"===t[1]){var e;if(9===(e="x"===t[2]?parseInt(t.slice(3),16):parseInt(t.slice(2),10))||10===e||13===e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111)return String.fromCodePoint(e);throw new Error("Illegal XML character 0x"+e.toString(16))}if(i[t])return i[t]||t;throw new Error("Illegal XML entity "+t)}e.escapeXML=function(t){return t.replace(/&|<|>|"|'/g,n)},e.unescapeXML=function(t){for(var e="",r=-1,n=-1,i=0;-1!==(r=t.indexOf("&",i))&&-1!==(n=t.indexOf(";",r+1));)e=e+t.substring(i,r)+o(t.substring(r,n+1)),i=n+1;return 0===i?t:e+=t.substring(i)},e.escapeXMLText=function(t){return t.replace(/&|<|>/g,n)},e.unescapeXMLText=function(t){return t.replace(/&(amp|#38|lt|#60|gt|#62);/g,o)}},39416:(t,e,r)=>{"use strict";var n=r(56698),i=r(37007).EventEmitter,o=r(48712).unescapeXML,s=t.exports=function(){i.call(this);var t,e,r,n,s,a,c,u,l=0,h=0;this._handleTagOpening=function(t,e,r){t?this.emit("endElement",e):(this.emit("startElement",e,r),s&&this.emit("endElement",e))},this.write=function(i){"string"!=typeof i&&(i=i.toString());var f=0;function p(){if("number"==typeof h){var t=i.substring(h,f);return h=void 0,t}}for(t&&(i=t+i,f+=t.length,t=null);f<i.length;f++){if(0===l){var d=i.indexOf("<",f);-1!==d&&f!==d&&(f=d)}else if(8===l){var g=i.indexOf(c,f);-1!==g&&(f=g)}else if(1===l){var v=i.indexOf("--\x3e",f);-1!==v&&(f=v+2)}else if(10===l){var m=i.indexOf("]]>",f);-1!==m&&(f=m+2)}var y=i.charCodeAt(f);switch(l){case 0:if(60===y){var b=p();b&&this.emit("text",o(b)),l=3,h=f+1,r={}}break;case 9:if(93===y&&"]>"===i.substr(f+1,2)){var w=p();w&&this.emit("text",w),l=0}break;case 3:47===y&&h===f?(h=f+1,n=!0):33===y?"[CDATA["===i.substr(f+1,7)?(h=f+8,l=9):(h=void 0,l=1):63===y?(h=void 0,l=2):(y<=32||47===y||62===y)&&(e=p(),f--,l=4);break;case 1:if(62===y){var E=i.charCodeAt(f-1),S=i.charCodeAt(f-2);(45===E&&45===S||93===E&&93===S)&&(l=0)}break;case 2:62===y&&63===i.charCodeAt(f-1)&&(l=0);break;case 4:62===y?(this._handleTagOpening(n,e,r),e=void 0,r=void 0,n=void 0,s=void 0,l=0,h=f+1):47===y?s=!0:y>32&&(h=f,l=5);break;case 5:(y<=32||61===y)&&(u=p(),f--,l=6);break;case 6:61===y&&(l=7);break;case 7:34!==y&&39!==y||(a=y,c=34===y?'"':"'",l=8,h=f+1);break;case 8:if(y===a){var _=o(p());r[u]=_,u=void 0,l=4}}}"number"==typeof h&&h<=i.length&&(t=i.slice(h),h=0)}};n(s,i),s.prototype.end=function(t){t&&this.write(t),this.write=function(){}}},71514:t=>{"use strict";t.exports=Math.abs},58968:t=>{"use strict";t.exports=Math.floor},94459:t=>{"use strict";t.exports=Number.isNaN||function(t){return t!=t}},6188:t=>{"use strict";t.exports=Math.max},68002:t=>{"use strict";t.exports=Math.min},75880:t=>{"use strict";t.exports=Math.pow},70414:t=>{"use strict";t.exports=Math.round},73093:(t,e,r)=>{"use strict";var n=r(94459);t.exports=function(t){return n(t)||0===t?t:t<0?-1:1}},55399:t=>{const e=t.exports;e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.codes={};for(const t in e.types){const r=e.types[t];e.codes[r]=t}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=Buffer.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=Buffer.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=Buffer.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(const t in e.properties){const r=e.properties[t];e.propertiesCodes[r]=t}function r(t){return[0,1,2].map((r=>[0,1].map((n=>[0,1].map((i=>{const o=Buffer.alloc(1);return o.writeUInt8(e.codes[t]<<e.CMD_SHIFT|(n?e.DUP_MASK:0)|r<<e.QOS_SHIFT|i,0,!0),o}))))))}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},e.PUBLISH_HEADER=r("publish"),e.SUBSCRIBE_HEADER=r("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=r("unsubscribe"),e.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},e.SUBACK_HEADER=Buffer.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=Buffer.from([3]),e.VERSION4=Buffer.from([4]),e.VERSION5=Buffer.from([5]),e.VERSION131=Buffer.from([131]),e.VERSION132=Buffer.from([132]),e.QOS=[0,1,2].map((t=>Buffer.from([t]))),e.EMPTY={pingreq:Buffer.from([e.codes.pingreq<<4,0]),pingresp:Buffer.from([e.codes.pingresp<<4,0]),disconnect:Buffer.from([e.codes.disconnect<<4,0])}},22535:(t,e,r)=>{const n=r(23132),i=r(37007);class o extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(t){return this._array[this._i++]=t,!0}concat(){let t=0;const e=new Array(this._array.length),r=this._array;let n,i=0;for(n=0;n<r.length&&void 0!==r[n];n++)"string"!=typeof r[n]?e[n]=r[n].length:e[n]=Buffer.byteLength(r[n]),t+=e[n];const o=Buffer.allocUnsafe(t);for(n=0;n<r.length&&void 0!==r[n];n++)"string"!=typeof r[n]?(r[n].copy(o,i),i+=e[n]):(o.write(r[n],i),i+=e[n]);return o}}t.exports=function(t,e){const r=new o;return n(t,r,e),r.concat()}},11278:(t,e,r)=>{e.parser=r(73079).parser,e.generate=r(22535),e.writeToStream=r(23132)},76172:t=>{const e={},r=Buffer.isBuffer(Buffer.from([1,2]).subarray(0,1));function n(t){const e=Buffer.allocUnsafe(2);return e.writeUInt8(t>>8,0),e.writeUInt8(255&t,1),e}t.exports={cache:e,generateCache:function(){for(let t=0;t<65536;t++)e[t]=n(t)},generateNumber:n,genBufVariableByteInt:function(t){let e=0,n=0;const i=Buffer.allocUnsafe(4);do{e=t%128|0,(t=t/128|0)>0&&(e|=128),i.writeUInt8(e,n++)}while(t>0&&n<4);return t>0&&(n=0),r?i.subarray(0,n):i.slice(0,n)},generate4ByteBuffer:function(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(t,0),e}}},60576:t=>{t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},73079:(t,e,r)=>{const n=r(44829),i=r(37007),o=r(60576),s=r(55399),a=r(17833)("mqtt-packet:parser");class c extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof c?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new c).parser(t)}_resetState(){a("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=n(),this._stateCounter=0}parse(t){for(this.error&&this._resetState(),this._list.append(t),a("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a("parse: state complete. _stateCounter is now: %d",this._stateCounter),a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const t=this._list.readUInt8(0);return this.packet.cmd=s.types[t>>s.CMD_SHIFT],this.packet.retain=!!(t&s.RETAIN_MASK),this.packet.qos=t>>s.QOS_SHIFT&s.QOS_MASK,this.packet.dup=!!(t&s.DUP_MASK),a("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const t=this._parseVarByteNum(!0);return t&&(this.packet.length=t.value,this._list.consume(t.bytes)),a("_parseLength %d",t.value),!!t}_parsePayload(){a("_parsePayload: payload %O",this._list);let t=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}t=!0}return a("_parsePayload complete result: %s",t),t}_parseConnect(){let t,e,r,n;a("_parseConnect");const i={},o=this.packet,c=this._parseString();if(null===c)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==c&&"MQIsdp"!==c)return this._emitError(new Error("Invalid protocolId"));if(o.protocolId=c,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(i.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT),o.clean=!!(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error("Packet too short"));if(5===o.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(o.properties=t)}const u=this._parseString();if(null===u)return this._emitError(new Error("Packet too short"));if(o.clientId=u,a("_parseConnect: packet.clientId: %s",o.clientId),i.will){if(5===o.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(o.will.properties=t)}if(t=this._parseString(),null===t)return this._emitError(new Error("Cannot parse will topic"));if(o.will.topic=t,a("_parseConnect: packet.will.topic: %s",o.will.topic),e=this._parseBuffer(),null===e)return this._emitError(new Error("Cannot parse will payload"));o.will.payload=e,a("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(i.username){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse username"));o.username=n,a("_parseConnect: packet.username: %s",o.username)}if(i.password){if(r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse password"));o.password=r}return this.settings=o,a("_parseConnect: complete"),o}_parseConnack(){a("_parseConnack");const t=this.packet;if(this._list.length<1)return null;if(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&s.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?t.reasonCode=this._list.readUInt8(this._pos++):t.reasonCode=0;else{if(this._list.length<2)return null;t.returnCode=this._list.readUInt8(this._pos++)}if(-1===t.returnCode||-1===t.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}a("_parseConnack: complete")}_parsePublish(){a("_parsePublish");const t=this.packet;if(t.topic=this._parseString(),null===t.topic)return this._emitError(new Error("Cannot parse topic"));if(!(t.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}t.payload=this._list.slice(this._pos,t.length),a("_parsePublish: payload from buffer list: %o",t.payload)}}_parseSubscribe(){a("_parseSubscribe");const t=this.packet;let e,r,n,i,o,c,u;if(1!==t.qos)return this._emitError(new Error("Wrong subscribe header"));if(t.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<t.length;){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=t.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=this._parseByte(),n=r&s.SUBSCRIBE_OPTIONS_QOS_MASK,c=!!(r>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK),o=!!(r>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK),i=r>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,u={topic:e,qos:n},5===this.settings.protocolVersion?(u.nl=c,u.rap=o,u.rh=i):this.settings.bridgeMode&&(u.rh=0,u.rap=!0,u.nl=!0),a("_parseSubscribe: push subscription `%s` to subscription",u),t.subscriptions.push(u)}}}_parseSuback(){a("_parseSuback");const t=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){a("_parseUnsubscribe");const t=this.packet;if(t.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<t.length;){const e=this._parseString();if(null===e)return this._emitError(new Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",e),t.unsubscriptions.push(e)}}}_parseUnsuback(){a("_parseUnsuback");const t=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const e=this._parseProperties();for(Object.getOwnPropertyNames(e).length&&(t.properties=e),t.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const t=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(t.length>2?(t.reasonCode=this._parseByte(),a("_parseConfirmation: packet.reasonCode `%d`",t.reasonCode)):t.reasonCode=0,t.length>3)){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return!0}_parseDisconnect(){const t=this.packet;if(a("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?t.reasonCode=this._parseByte():t.reasonCode=0;const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return a("_parseDisconnect result: true"),!0}_parseAuth(){a("_parseAuth");const t=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));t.reasonCode=this._parseByte();const e=this._parseProperties();return Object.getOwnPropertyNames(e).length&&(t.properties=e),a("_parseAuth: result: true"),!0}_parseMessageId(){const t=this.packet;return t.messageId=this._parseNum(),null===t.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(a("_parseMessageId: packet.messageId %d",t.messageId),!0)}_parseString(t){const e=this._parseNum(),r=e+this._pos;if(-1===e||r>this._list.length||r>this.packet.length)return null;const n=this._list.toString("utf8",this._pos,r);return this._pos+=e,a("_parseString: result: %s",n),n}_parseStringPair(){return a("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const t=this._parseNum(),e=t+this._pos;if(-1===t||e>this._list.length||e>this.packet.length)return null;const r=this._list.slice(this._pos,e);return this._pos+=t,a("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;const t=this._list.readUInt16BE(this._pos);return this._pos+=2,a("_parseNum: result: %s",t),t}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const t=this._list.readUInt32BE(this._pos);return this._pos+=4,a("_parse4ByteNum: result: %s",t),t}_parseVarByteNum(t){a("_parseVarByteNum");let e,r=0,n=1,i=0,o=!1;const c=this._pos?this._pos:0;for(;r<4&&c+r<this._list.length;){if(e=this._list.readUInt8(c+r++),i+=n*(e&s.VARBYTEINT_MASK),n*=128,!(e&s.VARBYTEINT_FIN_MASK)){o=!0;break}if(this._list.length<=r)break}return!o&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),c&&(this._pos+=r),o=!!o&&(t?{bytes:r,value:i}:i),a("_parseVarByteNum: result: %o",o),o}_parseByte(){let t;return this._pos<this._list.length&&(t=this._list.readUInt8(this._pos),this._pos++),a("_parseByte: result: %o",t),t}_parseByType(t){switch(a("_parseByType: type: %s",t),t){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){a("_parseProperties");const t=this._parseVarByteNum(),e=this._pos+t,r={};for(;this._pos<e;){const t=this._parseByte();if(!t)return this._emitError(new Error("Cannot parse property code type")),!1;const e=s.propertiesCodes[t];if(!e)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==e)r[e]?(Array.isArray(r[e])||(r[e]=[r[e]]),r[e].push(this._parseByType(s.propertiesTypes[e]))):r[e]=this._parseByType(s.propertiesTypes[e]);else{r[e]||(r[e]=Object.create(null));const t=this._parseByType(s.propertiesTypes[e]);if(r[e][t.name])if(Array.isArray(r[e][t.name]))r[e][t.name].push(t.value);else{const n=r[e][t.name];r[e][t.name]=[n],r[e][t.name].push(t.value)}else r[e][t.name]=t.value}}return r}_newPacket(){return a("_newPacket"),this.packet&&(this._list.consume(this.packet.length),a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),a("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(t){a("_emitError"),this.error=t,this.emit("error",t)}}t.exports=c},23132:(t,e,r)=>{const n=r(55399),i=Buffer.allocUnsafe(0),o=Buffer.from([0]),s=r(76172),a=r(33225).nextTick,c=r(17833)("mqtt-packet:writeToStream"),u=s.cache,l=s.generateNumber,h=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer;let d=S,g=!0;function v(t,e,r){switch(c("generate called"),e.cork&&(e.cork(),a(m,e)),g&&(g=!1,h()),c("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return function(t,e,r){const i=t||{},o=i.protocolId||"MQTT";let s=i.protocolVersion||4;const a=i.will;let c=i.clean;const u=i.keepalive||0,l=i.clientId||"",h=i.username,f=i.password,p=i.properties;void 0===c&&(c=!0);let g=0;if(!o||"string"!=typeof o&&!Buffer.isBuffer(o))return e.emit("error",new Error("Invalid protocolId")),!1;if(g+=o.length+2,3!==s&&4!==s&&5!==s)return e.emit("error",new Error("Invalid protocol version")),!1;if(g+=1,("string"==typeof l||Buffer.isBuffer(l))&&(l||s>=4)&&(l||c))g+=Buffer.byteLength(l)+2;else{if(s<4)return e.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*c==0)return e.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof u||u<0||u>65535||u%1!=0)return e.emit("error",new Error("Invalid keepalive")),!1;if(g+=2,g+=1,5===s){var v=T(e,p);if(!v)return!1;g+=v.length}if(a){if("object"!=typeof a)return e.emit("error",new Error("Invalid will")),!1;if(!a.topic||"string"!=typeof a.topic)return e.emit("error",new Error("Invalid will topic")),!1;if(g+=Buffer.byteLength(a.topic)+2,g+=2,a.payload){if(!(a.payload.length>=0))return e.emit("error",new Error("Invalid will payload")),!1;"string"==typeof a.payload?g+=Buffer.byteLength(a.payload):g+=a.payload.length}var m={};if(5===s){if(!(m=T(e,a.properties)))return!1;g+=m.length}}let y=!1;if(null!=h){if(!N(h))return e.emit("error",new Error("Invalid username")),!1;y=!0,g+=Buffer.byteLength(h)+2}if(null!=f){if(!y)return e.emit("error",new Error("Username is required to use password")),!1;if(!N(f))return e.emit("error",new Error("Invalid password")),!1;g+=C(f)+2}e.write(n.CONNECT_HEADER),b(e,g),A(e,o),i.bridgeMode&&(s+=128),e.write(131===s?n.VERSION131:132===s?n.VERSION132:4===s?n.VERSION4:5===s?n.VERSION5:n.VERSION3);let E=0;return E|=null!=h?n.USERNAME_MASK:0,E|=null!=f?n.PASSWORD_MASK:0,E|=a&&a.retain?n.WILL_RETAIN_MASK:0,E|=a&&a.qos?a.qos<<n.WILL_QOS_SHIFT:0,E|=a?n.WILL_FLAG_MASK:0,E|=c?n.CLEAN_SESSION_MASK:0,e.write(Buffer.from([E])),d(e,u),5===s&&v.write(),A(e,l),a&&(5===s&&m.write(),w(e,a.topic),A(e,a.payload)),null!=h&&A(e,h),null!=f&&A(e,f),!0}(t,e);case"connack":return function(t,e,r){const i=r?r.protocolVersion:4,s=t||{},a=5===i?s.reasonCode:s.returnCode,c=s.properties;let u=2;if("number"!=typeof a)return e.emit("error",new Error("Invalid return code")),!1;let l=null;if(5===i){if(l=T(e,c),!l)return!1;u+=l.length}return e.write(n.CONNACK_HEADER),b(e,u),e.write(s.sessionPresent?n.SESSIONPRESENT_HEADER:o),e.write(Buffer.from([a])),null!=l&&l.write(),!0}(t,e,r);case"publish":return function(t,e,r){c("publish: packet: %o",t);const o=r?r.protocolVersion:4,s=t||{},a=s.qos||0,u=s.retain?n.RETAIN_MASK:0,l=s.topic,h=s.payload||i,f=s.messageId,p=s.properties;let g=0;if("string"==typeof l)g+=Buffer.byteLength(l)+2;else{if(!Buffer.isBuffer(l))return e.emit("error",new Error("Invalid topic")),!1;g+=l.length+2}if(Buffer.isBuffer(h)?g+=h.length:g+=Buffer.byteLength(h),a&&"number"!=typeof f)return e.emit("error",new Error("Invalid messageId")),!1;a&&(g+=2);let v=null;if(5===o){if(v=T(e,p),!v)return!1;g+=v.length}return e.write(n.PUBLISH_HEADER[a][s.dup?1:0][u?1:0]),b(e,g),d(e,C(l)),e.write(l),a>0&&d(e,f),null!=v&&v.write(),c("publish: payload: %o",h),e.write(h)}(t,e,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(t,e,r){const i=r?r.protocolVersion:4,o=t||{},s=o.cmd||"puback",a=o.messageId,c=o.dup&&"pubrel"===s?n.DUP_MASK:0;let u=0;const l=o.reasonCode,h=o.properties;let f=5===i?3:2;if("pubrel"===s&&(u=1),"number"!=typeof a)return e.emit("error",new Error("Invalid messageId")),!1;let p=null;if(5===i&&"object"==typeof h){if(p=O(e,h,r,f),!p)return!1;f+=p.length}return e.write(n.ACKS[s][u][c][0]),b(e,f),d(e,a),5===i&&e.write(Buffer.from([l])),null!==p&&p.write(),!0}(t,e,r);case"subscribe":return function(t,e,r){c("subscribe: packet: ");const i=r?r.protocolVersion:4,o=t||{},s=o.dup?n.DUP_MASK:0,a=o.messageId,u=o.subscriptions,l=o.properties;let h=0;if("number"!=typeof a)return e.emit("error",new Error("Invalid messageId")),!1;h+=2;let f=null;if(5===i){if(f=T(e,l),!f)return!1;h+=f.length}if("object"!=typeof u||!u.length)return e.emit("error",new Error("Invalid subscriptions")),!1;for(let t=0;t<u.length;t+=1){const r=u[t].topic,n=u[t].qos;if("string"!=typeof r)return e.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof n)return e.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===i){if("boolean"!=typeof(u[t].nl||!1))return e.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(u[t].rap||!1))return e.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const r=u[t].rh||0;if("number"!=typeof r||r>2)return e.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}h+=Buffer.byteLength(r)+2+1}c("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),e.write(n.SUBSCRIBE_HEADER[1][s?1:0][0]),b(e,h),d(e,a),null!==f&&f.write();let p=!0;for(const t of u){const r=t.topic,o=t.qos,s=+t.nl,a=+t.rap,c=t.rh;let u;w(e,r),u=n.SUBSCRIBE_OPTIONS_QOS[o],5===i&&(u|=s?n.SUBSCRIBE_OPTIONS_NL:0,u|=a?n.SUBSCRIBE_OPTIONS_RAP:0,u|=c?n.SUBSCRIBE_OPTIONS_RH[c]:0),p=e.write(Buffer.from([u]))}return p}(t,e,r);case"suback":return function(t,e,r){const i=r?r.protocolVersion:4,o=t||{},s=o.messageId,a=o.granted,c=o.properties;let u=0;if("number"!=typeof s)return e.emit("error",new Error("Invalid messageId")),!1;if(u+=2,"object"!=typeof a||!a.length)return e.emit("error",new Error("Invalid qos vector")),!1;for(let t=0;t<a.length;t+=1){if("number"!=typeof a[t])return e.emit("error",new Error("Invalid qos vector")),!1;u+=1}let l=null;if(5===i){if(l=O(e,c,r,u),!l)return!1;u+=l.length}return e.write(n.SUBACK_HEADER),b(e,u),d(e,s),null!==l&&l.write(),e.write(Buffer.from(a))}(t,e,r);case"unsubscribe":return function(t,e,r){const i=r?r.protocolVersion:4,o=t||{},s=o.messageId,a=o.dup?n.DUP_MASK:0,c=o.unsubscriptions,u=o.properties;let l=0;if("number"!=typeof s)return e.emit("error",new Error("Invalid messageId")),!1;if(l+=2,"object"!=typeof c||!c.length)return e.emit("error",new Error("Invalid unsubscriptions")),!1;for(let t=0;t<c.length;t+=1){if("string"!=typeof c[t])return e.emit("error",new Error("Invalid unsubscriptions")),!1;l+=Buffer.byteLength(c[t])+2}let h=null;if(5===i){if(h=T(e,u),!h)return!1;l+=h.length}e.write(n.UNSUBSCRIBE_HEADER[1][a?1:0][0]),b(e,l),d(e,s),null!==h&&h.write();let f=!0;for(let t=0;t<c.length;t++)f=w(e,c[t]);return f}(t,e,r);case"unsuback":return function(t,e,r){const i=r?r.protocolVersion:4,o=t||{},s=o.messageId,a=o.dup?n.DUP_MASK:0,c=o.granted,u=o.properties,l=o.cmd;let h=2;if("number"!=typeof s)return e.emit("error",new Error("Invalid messageId")),!1;if(5===i){if("object"!=typeof c||!c.length)return e.emit("error",new Error("Invalid qos vector")),!1;for(let t=0;t<c.length;t+=1){if("number"!=typeof c[t])return e.emit("error",new Error("Invalid qos vector")),!1;h+=1}}let f=null;if(5===i){if(f=O(e,u,r,h),!f)return!1;h+=f.length}return e.write(n.ACKS[l][0][a][0]),b(e,h),d(e,s),null!==f&&f.write(),5===i&&e.write(Buffer.from(c)),!0}(t,e,r);case"pingreq":case"pingresp":return function(t,e,r){return e.write(n.EMPTY[t.cmd])}(t,e);case"disconnect":return function(t,e,r){const i=r?r.protocolVersion:4,o=t||{},s=o.reasonCode,a=o.properties;let c=5===i?1:0,u=null;if(5===i){if(u=O(e,a,r,c),!u)return!1;c+=u.length}return e.write(Buffer.from([n.codes.disconnect<<4])),b(e,c),5===i&&e.write(Buffer.from([s])),null!==u&&u.write(),!0}(t,e,r);case"auth":return function(t,e,r){const i=r?r.protocolVersion:4,o=t||{},s=o.reasonCode,a=o.properties;let c=5===i?1:0;5!==i&&e.emit("error",new Error("Invalid mqtt version for auth packet"));const u=O(e,a,r,c);return!!u&&(c+=u.length,e.write(Buffer.from([n.codes.auth<<4])),b(e,c),e.write(Buffer.from([s])),null!==u&&u.write(),!0)}(t,e,r);default:return e.emit("error",new Error("Unknown command")),!1}}function m(t){t.uncork()}Object.defineProperty(v,"cacheNumbers",{get:()=>d===S,set(t){t?(u&&0!==Object.keys(u).length||(g=!0),d=S):(g=!1,d=_)}});const y={};function b(t,e){if(e>n.VARBYTEINT_MAX)return t.emit("error",new Error(`Invalid variable byte integer: ${e}`)),!1;let r=y[e];return r||(r=f(e),e<16384&&(y[e]=r)),c("writeVarByteInt: writing to stream: %o",r),t.write(r)}function w(t,e){const r=Buffer.byteLength(e);return d(t,r),c("writeString: %s",e),t.write(e,"utf8")}function E(t,e,r){w(t,e),w(t,r)}function S(t,e){return c("writeNumberCached: number: %d",e),c("writeNumberCached: %o",u[e]),t.write(u[e])}function _(t,e){const r=l(e);return c("writeNumberGenerated: %o",r),t.write(r)}function A(t,e){"string"==typeof e?w(t,e):e?(d(t,e.length),t.write(e)):d(t,0)}function T(t,e){if("object"!=typeof e||null!=e.length)return{length:1,write(){I(t,{},0)}};let r=0;function i(e,r){let i=0;switch(n.propertiesTypes[e]){case"byte":if("boolean"!=typeof r)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=2;break;case"int8":if("number"!=typeof r||r<0||r>255)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=2;break;case"binary":if(r&&null===r)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=1+Buffer.byteLength(r)+2;break;case"int16":if("number"!=typeof r||r<0||r>65535)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=3;break;case"int32":if("number"!=typeof r||r<0||r>4294967295)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=5;break;case"var":if("number"!=typeof r||r<0||r>268435455)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=1+Buffer.byteLength(f(r));break;case"string":if("string"!=typeof r)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=3+Buffer.byteLength(r.toString());break;case"pair":if("object"!=typeof r)return t.emit("error",new Error(`Invalid ${e}: ${r}`)),!1;i+=Object.getOwnPropertyNames(r).reduce(((t,e)=>{const n=r[e];return Array.isArray(n)?t+=n.reduce(((t,r)=>t+(3+Buffer.byteLength(e.toString())+2+Buffer.byteLength(r.toString()))),0):t+=3+Buffer.byteLength(e.toString())+2+Buffer.byteLength(r[e].toString()),t}),0);break;default:return t.emit("error",new Error(`Invalid property ${e}: ${r}`)),!1}return i}if(e)for(const t in e){let n=0,o=0;const s=e[t];if(Array.isArray(s))for(let e=0;e<s.length;e++){if(o=i(t,s[e]),!o)return!1;n+=o}else{if(o=i(t,s),!o)return!1;n=o}if(!n)return!1;r+=n}return{length:Buffer.byteLength(f(r))+r,write(){I(t,e,r)}}}function O(t,e,r,n){const i=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let s=T(t,e);if(o)for(;n+s.length>o;){const r=i.shift();if(!r||!e[r])return!1;delete e[r],s=T(t,e)}return s}function P(t,e,r){switch(n.propertiesTypes[e]){case"byte":t.write(Buffer.from([n.properties[e]])),t.write(Buffer.from([+r]));break;case"int8":t.write(Buffer.from([n.properties[e]])),t.write(Buffer.from([r]));break;case"binary":t.write(Buffer.from([n.properties[e]])),A(t,r);break;case"int16":t.write(Buffer.from([n.properties[e]])),d(t,r);break;case"int32":t.write(Buffer.from([n.properties[e]])),function(t,e){const r=p(e);c("write4ByteNumber: %o",r),t.write(r)}(t,r);break;case"var":t.write(Buffer.from([n.properties[e]])),b(t,r);break;case"string":t.write(Buffer.from([n.properties[e]])),w(t,r);break;case"pair":Object.getOwnPropertyNames(r).forEach((i=>{const o=r[i];Array.isArray(o)?o.forEach((r=>{t.write(Buffer.from([n.properties[e]])),E(t,i.toString(),r.toString())})):(t.write(Buffer.from([n.properties[e]])),E(t,i.toString(),o.toString()))}));break;default:return t.emit("error",new Error(`Invalid property ${e} value: ${r}`)),!1}}function I(t,e,r){b(t,r);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&null!==e[r]){const n=e[r];if(Array.isArray(n))for(let e=0;e<n.length;e++)P(t,r,n[e]);else P(t,r,n)}}function C(t){return t?t instanceof Buffer?t.length:Buffer.byteLength(t):0}function N(t){return"string"==typeof t||t instanceof Buffer}t.exports=v},44624:(t,e,r)=>{"use strict";const n=r(37007).EventEmitter,i=r(64046),o=r(7354),s=r(54392),a=r(11278),c=r(28840),u=r(28399).Writable,l=r(56698),h=r(10262),f=r(53885),p=r(24707),d=r(57510),g=r(17833)("mqttjs:client"),v=process?process.nextTick:function(t){setTimeout(t,0)},m=r.g.setImmediate||function(t){v(t)},y={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},b=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],w={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function E(t,e){let r;e.properties&&(r=e.properties.topicAlias);let n=e.topic.toString();if(0===n.length){if(void 0===r)return new Error("Unregistered Topic Alias");if(n=t.topicAliasSend.getTopicByAlias(r),void 0===n)return new Error("Unregistered Topic Alias");e.topic=n}r&&delete e.properties.topicAlias}function S(t,e,r){g("sendPacket :: packet: %O",e),g("sendPacket :: emitting `packetsend`"),t.emit("packetsend",e),g("sendPacket :: writing to stream");const n=a.writeToStream(e,t.stream,t.options);g("sendPacket :: writeToStream result %s",n),!n&&r&&r!==A?(g("sendPacket :: handle events on `drain` once through callback."),t.stream.once("drain",r)):r&&(g("sendPacket :: invoking cb"),r())}function _(t,e,r,n){g("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let i,o=e;if("publish"===o.cmd&&(o=f(e),i=E(t,o),i))return r&&r(i);t.outgoingStore.put(o,(function(i){if(i)return r&&r(i);n(),S(t,e,r)}))}function A(t){g("nop ::",t)}function T(t,e){let r;const s=this;if(!(this instanceof T))return new T(t,e);for(r in this.options=e||{},y)void 0===this.options[r]?this.options[r]=y[r]:this.options[r]=e[r];g("MqttClient :: options.protocol",e.protocol),g("MqttClient :: options.protocolVersion",e.protocolVersion),g("MqttClient :: options.username",e.username),g("MqttClient :: options.keepalive",e.keepalive),g("MqttClient :: options.reconnectPeriod",e.reconnectPeriod),g("MqttClient :: options.rejectUnauthorized",e.rejectUnauthorized),g("MqttClient :: options.topicAliasMaximum",e.topicAliasMaximum),this.options.clientId="string"==typeof e.clientId?e.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),g("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===e.protocolVersion&&e.customHandleAcks?e.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=t,this.messageIdProvider=void 0===this.options.messageIdProvider?new c:this.options.messageIdProvider,this.outgoingStore=e.outgoingStore||new i,this.incomingStore=e.incomingStore||new i,this.queueQoSZero=void 0===e.queueQoSZero||e.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,e.topicAliasMaximum>0&&(e.topicAliasMaximum>65535?g("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new o(e.topicAliasMaximum)),this.on("connect",(function(){const t=this.queue;g("connect :: sending queued packets"),function e(){const r=t.shift();g("deliver :: entry %o",r);let n=null;if(!r)return void s._resubscribe();n=r.packet,g("deliver :: call _sendPacket for %o",n);let i=!0;n.messageId&&0!==n.messageId&&(s.messageIdProvider.register(n.messageId)||(i=!1)),i?s._sendPacket(n,(function(t){r.cb&&r.cb(t),e()})):(g("messageId: %d has already used. The message is skipped and removed.",n.messageId),e())}()})),this.on("close",(function(){g("close :: connected set to `false`"),this.connected=!1,g("close :: clearing connackTimer"),clearTimeout(this.connackTimer),g("close :: clearing ping timer"),null!==s.pingTimer&&(s.pingTimer.clear(),s.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),g("close :: calling _setupReconnect"),this._setupReconnect()})),n.call(this),g("MqttClient :: setting up stream"),this._setupStream()}l(T,n),T.prototype._setupStream=function(){const t=this,e=new u,r=a.parser(this.options);let n=null;const i=[];function o(){if(i.length)v(s);else{const t=n;n=null,t()}}function s(){g("work :: getting next packet in queue");const e=i.shift();if(e)g("work :: packet pulled from queue"),t._handlePacket(e,o);else{g("work :: no packets in queue");const t=n;n=null,g("work :: done flag is %s",!!t),t&&t()}}g("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),g("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",(function(t){g("parser :: on packet push to packets array."),i.push(t)})),e._write=function(t,e,i){n=i,g("writable stream :: parsing buffer"),r.parse(t),s()},g("_setupStream :: pipe stream to writable stream"),this.stream.pipe(e),this.stream.on("error",(function(e){g("streamErrorHandler :: error",e.message),b.includes(e.code)?(g("streamErrorHandler :: emitting error"),t.emit("error",e)):A(e)})),this.stream.on("close",(function(){var e;g("(%s)stream :: on close",t.options.clientId),(e=t.outgoing)&&(g("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(e).forEach((function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))),g("stream: emit close to MqttClient"),t.emit("close")})),g("_setupStream: sending packet `connect`");const c=Object.create(this.options);if(c.cmd="connect",this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),S(this,c),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return t.end((()=>this.emit("error",new Error("Packet has no Authentication Method")))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&S(this,d({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){g("!!connectTimeout hit!! Calling _cleanUp with force `true`"),t._cleanUp(!0)}),this.options.connectTimeout)},T.prototype._handlePacket=function(t,e){const r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<t.length)return this.emit("error",new Error("exceeding packets size "+t.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(g("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",t),t.cmd){case"publish":this._handlePublish(t,e);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(t),e();break;case"pubrel":this._handlePubrel(t,e);break;case"connack":this._handleConnack(t),e();break;case"auth":this._handleAuth(t),e();break;case"pingresp":this._handlePingresp(t),e();break;case"disconnect":this._handleDisconnect(t),e()}},T.prototype._checkDisconnecting=function(t){return this.disconnecting&&(t&&t!==A?t(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},T.prototype.publish=function(t,e,r,n){g("publish :: message `%s` to topic `%s`",e,t);const i=this.options;if("function"==typeof r&&(n=r,r=null),r=d({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;const o=this,s=function(){let s=0;if((1===r.qos||2===r.qos)&&(s=o._nextId(),null===s))return g("No messageId left"),!1;const a={cmd:"publish",topic:t,payload:e,qos:r.qos,retain:r.retain,messageId:s,dup:r.dup};switch(5===i.protocolVersion&&(a.properties=r.properties),g("publish :: qos",r.qos),r.qos){case 1:case 2:o.outgoing[a.messageId]={volatile:!1,cb:n||A},g("MqttClient:publish: packet cmd: %s",a.cmd),o._sendPacket(a,void 0,r.cbStorePut);break;default:g("MqttClient:publish: packet cmd: %s",a.cmd),o._sendPacket(a,n,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,cbStorePut:r.cbStorePut,callback:n}),this},T.prototype.subscribe=function(){const t=this,e=new Array(arguments.length);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];const r=[];let n=e.shift();const i=n.resubscribe;let o=e.pop()||A,s=e.pop();const a=this.options.protocolVersion;delete n.resubscribe,"string"==typeof n&&(n=[n]),"function"!=typeof o&&(s=o,o=A);const c=p.validateTopics(n);if(null!==c)return m(o,new Error("Invalid topic "+c)),this;if(this._checkDisconnecting(o))return g("subscribe: discconecting true"),this;const u={qos:0};if(5===a&&(u.nl=!1,u.rap=!1,u.rh=0),s=d(u,s),Array.isArray(n)?n.forEach((function(e){if(g("subscribe: array topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<s.qos||i){const t={topic:e,qos:s.qos};5===a&&(t.nl=s.nl,t.rap=s.rap,t.rh=s.rh,t.properties=s.properties),g("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),r.push(t)}})):Object.keys(n).forEach((function(e){if(g("subscribe: object topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<n[e].qos||i){const t={topic:e,qos:n[e].qos};5===a&&(t.nl=n[e].nl,t.rap=n[e].rap,t.rh=n[e].rh,t.properties=s.properties),g("subscribe: pushing `%s` to subs list",t),r.push(t)}})),!r.length)return o(null,[]),this;const l=function(){const e=t._nextId();if(null===e)return g("No messageId left"),!1;const n={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:e};if(s.properties&&(n.properties=s.properties),t.options.resubscribe){g("subscribe :: resubscribe true");const e=[];r.forEach((function(r){if(t.options.reconnectPeriod>0){const n={qos:r.qos};5===a&&(n.nl=r.nl||!1,n.rap=r.rap||!1,n.rh=r.rh||0,n.properties=r.properties),t._resubscribeTopics[r.topic]=n,e.push(r.topic)}})),t.messageIdToTopic[n.messageId]=e}return t.outgoing[n.messageId]={volatile:!0,cb:function(t,e){if(!t){const t=e.granted;for(let e=0;e<t.length;e+=1)r[e].qos=t[e]}o(t,r)}},g("subscribe :: call _sendPacket"),t._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!l())&&this._storeProcessingQueue.push({invoke:l,callback:o}),this},T.prototype.unsubscribe=function(){const t=this,e=new Array(arguments.length);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];let r=e.shift(),n=e.pop()||A,i=e.pop();"string"==typeof r&&(r=[r]),"function"!=typeof n&&(i=n,n=A);const o=p.validateTopics(r);if(null!==o)return m(n,new Error("Invalid topic "+o)),this;if(t._checkDisconnecting(n))return this;const s=function(){const e=t._nextId();if(null===e)return g("No messageId left"),!1;const o={cmd:"unsubscribe",qos:1,messageId:e};return"string"==typeof r?o.unsubscriptions=[r]:Array.isArray(r)&&(o.unsubscriptions=r),t.options.resubscribe&&o.unsubscriptions.forEach((function(e){delete t._resubscribeTopics[e]})),"object"==typeof i&&i.properties&&(o.properties=i.properties),t.outgoing[o.messageId]={volatile:!0,cb:n},g("unsubscribe: call _sendPacket"),t._sendPacket(o),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,callback:n}),this},T.prototype.end=function(t,e,r){const n=this;function i(){g("end :: closeStores: closing incoming and outgoing stores"),n.disconnected=!0,n.incomingStore.close((function(t){n.outgoingStore.close((function(e){if(g("end :: closeStores: emitting end"),n.emit("end"),r){const n=t||e;g("end :: closeStores: invoking callback with args"),r(n)}}))})),n._deferredReconnect&&n._deferredReconnect()}function o(){g("end :: (%s) :: finish :: calling _cleanUp with force %s",n.options.clientId,t),n._cleanUp(t,(()=>{g("end :: finish :: calling process.nextTick on closeStores"),v(i.bind(n))}),e)}return g("end :: (%s)",this.options.clientId),null!=t&&"boolean"==typeof t||(r=e||A,e=t,t=!1,"object"!=typeof e&&(r=e,e=null,"function"!=typeof r&&(r=A))),"object"!=typeof e&&(r=e,e=null),g("end :: cb? %s",!!r),r=r||A,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?(g("end :: (%s) :: calling finish in 10ms once outgoing is empty",n.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(g("end :: (%s) :: immediately calling finish",n.options.clientId),o()),this)},T.prototype.removeOutgoingMessage=function(t){const e=this.outgoing[t]?this.outgoing[t].cb:null;return delete this.outgoing[t],this.outgoingStore.del({messageId:t},(function(){e(new Error("Message removed"))})),this},T.prototype.reconnect=function(t){g("client reconnect");const e=this,r=function(){t?(e.options.incomingStore=t.incomingStore,e.options.outgoingStore=t.outgoingStore):(e.options.incomingStore=null,e.options.outgoingStore=null),e.incomingStore=e.options.incomingStore||new i,e.outgoingStore=e.options.outgoingStore||new i,e.disconnecting=!1,e.disconnected=!1,e._deferredReconnect=null,e._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},T.prototype._reconnect=function(){g("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((()=>{this._setupStream()})),g("client already connected. disconnecting first.")):(g("_reconnect: calling _setupStream"),this._setupStream())},T.prototype._setupReconnect=function(){const t=this;!t.disconnecting&&!t.reconnectTimer&&t.options.reconnectPeriod>0?(this.reconnecting||(g("_setupReconnect :: emit `offline` state"),this.emit("offline"),g("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),g("_setupReconnect :: setting reconnectTimer for %d ms",t.options.reconnectPeriod),t.reconnectTimer=setInterval((function(){g("reconnectTimer :: reconnect triggered!"),t._reconnect()}),t.options.reconnectPeriod)):g("_setupReconnect :: doing nothing...")},T.prototype._clearReconnect=function(){g("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},T.prototype._cleanUp=function(t,e){const r=arguments[2];if(e&&(g("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",e)),g("_cleanUp :: forced? %s",t),t)0===this.options.reconnectPeriod&&this.options.clean&&(n=this.outgoing)&&(g("flush: queue exists? %b",!!n),Object.keys(n).forEach((function(t){"function"==typeof n[t].cb&&(n[t].cb(new Error("Connection closed")),delete n[t])}))),g("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const t=d({cmd:"disconnect"},r);g("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(t,m.bind(null,this.stream.end.bind(this.stream)))}var n;this.disconnecting||(g("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(g("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),e&&!this.connected&&(g("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",e),e())},T.prototype._sendPacket=function(t,e,r){g("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||A,e=e||A;const n=function(t,e){if(5===t.options.protocolVersion&&"publish"===e.cmd){let r;e.properties&&(r=e.properties.topicAlias);const n=e.topic.toString();if(t.topicAliasSend)if(r){if(0!==n.length&&(g("applyTopicAlias :: register topic: %s - alias: %d",n,r),!t.topicAliasSend.put(n,r)))return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}else 0!==n.length&&(t.options.autoAssignTopicAlias?(r=t.topicAliasSend.getAliasByTopic(n),r?(e.topic="",e.properties={...e.properties,topicAlias:r},g("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",n,r)):(r=t.topicAliasSend.getLruAlias(),t.topicAliasSend.put(n,r),e.properties={...e.properties,topicAlias:r},g("applyTopicAlias :: auto assign topic: %s - alias: %d",n,r))):t.options.autoUseTopicAlias&&(r=t.topicAliasSend.getAliasByTopic(n),r&&(e.topic="",e.properties={...e.properties,topicAlias:r},g("applyTopicAlias :: auto use topic: %s - alias: %d",n,r))));else if(r)return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}}(this,t);if(n)e(n);else{if(!this.connected)return"auth"===t.cmd?(this._shiftPingInterval(),void S(this,t,e)):(g("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(t,e,r));switch(this._shiftPingInterval(),t.cmd){case"publish":break;case"pubrel":return void _(this,t,e,r);default:return void S(this,t,e)}switch(t.qos){case 2:case 1:_(this,t,e,r);break;default:S(this,t,e)}g("_sendPacket :: (%s) ::  end",this.options.clientId)}},T.prototype._storePacket=function(t,e,r){g("_storePacket :: packet: %o",t),g("_storePacket :: cb? %s",!!e),r=r||A;let n=t;if("publish"===n.cmd){n=f(t);const r=E(this,n);if(r)return e&&e(r)}0===(n.qos||0)&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:e}):n.qos>0?(e=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,(function(t){if(t)return e&&e(t);r()}))):e&&e(new Error("No connection to broker"))},T.prototype._setupPingTimer=function(){g("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const t=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=h((function(){t._checkPing()}),1e3*this.options.keepalive))},T.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},T.prototype._checkPing=function(){g("_checkPing :: checking ping..."),this.pingResp?(g("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(g("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},T.prototype._handlePingresp=function(){this.pingResp=!0},T.prototype._handleConnack=function(t){g("_handleConnack");const e=this.options,r=5===e.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(this.topicAliasSend=new s(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=t.properties.serverKeepAlive,this._shiftPingInterval()),t.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===r)this.reconnecting=!1,this._onConnect(t);else if(r>0){const t=new Error("Connection refused: "+w[r]);t.code=r,this.emit("error",t)}},T.prototype._handleAuth=function(t){const e=this.options.protocolVersion,r=5===e?t.reasonCode:t.returnCode;if(5!==e){const t=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+e);return t.code=r,void this.emit("error",t)}const n=this;this.handleAuth(t,(function(t,e){if(t)n.emit("error",t);else if(24===r)n.reconnecting=!1,n._sendPacket(e);else{const e=new Error("Connection refused: "+w[r]);t.code=r,n.emit("error",e)}}))},T.prototype.handleAuth=function(t,e){e()},T.prototype._handlePublish=function(t,e){g("_handlePublish: packet %o",t),e=void 0!==e?e:A;let r=t.topic.toString();const n=t.payload,i=t.qos,o=t.messageId,s=this,a=this.options,c=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let e;if(t.properties&&(e=t.properties.topicAlias),void 0!==e)if(0===r.length){if(!(e>0&&e<=65535))return g("_handlePublish :: topic alias out of range. alias: %d",e),void this.emit("error",new Error("Received Topic Alias is out of range"));{const t=this.topicAliasRecv.getTopicByAlias(e);if(!t)return g("_handlePublish :: unregistered topic alias. alias: %d",e),void this.emit("error",new Error("Received unregistered Topic Alias"));r=t,g("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,e)}}else{if(!this.topicAliasRecv.put(r,e))return g("_handlePublish :: topic alias out of range. alias: %d",e),void this.emit("error",new Error("Received Topic Alias is out of range"));g("_handlePublish :: registered topic: %s - alias: %d",r,e)}}switch(g("_handlePublish: qos %d",i),i){case 2:a.customHandleAcks(r,n,t,(function(r,n){return r instanceof Error||(n=r,r=null),r?s.emit("error",r):-1===c.indexOf(n)?s.emit("error",new Error("Wrong reason code for pubrec")):void(n?s._sendPacket({cmd:"pubrec",messageId:o,reasonCode:n},e):s.incomingStore.put(t,(function(){s._sendPacket({cmd:"pubrec",messageId:o},e)})))}));break;case 1:a.customHandleAcks(r,n,t,(function(i,a){return i instanceof Error||(a=i,i=null),i?s.emit("error",i):-1===c.indexOf(a)?s.emit("error",new Error("Wrong reason code for puback")):(a||s.emit("message",r,n,t),void s.handleMessage(t,(function(t){if(t)return e&&e(t);s._sendPacket({cmd:"puback",messageId:o,reasonCode:a},e)})))}));break;case 0:this.emit("message",r,n,t),this.handleMessage(t,e);break;default:g("_handlePublish: unknown QoS. Doing nothing.")}},T.prototype.handleMessage=function(t,e){e()},T.prototype._handleAck=function(t){const e=t.messageId,r=t.cmd;let n=null;const i=this.outgoing[e]?this.outgoing[e].cb:null,o=this;let s;if(i){switch(g("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{const r=t.reasonCode;r&&r>0&&16!==r&&(s=new Error("Publish error: "+w[r]),s.code=r,i(s,t)),delete this.outgoing[e],this.outgoingStore.del(t,i),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue();break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:e};const r=t.reasonCode;r&&r>0&&16!==r?(s=new Error("Publish error: "+w[r]),s.code=r,i(s,t)):this._sendPacket(n);break}case"suback":delete this.outgoing[e],this.messageIdProvider.deallocate(e);for(let r=0;r<t.granted.length;r++)if(128&t.granted[r]){const t=this.messageIdToTopic[e];t&&t.forEach((function(t){delete o._resubscribeTopics[t]}))}this._invokeStoreProcessingQueue(),i(null,t);break;case"unsuback":delete this.outgoing[e],this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue(),i(null);break;default:o.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else g("_handleAck :: Server sent an ack in error. Ignoring.")},T.prototype._handlePubrel=function(t,e){g("handling pubrel packet"),e=void 0!==e?e:A;const r=t.messageId,n=this,i={cmd:"pubcomp",messageId:r};n.incomingStore.get(t,(function(t,r){t?n._sendPacket(i,e):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,(function(t){if(t)return e(t);n.incomingStore.del(r,A),n._sendPacket(i,e)})))}))},T.prototype._handleDisconnect=function(t){this.emit("disconnect",t)},T.prototype._nextId=function(){return this.messageIdProvider.allocate()},T.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},T.prototype._resubscribe=function(){g("_resubscribe");const t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){g("_resubscribe: protocolVersion 5");for(let e=0;e<t.length;e++){const r={};r[t[e]]=this._resubscribeTopics[t[e]],r.resubscribe=!0,this.subscribe(r,{properties:r[t[e]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},T.prototype._onConnect=function(t){if(this.disconnected)return void this.emit("connect",t);const e=this;this.connackPacket=t,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){let n=e.outgoingStore.createStream();function i(){e._storeProcessing=!1,e._packetIdsDuringStoreProcessing={}}function o(){n.destroy(),n=null,e._flushStoreProcessingQueue(),i()}e.once("close",o),n.on("error",(function(t){i(),e._flushStoreProcessingQueue(),e.removeListener("close",o),e.emit("error",t)})),n.on("end",(function(){let n=!0;for(const t in e._packetIdsDuringStoreProcessing)if(!e._packetIdsDuringStoreProcessing[t]){n=!1;break}n?(i(),e.removeListener("close",o),e._invokeAllStoreProcessingQueue(),e.emit("connect",t)):r()})),function t(){if(!n)return;e._storeProcessing=!0;const r=n.read(1);let i;r?e._packetIdsDuringStoreProcessing[r.messageId]?t():e.disconnecting||e.reconnectTimer?n.destroy&&n.destroy():(i=e.outgoing[r.messageId]?e.outgoing[r.messageId].cb:null,e.outgoing[r.messageId]={volatile:!1,cb:function(e,r){i&&i(e,r),t()}},e._packetIdsDuringStoreProcessing[r.messageId]=!0,e.messageIdProvider.register(r.messageId)?e._sendPacket(r):g("messageId: %d has already used.",r.messageId)):n.once("readable",t)}()}()},T.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const t=this._storeProcessingQueue[0];if(t&&t.invoke())return this._storeProcessingQueue.shift(),!0}return!1},T.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},T.prototype._flushStoreProcessingQueue=function(){for(const t of this._storeProcessingQueue)t.cbStorePut&&t.cbStorePut(new Error("Connection closed")),t.callback&&t.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},t.exports=T},71426:(t,e,r)=>{"use strict";const{Buffer:n}=r(48287),i=r(28399).Transform,o=r(32623);let s,a,c,u=!1;t.exports=function(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}(e);const l=function(t,e){const r="alis"===t.protocol?"wss":"ws";let n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);return s=e.my,s.connectSocket({url:l,protocols:r}),a=function(){const t=new i;return t._write=function(t,e,r){s.sendSocketMessage({data:t.buffer,success:function(){r()},fail:function(){r(new Error)}})},t._flush=function(t){s.closeSocket({success:function(){t()}})},t}(),c=o.obj(),u||(u=!0,s.onSocketOpen((function(){c.setReadable(a),c.setWritable(a),c.emit("connect")})),s.onSocketMessage((function(t){if("string"==typeof t.data){const e=n.from(t.data,"base64");a.push(e)}else{const e=new FileReader;e.addEventListener("load",(function(){let t=e.result;t=t instanceof ArrayBuffer?n.from(t):n.from(t,"utf8"),a.push(t)})),e.readAsArrayBuffer(t.data)}})),s.onSocketClose((function(){c.end(),c.destroy()})),s.onSocketError((function(t){c.destroy(t)}))),c}},510:(t,e,r)=>{"use strict";const n=r(44624),i=r(64046),o=r(88835),s=r(57510),a=r(17833)("mqttjs"),c={};function u(t,e){if(a("connecting to an MQTT broker..."),"object"!=typeof t||e||(e=t,t=null),e=e||{},t){const r=o.parse(t,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(e=s(r,e)).protocol)throw new Error("Missing protocol");e.protocol=e.protocol.replace(/:$/,"")}if(function(t){let e;t.auth&&(e=t.auth.match(/^(.+):(.+)$/),e?(t.username=e[1],t.password=e[2]):t.username=t.auth)}(e),e.query&&"string"==typeof e.query.clientId&&(e.clientId=e.query.clientId),e.cert&&e.key){if(!e.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(e.protocol))switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+e.protocol+'"!')}}if(!c[e.protocol]){const t=-1!==["mqtts","wss"].indexOf(e.protocol);e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(e,r){return(!t||r%2!=0)&&"function"==typeof c[e]}))[0]}if(!1===e.clean&&!e.clientId)throw new Error("Missing clientId for unclean clients");e.protocol&&(e.defaultProtocol=e.protocol);const r=new n((function(t){return e.servers&&(t._reconnectCount&&t._reconnectCount!==e.servers.length||(t._reconnectCount=0),e.host=e.servers[t._reconnectCount].host,e.port=e.servers[t._reconnectCount].port,e.protocol=e.servers[t._reconnectCount].protocol?e.servers[t._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,t._reconnectCount++),a("calling streambuilder for",e.protocol),c[e.protocol](t,e)}),e);return r.on("error",(function(){})),r}"undefined"!=typeof process&&"browser"!==process.title||"function"!=typeof r?(c.mqtt=r(30093),c.tcp=r(30093),c.ssl=r(98803),c.tls=r(98803),c.mqtts=r(98803)):(c.wx=r(79455),c.wxs=r(79455),c.ali=r(71426),c.alis=r(71426)),c.ws=r(88490),c.wss=r(88490),t.exports=u,t.exports.connect=u,t.exports.MqttClient=n,t.exports.Store=i},30093:(t,e,r)=>{"use strict";const n=r(19413),i=r(17833)("mqttjs:tcp");t.exports=function(t,e){e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";const r=e.port,o=e.hostname;return i("port %d and host %s",r,o),n.createConnection(r,o)}},98803:(t,e,r)=>{"use strict";const n=r(84599),i=r(19413),o=r(17833)("mqttjs:tls");t.exports=function(t,e){e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",0===i.isIP(e.host)&&(e.servername=e.host),e.rejectUnauthorized=!1!==e.rejectUnauthorized,delete e.path,o("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);const r=n.connect(e);function s(n){e.rejectUnauthorized&&t.emit("error",n),r.end()}return r.on("secureConnect",(function(){e.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",s)})),r.on("error",s),r}},88490:(t,e,r)=>{"use strict";const{Buffer:n}=r(48287),i=r(51591),o=r(17833)("mqttjs:ws"),s=r(32623),a=r(28399).Transform,c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],u="undefined"!=typeof process&&"browser"===process.title||"function"==typeof r;function l(t,e){let r=t.protocol+"://"+t.hostname+":"+t.port+t.path;return"function"==typeof t.transformWsUrl&&(r=t.transformWsUrl(r,t,e)),r}function h(t){const e=t;return t.hostname||(e.hostname="localhost"),t.port||("wss"===t.protocol?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),u||"wss"!==t.protocol||c.forEach((function(r){Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r])})),e}t.exports=u?function(t,e){let r;o("browserStreamBuilder");const i=function(t){const e=h(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");const t=new URL(document.URL);e.hostname=t.hostname,e.port||(e.port=t.port)}return void 0===e.objectMode&&(e.objectMode=!(!0===e.binary||void 0===e.binary)),e}(e).browserBufferSize||524288,c=e.browserBufferTimeout||1e3,u=!e.objectMode,f=function(t,e){const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt",n=l(e,t),i=new WebSocket(n,[r]);return i.binaryType="arraybuffer",i}(t,e),p=function(t,e,r){const o=new a({objectModeMode:t.objectMode});return o._write=function t(e,r,o){f.bufferedAmount>i&&setTimeout(t,c,e,r,o),u&&"string"==typeof e&&(e=n.from(e,"utf8"));try{f.send(e)}catch(t){return o(t)}o()},o._flush=function(t){f.close(),t()},o}(e);e.objectMode||(p._writev=b),p.on("close",(()=>{f.close()}));const d=void 0!==f.addEventListener;function g(){r.setReadable(p),r.setWritable(p),r.emit("connect")}function v(){r.end(),r.destroy()}function m(t){r.destroy(t)}function y(t){let e=t.data;e=e instanceof ArrayBuffer?n.from(e):n.from(e,"utf8"),p.push(e)}function b(t,e){const r=new Array(t.length);for(let e=0;e<t.length;e++)"string"==typeof t[e].chunk?r[e]=n.from(t[e],"utf8"):r[e]=t[e].chunk;this._write(n.concat(r),"binary",e)}return f.readyState===f.OPEN?r=p:(r=r=s(void 0,void 0,e),e.objectMode||(r._writev=b),d?f.addEventListener("open",g):f.onopen=g),r.socket=f,d?(f.addEventListener("close",v),f.addEventListener("error",m),f.addEventListener("message",y)):(f.onclose=v,f.onerror=m,f.onmessage=y),r}:function(t,e){o("streamBuilder");const r=h(e),n=l(r,t),s=function(t,e,r){o("createWebSocket"),o("protocol: "+r.protocolId+" "+r.protocolVersion);const n="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return o("creating new Websocket for url: "+e+" and protocol: "+n),new i(e,[n],r.wsOptions)}(0,n,r),a=i.createWebSocketStream(s,r.wsOptions);return a.url=n,s.on("close",(()=>{a.destroy()})),a}},79455:(t,e,r)=>{"use strict";const{Buffer:n}=r(48287),i=r(28399).Transform,o=r(32623);let s,a,c;t.exports=function(t,e){if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");const r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";!function(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}(e);const u=function(t,e){const r="wxs"===t.protocol?"wss":"ws";let n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);s=wx.connectSocket({url:u,protocols:[r]}),a=function(){const t=new i;return t._write=function(t,e,r){s.send({data:t.buffer,success:function(){r()},fail:function(t){r(new Error(t))}})},t._flush=function(t){s.close({success:function(){t()}})},t}(),c=o.obj(),c._destroy=function(t,e){s.close({success:function(){e&&e(t)}})};const l=c.destroy;return c.destroy=function(){c.destroy=l;const t=this;setTimeout((function(){s.close({fail:function(){t._destroy(new Error)}})}),0)}.bind(c),s.onOpen((function(){c.setReadable(a),c.setWritable(a),c.emit("connect")})),s.onMessage((function(t){let e=t.data;e=e instanceof ArrayBuffer?n.from(e):n.from(e,"utf8"),a.push(e)})),s.onClose((function(){c.end(),c.destroy()})),s.onError((function(t){c.destroy(new Error(t.errMsg))})),c}},28840:t=>{"use strict";function e(){if(!(this instanceof e))return new e;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}e.prototype.allocate=function(){const t=this.nextId++;return 65536===this.nextId&&(this.nextId=1),t},e.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},e.prototype.register=function(t){return!0},e.prototype.deallocate=function(t){},e.prototype.clear=function(){},t.exports=e},64046:(t,e,r)=>{"use strict";const n=r(57510),i=r(28399).Readable,o={objectMode:!0},s={clean:!0};function a(t){if(!(this instanceof a))return new a(t);this.options=t||{},this.options=n(s,t),this._inflights=new Map}a.prototype.put=function(t,e){return this._inflights.set(t.messageId,t),e&&e(),this},a.prototype.createStream=function(){const t=new i(o),e=[];let r=!1,n=0;return this._inflights.forEach((function(t,r){e.push(t)})),t._read=function(){!r&&n<e.length?this.push(e[n++]):this.push(null)},t.destroy=function(){if(r)return;const t=this;r=!0,setTimeout((function(){t.emit("close")}),0)},t},a.prototype.del=function(t,e){return(t=this._inflights.get(t.messageId))?(this._inflights.delete(t.messageId),e(null,t)):e&&e(new Error("missing packet")),this},a.prototype.get=function(t,e){return(t=this._inflights.get(t.messageId))?e(null,t):e&&e(new Error("missing packet")),this},a.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},t.exports=a},7354:t=>{"use strict";function e(t){if(!(this instanceof e))return new e(t);this.aliasToTopic={},this.max=t}e.prototype.put=function(t,e){return!(0===e||e>this.max||(this.aliasToTopic[e]=t,this.length=Object.keys(this.aliasToTopic).length,0))},e.prototype.getTopicByAlias=function(t){return this.aliasToTopic[t]},e.prototype.clear=function(){this.aliasToTopic={}},t.exports=e},54392:(t,e,r)=>{"use strict";const n=r(69749),i=r(720).t;function o(t){if(!(this instanceof o))return new o(t);t>0&&(this.aliasToTopic=new n({max:t}),this.topicToAlias={},this.numberAllocator=new i(1,t),this.max=t,this.length=0)}o.prototype.put=function(t,e){if(0===e||e>this.max)return!1;const r=this.aliasToTopic.get(e);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(e,t),this.topicToAlias[t]=e,this.numberAllocator.use(e),this.length=this.aliasToTopic.length,!0},o.prototype.getTopicByAlias=function(t){return this.aliasToTopic.get(t)},o.prototype.getAliasByTopic=function(t){const e=this.topicToAlias[t];return void 0!==e&&this.aliasToTopic.get(e),e},o.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},o.prototype.getLruAlias=function(){return this.numberAllocator.firstVacant()||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=o},24707:t=>{"use strict";function e(t){const e=t.split("/");for(let t=0;t<e.length;t++)if("+"!==e[t]){if("#"===e[t])return t===e.length-1;if(-1!==e[t].indexOf("+")||-1!==e[t].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(t){if(0===t.length)return"empty_topic_list";for(let r=0;r<t.length;r++)if(!e(t[r]))return t[r];return null}}},6585:t=>{var e=1e3,r=60*e,n=60*r,i=24*n,o=7*i;function s(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,a){a=a||{};var c,u,l=typeof t;if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===l&&isFinite(t))return a.long?(c=t,(u=Math.abs(c))>=i?s(c,u,i,"day"):u>=n?s(c,u,n,"hour"):u>=r?s(c,u,r,"minute"):u>=e?s(c,u,e,"second"):c+" ms"):function(t){var o=Math.abs(t);return o>=i?Math.round(t/i)+"d":o>=n?Math.round(t/n)+"h":o>=r?Math.round(t/r)+"m":o>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},720:(t,e,r)=>{const n=r(59291);t.exports.t=n},59291:(t,e,r)=>{"use strict";const n=r(38194).CD,i=r(17833)("number-allocator:trace"),o=r(17833)("number-allocator:error");function s(t,e){this.low=t,this.high=e}function a(t,e){if(!(this instanceof a))return new a(t,e);this.min=t,this.max=e,this.ss=new n([],((t,e)=>t.compare(e))),i("Create"),this.clear()}s.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},s.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0},a.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},a.prototype.alloc=function(){if(0===this.ss.size())return i("alloc():empty"),null;const t=this.ss.begin(),e=t.pointer.low,r=t.pointer.high,n=e;return n+1<=r?this.ss.updateKeyByIterator(t,new s(e+1,r)):this.ss.eraseElementByPos(0),i("alloc():"+n),n},a.prototype.use=function(t){const e=new s(t,t),r=this.ss.lowerBound(e);if(!r.equals(this.ss.end())){const n=r.pointer.low,o=r.pointer.high;return r.pointer.equals(e)?(this.ss.eraseElementByIterator(r),i("use():"+t),!0):!(n>t||(n===t?(this.ss.updateKeyByIterator(r,new s(n+1,o)),i("use():"+t),0):o===t?(this.ss.updateKeyByIterator(r,new s(n,o-1)),i("use():"+t),0):(this.ss.updateKeyByIterator(r,new s(t+1,o)),this.ss.insert(new s(n,t-1)),i("use():"+t),0)))}return i("use():failed"),!1},a.prototype.free=function(t){if(t<this.min||t>this.max)return void o("free():"+t+" is out of range");const e=new s(t,t),r=this.ss.upperBound(e);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin()))return void this.ss.insert(e);r.pre();const n=r.pointer.high;r.pointer.high+1===t?this.ss.updateKeyByIterator(r,new s(n,t)):this.ss.insert(e)}else if(r.equals(this.ss.begin()))if(t+1===r.pointer.low){const e=r.pointer.high;this.ss.updateKeyByIterator(r,new s(t,e))}else this.ss.insert(e);else{const n=r.pointer.low,i=r.pointer.high;r.pre();const o=r.pointer.low;r.pointer.high+1===t?t+1===n?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new s(o,i))):this.ss.updateKeyByIterator(r,new s(o,t)):t+1===n?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new s(t,i))):this.ss.insert(e)}i("free():"+t)},a.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){console.log("length:"+this.ss.size());for(const t of this.ss)console.log(t)},t.exports=a},58859:(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,l=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,g=Object.prototype.toString,v=Function.prototype.toString,m=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,E=String.prototype.toLowerCase,S=RegExp.prototype.test,_=Array.prototype.concat,A=Array.prototype.join,T=Array.prototype.slice,O=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,k="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,x=Object.prototype.propertyIsEnumerable,R=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function D(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||S.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-O(-t):O(t);if(n!==t){var i=String(n),o=y.call(e,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,r,"$&_")}var M=r(42634),L=M.custom,j=G(L)?L:null;function B(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function F(t){return b.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==Y(t)||k&&"object"==typeof t&&k in t)}function H(t){return!("[object RegExp]"!==Y(t)||k&&"object"==typeof t&&k in t)}function G(t){if(N)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!C)return!1;try{return C.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,i,a){var c=n||{};if(V(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=!V(c,"customInspect")||c.customInspect;if("boolean"!=typeof g&&"symbol"!==g)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return q(e,c);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var S=String(e);return w?D(e,S):S}if("bigint"==typeof e){var O=String(e)+"n";return w?D(e,O):O}var I=void 0===c.depth?5:c.depth;if(void 0===i&&(i=0),i>=I&&I>0&&"object"==typeof e)return U(e)?"[Array]":"[Object]";var L,X=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=A.call(Array(t.indent+1)," ")}return{base:r,prev:A.call(Array(e+1),r)}}(c,i);if(void 0===a)a=[];else if(W(a,e)>=0)return"[Circular]";function K(e,r,n){if(r&&(a=T.call(a)).push(r),n){var o={depth:c.depth};return V(c,"quoteStyle")&&(o.quoteStyle=c.quoteStyle),t(e,o,i+1,a)}return t(e,c,i+1,a)}if("function"==typeof e&&!H(e)){var tt=function(t){if(t.name)return t.name;var e=m.call(v.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),et=Z(e,K);return"[Function"+(tt?": "+tt:" (anonymous)")+"]"+(et.length>0?" { "+A.call(et,", ")+" }":"")}if(G(e)){var rt=N?b.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(e);return"object"!=typeof e||N?rt:z(rt)}if((L=e)&&"object"==typeof L&&("undefined"!=typeof HTMLElement&&L instanceof HTMLElement||"string"==typeof L.nodeName&&"function"==typeof L.getAttribute)){for(var nt="<"+E.call(String(e.nodeName)),it=e.attributes||[],ot=0;ot<it.length;ot++)nt+=" "+it[ot].name+"="+B(F(it[ot].value),"double",c);return nt+=">",e.childNodes&&e.childNodes.length&&(nt+="..."),nt+"</"+E.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var st=Z(e,K);return X&&!function(t){for(var e=0;e<t.length;e++)if(W(t[e],"\n")>=0)return!1;return!0}(st)?"["+J(st,X)+"]":"[ "+A.call(st,", ")+" ]"}if(function(t){return!("[object Error]"!==Y(t)||k&&"object"==typeof t&&k in t)}(e)){var at=Z(e,K);return"cause"in Error.prototype||!("cause"in e)||x.call(e,"cause")?0===at.length?"["+String(e)+"]":"{ ["+String(e)+"] "+A.call(at,", ")+" }":"{ ["+String(e)+"] "+A.call(_.call("[cause]: "+K(e.cause),at),", ")+" }"}if("object"==typeof e&&g){if(j&&"function"==typeof e[j]&&M)return M(e,{depth:I-i});if("symbol"!==g&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ct=[];return s&&s.call(e,(function(t,r){ct.push(K(r,e,!0)+" => "+K(t,e))})),Q("Map",o.call(e),ct,X)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ut=[];return l&&l.call(e,(function(t){ut.push(K(t,e))})),Q("Set",u.call(e),ut,X)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return $("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return $("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return $("WeakRef");if(function(t){return!("[object Number]"!==Y(t)||k&&"object"==typeof t&&k in t)}(e))return z(K(Number(e)));if(function(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}(e))return z(K(P.call(e)));if(function(t){return!("[object Boolean]"!==Y(t)||k&&"object"==typeof t&&k in t)}(e))return z(d.call(e));if(function(t){return!("[object String]"!==Y(t)||k&&"object"==typeof t&&k in t)}(e))return z(K(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if(e===r.g)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==Y(t)||k&&"object"==typeof t&&k in t)}(e)&&!H(e)){var lt=Z(e,K),ht=R?R(e)===Object.prototype:e instanceof Object||e.constructor===Object,ft=e instanceof Object?"":"null prototype",pt=!ht&&k&&Object(e)===e&&k in e?y.call(Y(e),8,-1):ft?"Object":"",dt=(ht||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(pt||ft?"["+A.call(_.call([],pt||[],ft||[]),": ")+"] ":"");return 0===lt.length?dt+"{}":X?dt+"{"+J(lt,X)+"}":dt+"{ "+A.call(lt,", ")+" }"}return String(e)};var X=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return X.call(t,e)}function Y(t){return g.call(t)}function W(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function q(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return q(y.call(t,0,e.maxStringLength),e)+n}return B(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",e)}function K(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function z(t){return"Object("+t+")"}function $(t){return t+" { ? }"}function Q(t,e,r,n){return t+" ("+e+") {"+(n?J(r,n):A.call(r,", "))+"}"}function J(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+A.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=U(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=V(t,i)?e(t[i],t):""}var o,s="function"==typeof I?I(t):[];if(N){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)V(t,c)&&(r&&String(Number(c))===c&&c<t.length||N&&o["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof I)for(var u=0;u<s.length;u++)x.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}},83519:(t,e,r)=>{var n=r(86587);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},33225:t=>{"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick((function(){t.call(null,e)}));case 3:return process.nextTick((function(){t.call(null,e,r)}));case 4:return process.nextTick((function(){t.call(null,e,r,n)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){t.apply(null,i)}))}}}:t.exports=process},48379:(t,e,r)=>{"use strict";r.r(e),r.d(e,{decode:()=>m,default:()=>E,encode:()=>y,toASCII:()=>w,toUnicode:()=>b,ucs2decode:()=>p,ucs2encode:()=>d});const n=2147483647,i=36,o=/^xn--/,s=/[^\0-\x7F]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=Math.floor,l=String.fromCharCode;function h(t){throw new RangeError(c[t])}function f(t,e){const r=t.split("@");let n="";r.length>1&&(n=r[0]+"@",t=r[1]);const i=function(t,e){const r=[];let n=t.length;for(;n--;)r[n]=e(t[n]);return r}((t=t.replace(a,".")).split("."),e).join(".");return n+i}function p(t){const e=[];let r=0;const n=t.length;for(;r<n;){const i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const n=t.charCodeAt(r++);56320==(64512&n)?e.push(((1023&i)<<10)+(1023&n)+65536):(e.push(i),r--)}else e.push(i)}return e}const d=t=>String.fromCodePoint(...t),g=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},v=function(t,e,r){let n=0;for(t=r?u(t/700):t>>1,t+=u(t/e);t>455;n+=i)t=u(t/35);return u(n+36*t/(t+38))},m=function(t){const e=[],r=t.length;let o=0,s=128,a=72,c=t.lastIndexOf("-");c<0&&(c=0);for(let r=0;r<c;++r)t.charCodeAt(r)>=128&&h("not-basic"),e.push(t.charCodeAt(r));for(let f=c>0?c+1:0;f<r;){const c=o;for(let e=1,s=i;;s+=i){f>=r&&h("invalid-input");const c=(l=t.charCodeAt(f++))>=48&&l<58?l-48+26:l>=65&&l<91?l-65:l>=97&&l<123?l-97:i;c>=i&&h("invalid-input"),c>u((n-o)/e)&&h("overflow"),o+=c*e;const p=s<=a?1:s>=a+26?26:s-a;if(c<p)break;const d=i-p;e>u(n/d)&&h("overflow"),e*=d}const p=e.length+1;a=v(o-c,p,0==c),u(o/p)>n-s&&h("overflow"),s+=u(o/p),o%=p,e.splice(o++,0,s)}var l;return String.fromCodePoint(...e)},y=function(t){const e=[],r=(t=p(t)).length;let o=128,s=0,a=72;for(const r of t)r<128&&e.push(l(r));const c=e.length;let f=c;for(c&&e.push("-");f<r;){let r=n;for(const e of t)e>=o&&e<r&&(r=e);const p=f+1;r-o>u((n-s)/p)&&h("overflow"),s+=(r-o)*p,o=r;for(const r of t)if(r<o&&++s>n&&h("overflow"),r===o){let t=s;for(let r=i;;r+=i){const n=r<=a?1:r>=a+26?26:r-a;if(t<n)break;const o=t-n,s=i-n;e.push(l(g(n+o%s,0))),t=u(o/s)}e.push(l(g(t,0))),a=v(s,p,f===c),s=0,++f}++s,++o}return e.join("")},b=function(t){return f(t,(function(t){return o.test(t)?m(t.slice(4).toLowerCase()):t}))},w=function(t){return f(t,(function(t){return s.test(t)?"xn--"+y(t):t}))},E={version:"2.3.1",ucs2:{decode:p,encode:d},decode:m,encode:y,toASCII:w,toUnicode:b}},74765:t=>{"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:n}},55373:(t,e,r)=>{"use strict";var n=r(98636),i=r(62642),o=r(74765);t.exports={formats:o,parse:i,stringify:n}},62642:(t,e,r)=>{"use strict";var n=r(37720),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=a?o.slice(0,a.index):o,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var h=0;r.depth>0&&null!==(a=s.exec(o))&&h<r.depth;){if(h+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+o.slice(a.index)+"]"),function(t,e,r,n){for(var i=n?e:c(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&r.parseArrays)s=r.allowEmptyArrays&&""===i?[]:[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,h=parseInt(l,10);r.parseArrays||""!==l?!isNaN(h)&&a!==l&&String(h)===l&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(s=[])[h]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i}(l,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return s;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset,r=void 0===t.duplicates?s.duplicates:t.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||s.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,duplicates:r,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var r,u={__proto__:null},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,f=l.split(e.delimiter,h),p=-1,d=e.charset;if(e.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?d="utf-8":"utf8=%26%2310003%3B"===f[r]&&(d="iso-8859-1"),p=r,r=f.length);for(r=0;r<f.length;++r)if(r!==p){var g,v,m=f[r],y=m.indexOf("]="),b=-1===y?m.indexOf("="):y+1;-1===b?(g=e.decoder(m,s.decoder,d,"key"),v=e.strictNullHandling?null:""):(g=e.decoder(m.slice(0,b),s.decoder,d,"key"),v=n.maybeMap(c(m.slice(b+1),e),(function(t){return e.decoder(t,s.decoder,d,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===d&&(v=a(v)),m.indexOf("[]=")>-1&&(v=o(v)?[v]:v);var w=i.call(u,g);w&&"combine"===e.duplicates?u[g]=n.combine(u[g],v):w&&"last"!==e.duplicates||(u[g]=v)}return u}(t,r):t,h=r.plainObjects?Object.create(null):{},f=Object.keys(l),p=0;p<f.length;++p){var d=f[p],g=u(d,l[d],r,"string"==typeof t);h=n.merge(h,g,r)}return!0===r.allowSparse?h:n.compact(h)}},98636:(t,e,r)=>{"use strict";var n=r(920),i=r(37720),o=r(74765),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,u=Array.prototype.push,l=function(t,e){u.apply(t,c(e)?e:[e])},h=Date.prototype.toISOString,f=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},d={},g=function t(e,r,o,s,a,u,h,f,g,v,m,y,b,w,E,S,_,A){for(var T,O=e,P=A,I=0,C=!1;void 0!==(P=P.get(d))&&!C;){var N=P.get(e);if(I+=1,void 0!==N){if(N===I)throw new RangeError("Cyclic object value");C=!0}void 0===P.get(d)&&(I=0)}if("function"==typeof v?O=v(r,O):O instanceof Date?O=b(O):"comma"===o&&c(O)&&(O=i.maybeMap(O,(function(t){return t instanceof Date?b(t):t}))),null===O){if(u)return g&&!S?g(r,p.encoder,_,"key",w):r;O=""}if("string"==typeof(T=O)||"number"==typeof T||"boolean"==typeof T||"symbol"==typeof T||"bigint"==typeof T||i.isBuffer(O))return g?[E(S?r:g(r,p.encoder,_,"key",w))+"="+E(g(O,p.encoder,_,"value",w))]:[E(r)+"="+E(String(O))];var k,x=[];if(void 0===O)return x;if("comma"===o&&c(O))S&&g&&(O=i.maybeMap(O,g)),k=[{value:O.length>0?O.join(",")||null:void 0}];else if(c(v))k=v;else{var R=Object.keys(O);k=m?R.sort(m):R}var D=f?r.replace(/\./g,"%2E"):r,M=s&&c(O)&&1===O.length?D+"[]":D;if(a&&c(O)&&0===O.length)return M+"[]";for(var L=0;L<k.length;++L){var j=k[L],B="object"==typeof j&&void 0!==j.value?j.value:O[j];if(!h||null!==B){var F=y&&f?j.replace(/\./g,"%2E"):j,U=c(O)?"function"==typeof o?o(M,F):M:M+(y?"."+F:"["+F+"]");A.set(e,I);var H=n();H.set(d,A),l(x,t(B,U,o,s,a,u,h,f,"comma"===o&&S&&c(O)?null:g,v,m,y,b,w,E,S,_,H))}}return x};t.exports=function(t,e){var r,i=t,u=function(t){if(!t)return p;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==t.format){if(!s.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n,i=o.formatters[r],u=p.filter;if(("function"==typeof t.filter||c(t.filter))&&(u=t.filter),n=t.arrayFormat in a?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===t.allowDots?!0===t.encodeDotInKeys||p.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:n,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:u,format:r,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(r=u.filter);var h=[];if("object"!=typeof i||null===i)return"";var f=a[u.arrayFormat],d="comma"===f&&u.commaRoundTrip;r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var v=n(),m=0;m<r.length;++m){var y=r[m];u.skipNulls&&null===i[y]||l(h,g(i[y],y,f,d,u.allowEmptyArrays,u.strictNullHandling,u.skipNulls,u.encodeDotInKeys,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,v))}var b=h.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},37720:(t,e,r)=>{"use strict";var n=r(74765),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},c=1024;t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:s,prop:u}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,i,o){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",l=0;l<a.length;l+=c){for(var h=a.length>=c?a.slice(l,l+c):a,f=[],p=0;p<h.length;++p){var d=h.charCodeAt(p);45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===n.RFC1738&&(40===d||41===d)?f[f.length]=h.charAt(p):d<128?f[f.length]=s[d]:d<2048?f[f.length]=s[192|d>>6]+s[128|63&d]:d<55296||d>=57344?f[f.length]=s[224|d>>12]+s[128|d>>6&63]+s[128|63&d]:(p+=1,d=65536+((1023&d)<<10|1023&h.charCodeAt(p)),f[f.length]=s[240|d>>18]+s[128|d>>12&63]+s[128|d>>6&63]+s[128|63&d])}u+=f.join("")}return u},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(o(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var s=e;return o(e)&&!o(r)&&(s=a(e,n)),o(e)&&o(r)?(r.forEach((function(r,o){if(i.call(e,o)){var s=e[o];s&&"object"==typeof s&&r&&"object"==typeof r?e[o]=t(s,r,n):e.push(r)}else e[o]=r})),e):Object.keys(r).reduce((function(e,o){var s=r[o];return i.call(e,o)?e[o]=t(e[o],s,n):e[o]=s,e}),s)}}},90374:(t,e,r)=>{"use strict";r.d(e,{Zy:()=>Dr,pU:()=>cn,dY:()=>Mn});var n=r(35587);const i={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5},o={UNDETERMINED:0,TOUCHES_DOWN:1,TOUCHES_MOVE:2,TOUCHES_UP:3,TOUCHES_CANCELLED:4},s={},a=new Map,c=new Map;new Map;let u=1;class l{static getHandler(t){if(t in this.gestures)return this.gestures[t];throw new Error(`No handler for tag ${t}`)}static createGestureHandler(t,e){if(t in this.gestures)throw new Error(`Handler with tag ${t} already exists`);this.gestures[t]=e,this.gestures[t].setTag(t)}static dropGestureHandler(t){t in this.gestures&&delete this.gestures[t]}static getNodes(){return{...this.gestures}}}var h,f,p;p={},(f="gestures")in(h=l)?Object.defineProperty(h,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[f]=p;const d={create:t=>({begin:()=>{l.getHandler(t).begin()},activate:()=>{l.getHandler(t).activate()},fail:()=>{l.getHandler(t).fail()},end:()=>{l.getHandler(t).end()}})};let g=null,v=null;const m=new Map,y=[];function b(t){return null!=t.oldState}function w(t){var e,r,n,s,u,l,h,f;const p=function(t){return a.get(t)}(t.handlerTag);if(p){var g,v;if(b(t))if(t.oldState===i.UNDETERMINED&&t.state===i.BEGAN)null===(g=(v=p.handlers).onBegin)||void 0===g||g.call(v,t);else if(t.oldState!==i.BEGAN&&t.oldState!==i.UNDETERMINED||t.state!==i.ACTIVE){if(t.oldState!==t.state&&t.state===i.END){var w,E,S,_;t.oldState===i.ACTIVE&&(null===(S=(_=p.handlers).onEnd)||void 0===S||S.call(_,t,!0)),null===(w=(E=p.handlers).onFinalize)||void 0===w||w.call(E,t,!0),y[p.handlers.handlerTag]=void 0}else if((t.state===i.FAILED||t.state===i.CANCELLED)&&t.oldState!==t.state){var A,T,O,P;t.oldState===i.ACTIVE&&(null===(O=(P=p.handlers).onEnd)||void 0===O||O.call(P,t,!1)),null===(A=(T=p.handlers).onFinalize)||void 0===A||A.call(T,t,!1),m.delete(t.handlerTag),y[p.handlers.handlerTag]=void 0}}else{var I,C;null===(I=(C=p.handlers).onStart)||void 0===I||I.call(C,t),y[p.handlers.handlerTag]=t}else if(function(t){return null!=t.eventType}(t)){m.has(t.handlerTag)||m.set(t.handlerTag,d.create(t.handlerTag));const i=m.get(t.handlerTag);switch(t.eventType){case o.TOUCHES_DOWN:null===(e=p.handlers)||void 0===e||null===(r=e.onTouchesDown)||void 0===r||r.call(e,t,i);break;case o.TOUCHES_MOVE:null===(n=p.handlers)||void 0===n||null===(s=n.onTouchesMove)||void 0===s||s.call(n,t,i);break;case o.TOUCHES_UP:null===(u=p.handlers)||void 0===u||null===(l=u.onTouchesUp)||void 0===l||l.call(u,t,i);break;case o.TOUCHES_CANCELLED:null===(h=p.handlers)||void 0===h||null===(f=h.onTouchesCancelled)||void 0===f||f.call(h,t,i)}}else{var N,k,x,R,D,M;null===(N=(k=p.handlers).onUpdate)||void 0===N||N.call(k,t),p.handlers.onChange&&p.handlers.changeEventCalculator&&(null===(x=(R=p.handlers).onChange)||void 0===x||x.call(R,null===(D=(M=p.handlers).changeEventCalculator)||void 0===D?void 0:D.call(M,t,y[p.handlers.handlerTag])),y[p.handlers.handlerTag]=t)}}else{const e=function(t){return c.get(t)}(t.handlerTag);if(e){const r={nativeEvent:t};return void(b(t)?e.onGestureStateChange(r):e.onGestureEvent(r))}}}var E=r(96540);let S=!1;function _(){return S=!0,true}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class T{constructor(){A(this,"waitForRelations",new Map),A(this,"simultaneousRelations",new Map),A(this,"blocksHandlersRelations",new Map)}configureInteractions(t,e){if(this.dropRelationsForHandlerWithTag(t.getTag()),e.waitFor){const r=[];e.waitFor.forEach((t=>{"number"==typeof t?r.push(t):r.push(t.handlerTag)})),this.waitForRelations.set(t.getTag(),r)}if(e.simultaneousHandlers){const r=[];e.simultaneousHandlers.forEach((t=>{"number"==typeof t?r.push(t):r.push(t.handlerTag)})),this.simultaneousRelations.set(t.getTag(),r)}if(e.blocksHandlers){const r=[];e.blocksHandlers.forEach((t=>{"number"==typeof t?r.push(t):r.push(t.handlerTag)})),this.blocksHandlersRelations.set(t.getTag(),r)}}shouldWaitForHandlerFailure(t,e){const r=this.waitForRelations.get(t.getTag());return void 0!==(null==r?void 0:r.find((t=>t===e.getTag())))}shouldRecognizeSimultaneously(t,e){const r=this.simultaneousRelations.get(t.getTag());return void 0!==(null==r?void 0:r.find((t=>t===e.getTag())))}shouldRequireHandlerToWaitForFailure(t,e){const r=this.blocksHandlersRelations.get(t.getTag());return void 0!==(null==r?void 0:r.find((t=>t===e.getTag())))}shouldHandlerBeCancelledBy(t,e){return!1}dropRelationsForHandlerWithTag(t){this.waitForRelations.delete(t),this.simultaneousRelations.delete(t),this.blocksHandlersRelations.delete(t)}reset(){this.waitForRelations.clear(),this.simultaneousRelations.clear(),this.blocksHandlersRelations.clear()}static getInstance(){return this.instance||(this.instance=new T),this.instance}}A(T,"instance",void 0);let O,P,I,C;function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var k;!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.LEFT_RIGHT=3]="LEFT_RIGHT",t[t.SCROLL=4]="SCROLL",t[t.SCROLL_LEFT=5]="SCROLL_LEFT",t[t.SCROLL_RIGHT=6]="SCROLL_RIGHT",t[t.SCROLL_LEFT_RIGHT=7]="SCROLL_LEFT_RIGHT"}(O||(O={})),function(t){t[t.DOWN=0]="DOWN",t[t.ADDITIONAL_POINTER_DOWN=1]="ADDITIONAL_POINTER_DOWN",t[t.UP=2]="UP",t[t.ADDITIONAL_POINTER_UP=3]="ADDITIONAL_POINTER_UP",t[t.MOVE=4]="MOVE",t[t.ENTER=5]="ENTER",t[t.LEAVE=6]="LEAVE",t[t.CANCEL=7]="CANCEL"}(P||(P={})),(k=I||(I={}))[k.UNDETERMINED=0]="UNDETERMINED",k[k.DOWN=1]="DOWN",k[k.MOVE=2]="MOVE",k[k.UP=3]="UP",k[k.CANCELLED=4]="CANCELLED",function(t){t.NONE="none",t.MOUSE="mouse",t.TOUCH="touch",t.PEN="pen"}(C||(C={}));class x{constructor(t){N(this,"bufferSize",void 0),N(this,"buffer",void 0),N(this,"index",void 0),N(this,"actualSize",void 0),this.bufferSize=t,this.buffer=new Array(t),this.index=0,this.actualSize=0}get size(){return this.actualSize}push(t){this.buffer[this.index]=t,this.index=(this.index+1)%this.bufferSize,this.actualSize=Math.min(this.actualSize+1,this.bufferSize)}get(t){if(this.actualSize===this.bufferSize){let e=(this.index+t)%this.bufferSize;return e<0&&(e+=this.bufferSize),this.buffer[e]}return this.buffer[t]}clear(){this.buffer=new Array(this.bufferSize),this.index=0,this.actualSize=0}}function R(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class D{constructor(t){R(this,"offset",void 0),R(this,"length",void 0),R(this,"elements",void 0),this.offset=0,this.length=t,this.elements=new Array(t)}static fromVOL(t,e,r){const n=new D(0);return n.offset=e,n.length=r,n.elements=t,n}get(t){return this.elements[this.offset+t]}set(t,e){this.elements[this.offset+t]=e}dot(t){let e=0;for(let r=0;r<this.length;r++)e+=this.get(r)*t.get(r);return e}norm(){return Math.sqrt(this.dot(this))}}class M{constructor(t,e){R(this,"columns",void 0),R(this,"elements",void 0),this.columns=e,this.elements=new Array(t*e)}get(t,e){return this.elements[t*this.columns+e]}set(t,e,r){this.elements[t*this.columns+e]=r}getRow(t){return D.fromVOL(this.elements,t*this.columns,this.columns)}}class L{constructor(t){R(this,"coefficients",void 0),this.coefficients=new Array(t+1)}}class j{constructor(t,e,r){R(this,"x",void 0),R(this,"y",void 0),R(this,"w",void 0),this.x=t,this.y=e,this.w=r}solve(t){if(t>this.x.length)return null;const e=new L(t),r=this.x.length,n=t+1,i=new M(n,r);for(let t=0;t<r;t++){i.set(0,t,this.w[t]);for(let e=1;e<n;e++)i.set(e,t,i.get(e-1,t)*this.x[t])}const o=new M(n,r),s=new M(n,r);for(let t=0;t<n;t+=1){for(let e=0;e<r;e+=1)o.set(t,e,i.get(t,e));for(let e=0;e<t;e+=1){const n=o.getRow(t).dot(o.getRow(e));for(let i=0;i<r;i+=1)o.set(t,i,o.get(t,i)-n*o.get(e,i))}const e=o.getRow(t).norm();if(e<1e-10)return null;const a=1/e;for(let e=0;e<r;e+=1)o.set(t,e,o.get(t,e)*a);for(let e=0;e<n;e+=1)s.set(t,e,e<t?0:o.getRow(t).dot(i.getRow(e)))}const a=new D(r);for(let t=0;t<r;t+=1)a.set(t,this.y[t]*this.w[t]);for(let t=n-1;t>=0;t-=1){e.coefficients[t]=o.getRow(t).dot(a);for(let r=n-1;r>t;r-=1)e.coefficients[t]-=s.get(t,r)*e.coefficients[r];e.coefficients[t]/=s.get(t,t)}return e}}function B(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class F{constructor(){B(this,"assumePointerMoveStoppedMilliseconds",40),B(this,"historySize",20),B(this,"horizonMilliseconds",300),B(this,"minSampleSize",3),B(this,"samples",void 0),this.samples=new x(this.historySize)}add(t){this.samples.push(t)}getVelocityEstimate(){const t=[],e=[],r=[],n=[];let i=0,o=this.samples.size-1;const s=this.samples.get(o);if(!s)return null;let a=s;for(;i<this.samples.size;){const c=this.samples.get(o),u=s.time-c.time,l=Math.abs(c.time-a.time);if(a=c,u>this.horizonMilliseconds||l>this.assumePointerMoveStoppedMilliseconds)break;t.push(c.x),e.push(c.y),r.push(1),n.push(-u),i++,o--}if(i>=this.minSampleSize){const i=new j(n,t,r).solve(2);if(null!==i){const t=new j(n,e,r).solve(2);if(null!==t)return[1e3*i.coefficients[1],1e3*t.coefficients[1]]}}return null}getVelocity(){const t=this.getVelocityEstimate();return null!==t?t:[0,0]}reset(){this.samples.clear()}}function U(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class H{constructor(){U(this,"velocityTracker",new F),U(this,"trackedPointers",new Map),U(this,"touchEventsIds",new Map),U(this,"lastMovedPointerId",void 0),U(this,"cachedAverages",{x:0,y:0}),this.lastMovedPointerId=NaN;for(let t=0;t<20;++t)this.touchEventsIds.set(t,NaN)}addToTracker(t){if(this.trackedPointers.has(t.pointerId))return;this.lastMovedPointerId=t.pointerId;const e={lastX:t.x,lastY:t.y,timeStamp:t.time,velocityX:0,velocityY:0};this.trackedPointers.set(t.pointerId,e),this.mapTouchEventId(t.pointerId),this.cachedAverages={x:this.getLastAvgX(),y:this.getLastAvgY()}}removeFromTracker(t){this.trackedPointers.delete(t),this.removeMappedTouchId(t)}track(t){const e=this.trackedPointers.get(t.pointerId);if(!e)return;this.lastMovedPointerId=t.pointerId,this.velocityTracker.add(t);const[r,n]=this.velocityTracker.getVelocity();e.velocityX=r,e.velocityY=n,e.lastX=t.x,e.lastY=t.y,this.trackedPointers.set(t.pointerId,e);const i=this.getLastAvgX(),o=this.getLastAvgY();this.cachedAverages={x:i,y:o}}mapTouchEventId(t){for(const[e,r]of this.touchEventsIds)if(isNaN(r)){this.touchEventsIds.set(e,t);break}}removeMappedTouchId(t){const e=this.getMappedTouchEventId(t);isNaN(e)||this.touchEventsIds.set(e,NaN)}getMappedTouchEventId(t){for(const[e,r]of this.touchEventsIds.entries())if(r===t)return e;return NaN}getVelocityX(t){var e;return null===(e=this.trackedPointers.get(t))||void 0===e?void 0:e.velocityX}getVelocityY(t){var e;return null===(e=this.trackedPointers.get(t))||void 0===e?void 0:e.velocityY}getLastX(t){var e,r;return void 0!==t?null===(e=this.trackedPointers.get(t))||void 0===e?void 0:e.lastX:null===(r=this.trackedPointers.get(this.lastMovedPointerId))||void 0===r?void 0:r.lastX}getLastY(t){var e,r;return void 0!==t?null===(e=this.trackedPointers.get(t))||void 0===e?void 0:e.lastY:null===(r=this.trackedPointers.get(this.lastMovedPointerId))||void 0===r?void 0:r.lastY}getLastAvgX(){const t=this.getSumX()/this.trackedPointers.size;return isNaN(t)?this.cachedAverages.x:t}getLastAvgY(){const t=this.getSumY()/this.trackedPointers.size;return isNaN(t)?this.cachedAverages.y:t}getSumX(t){let e=0;return this.trackedPointers.forEach(((r,n)=>{n!==t&&(e+=r.lastX)})),e}getSumY(t){let e=0;return this.trackedPointers.forEach(((r,n)=>{n!==t&&(e+=r.lastY)})),e}getTrackedPointersCount(){return this.trackedPointers.size}getTrackedPointersID(){const t=[];return this.trackedPointers.forEach(((e,r)=>{t.push(r)})),t}getData(){return this.trackedPointers}resetTracker(){this.velocityTracker.reset(),this.trackedPointers.clear(),this.lastMovedPointerId=NaN;for(let t=0;t<20;++t)this.touchEventsIds.set(t,NaN)}static shareCommonPointers(t,e){return t.some((t=>e.includes(t)))}}function G(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class X{constructor(){G(this,"gestureHandlers",[]),G(this,"awaitingHandlers",[]),G(this,"handlingChangeSemaphore",0),G(this,"activationIndex",0)}scheduleFinishedHandlersCleanup(){0===this.handlingChangeSemaphore&&this.cleanupFinishedHandlers()}cleanHandler(t){t.reset(),t.setActive(!1),t.setAwaiting(!1),t.setActivationIndex(Number.MAX_VALUE)}removeHandlerFromOrchestrator(t){this.gestureHandlers.splice(this.gestureHandlers.indexOf(t),1),this.awaitingHandlers.splice(this.awaitingHandlers.indexOf(t),1)}cleanupFinishedHandlers(){for(let t=this.gestureHandlers.length-1;t>=0;--t){const e=this.gestureHandlers[t];e&&this.isFinished(e.getState())&&!e.isAwaiting()&&(this.gestureHandlers.splice(t,1),this.cleanHandler(e))}}hasOtherHandlerToWaitFor(t){let e=!1;return this.gestureHandlers.forEach((r=>{r&&!this.isFinished(r.getState())&&this.shouldHandlerWaitForOther(t,r)&&(e=!0)})),e}tryActivate(t){if(this.hasOtherHandlerToWaitFor(t))this.addAwaitingHandler(t);else if(t.getState()!==i.CANCELLED&&t.getState()!==i.FAILED)if(this.shouldActivate(t))this.makeActive(t);else switch(t.getState()){case i.ACTIVE:t.fail();break;case i.BEGAN:t.cancel()}}shouldActivate(t){for(const e of this.gestureHandlers)if(this.shouldHandlerBeCancelledBy(t,e))return!1;return!0}cleanupAwaitingHandlers(t){for(let e=0;e<this.awaitingHandlers.length;++e)!this.awaitingHandlers[e].isAwaiting()&&this.shouldHandlerWaitForOther(this.awaitingHandlers[e],t)&&(this.cleanHandler(this.awaitingHandlers[e]),this.awaitingHandlers.splice(e,1))}onHandlerStateChange(t,e,r,n){(t.isEnabled()||n)&&(this.handlingChangeSemaphore+=1,this.isFinished(e)&&this.awaitingHandlers.forEach((r=>{this.shouldHandlerWaitForOther(r,t)&&(e===i.END?(null==r||r.cancel(),r.getState()===i.END&&r.sendEvent(i.CANCELLED,i.BEGAN),null==r||r.setAwaiting(!1)):this.tryActivate(r))})),e===i.ACTIVE?this.tryActivate(t):r===i.ACTIVE||r===i.END?t.isActive()?t.sendEvent(e,r):r!==i.ACTIVE||e!==i.CANCELLED&&e!==i.FAILED||t.sendEvent(e,i.BEGAN):r===i.UNDETERMINED&&e===i.CANCELLED||t.sendEvent(e,r),this.handlingChangeSemaphore-=1,this.scheduleFinishedHandlersCleanup(),this.awaitingHandlers.indexOf(t)<0&&this.cleanupAwaitingHandlers(t))}makeActive(t){const e=t.getState();t.setActive(!0),t.setShouldResetProgress(!0),t.setActivationIndex(this.activationIndex++);for(let e=this.gestureHandlers.length-1;e>=0;--e)this.shouldHandlerBeCancelledBy(this.gestureHandlers[e],t)&&this.gestureHandlers[e].cancel();if(this.awaitingHandlers.forEach((e=>{this.shouldHandlerBeCancelledBy(e,t)&&(null==e||e.cancel(),null==e||e.setAwaiting(!0))})),t.sendEvent(i.ACTIVE,i.BEGAN),e!==i.ACTIVE&&(t.sendEvent(i.END,i.ACTIVE),e!==i.END&&t.sendEvent(i.UNDETERMINED,i.END)),t.isAwaiting()){t.setAwaiting(!1);for(let e=0;e<this.awaitingHandlers.length;++e)this.awaitingHandlers[e]===t&&this.awaitingHandlers.splice(e,1)}}addAwaitingHandler(t){let e=!1;this.awaitingHandlers.forEach((r=>{r!==t||(e=!0)})),e||(this.awaitingHandlers.push(t),t.setAwaiting(!0),t.setActivationIndex(this.activationIndex++))}recordHandlerIfNotPresent(t){let e=!1;this.gestureHandlers.forEach((r=>{r!==t||(e=!0)})),e||(this.gestureHandlers.push(t),t.setActive(!1),t.setAwaiting(!1),t.setActivationIndex(Number.MAX_SAFE_INTEGER))}shouldHandlerWaitForOther(t,e){return t!==e&&(t.shouldWaitForHandlerFailure(e)||e.shouldRequireToWaitForFailure(t))}canRunSimultaneously(t,e){return t===e||t.shouldRecognizeSimultaneously(e)||e.shouldRecognizeSimultaneously(t)}shouldHandlerBeCancelledBy(t,e){if(this.canRunSimultaneously(t,e))return!1;if(t!==e&&(t.isAwaiting()||t.getState()===i.ACTIVE))return t.shouldBeCancelledByOther(e);const r=t.getTrackedPointersID(),n=e.getTrackedPointersID();return!(!H.shareCommonPointers(r,n)&&t.getDelegate().getView()!==e.getDelegate().getView())||this.checkOverlap(t,e)}checkOverlap(t,e){const r=t.getTrackedPointersID(),n=e.getTrackedPointersID();let i=!1;return r.forEach((r=>{const n=t.getTracker().getLastX(r),o=t.getTracker().getLastY(r);t.getDelegate().isPointerInBounds({x:n,y:o})&&e.getDelegate().isPointerInBounds({x:n,y:o})&&(i=!0)})),n.forEach((r=>{const n=e.getTracker().getLastX(r),o=e.getTracker().getLastY(r);t.getDelegate().isPointerInBounds({x:n,y:o})&&e.getDelegate().isPointerInBounds({x:n,y:o})&&(i=!0)})),i}isFinished(t){return t===i.END||t===i.FAILED||t===i.CANCELLED}cancelMouseAndPenGestures(t){this.gestureHandlers.forEach((e=>{e.getPointerType()!==C.MOUSE&&e.getPointerType()!==C.PEN||(e!==t?e.cancel():e.getTracker().resetTracker())}))}static getInstance(){return X.instance||(X.instance=new X),X.instance}}function V(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}G(X,"instance",void 0);class Y{constructor(t){V(this,"lastSentState",null),V(this,"currentState",i.UNDETERMINED),V(this,"shouldCancellWhenOutside",!1),V(this,"hasCustomActivationCriteria",!1),V(this,"enabled",!1),V(this,"viewRef",void 0),V(this,"propsRef",void 0),V(this,"handlerTag",void 0),V(this,"config",{enabled:!1}),V(this,"tracker",new H),V(this,"activationIndex",0),V(this,"awaiting",!1),V(this,"active",!1),V(this,"shouldResetProgress",!1),V(this,"pointerType",C.NONE),V(this,"delegate",void 0),V(this,"sendEvent",((t,e)=>{const{onGestureHandlerEvent:r,onGestureHandlerStateChange:n}=this.propsRef.current,o=this.transformEventData(t,e);this.lastSentState!==t&&(this.lastSentState=t,W(n,o)),this.currentState===i.ACTIVE&&(o.nativeEvent.oldState=void 0,W(r,o))})),this.delegate=t}init(t,e){this.propsRef=e,this.viewRef=t,this.currentState=i.UNDETERMINED,this.delegate.init(t,this)}attachEventManager(t){t.setOnPointerDown(this.onPointerDown.bind(this)),t.setOnPointerAdd(this.onPointerAdd.bind(this)),t.setOnPointerUp(this.onPointerUp.bind(this)),t.setOnPointerRemove(this.onPointerRemove.bind(this)),t.setOnPointerMove(this.onPointerMove.bind(this)),t.setOnPointerEnter(this.onPointerEnter.bind(this)),t.setOnPointerLeave(this.onPointerLeave.bind(this)),t.setOnPointerCancel(this.onPointerCancel.bind(this)),t.setOnPointerOutOfBounds(this.onPointerOutOfBounds.bind(this)),t.setOnPointerMoveOver(this.onPointerMoveOver.bind(this)),t.setOnPointerMoveOut(this.onPointerMoveOut.bind(this)),t.setListeners()}onCancel(){}onReset(){}resetProgress(){}reset(){this.tracker.resetTracker(),this.onReset(),this.resetProgress(),this.delegate.reset(),this.currentState=i.UNDETERMINED}moveToState(t,e){if(this.currentState===t)return;const r=this.currentState;this.currentState=t,this.tracker.getTrackedPointersCount()>0&&this.config.needsPointerData&&this.isFinished()&&this.cancelTouches(),X.getInstance().onHandlerStateChange(this,t,r,e),this.onStateChange(t,r)}onStateChange(t,e){}begin(){this.checkHitSlop()&&this.currentState===i.UNDETERMINED&&this.moveToState(i.BEGAN)}fail(t){this.currentState!==i.ACTIVE&&this.currentState!==i.BEGAN||(this.delegate.onFail(),this.moveToState(i.FAILED,t)),this.resetProgress()}cancel(t){this.currentState!==i.ACTIVE&&this.currentState!==i.UNDETERMINED&&this.currentState!==i.BEGAN||(this.onCancel(),this.delegate.onCancel(),this.moveToState(i.CANCELLED,t))}activate(t=!1){this.currentState!==i.UNDETERMINED&&this.currentState!==i.BEGAN||(this.delegate.onActivate(),this.moveToState(i.ACTIVE))}end(){this.currentState!==i.BEGAN&&this.currentState!==i.ACTIVE||(this.delegate.onEnd(),this.moveToState(i.END)),this.resetProgress()}isAwaiting(){return this.awaiting}setAwaiting(t){this.awaiting=t}isActive(){return this.active}setActive(t){this.active=t}getShouldResetProgress(){return this.shouldResetProgress}setShouldResetProgress(t){this.shouldResetProgress=t}getActivationIndex(){return this.activationIndex}setActivationIndex(t){this.activationIndex=t}shouldWaitForHandlerFailure(t){return t!==this&&T.getInstance().shouldWaitForHandlerFailure(this,t)}shouldRequireToWaitForFailure(t){return t!==this&&T.getInstance().shouldRequireHandlerToWaitForFailure(this,t)}shouldRecognizeSimultaneously(t){return t===this||T.getInstance().shouldRecognizeSimultaneously(this,t)}shouldBeCancelledByOther(t){return t!==this&&T.getInstance().shouldHandlerBeCancelledBy(this,t)}onPointerDown(t){X.getInstance().recordHandlerIfNotPresent(this),this.pointerType=t.pointerType,this.pointerType===C.TOUCH&&X.getInstance().cancelMouseAndPenGestures(this),this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerAdd(t){this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerUp(t){this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerRemove(t){this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerMove(t){this.tryToSendMoveEvent(!1),this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerLeave(t){if(this.shouldCancellWhenOutside)switch(this.currentState){case i.ACTIVE:this.cancel();break;case i.BEGAN:this.fail()}else this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerEnter(t){this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerCancel(t){this.config.needsPointerData&&this.sendTouchEvent(t),this.cancel(),this.reset()}onPointerOutOfBounds(t){this.tryToSendMoveEvent(!0),this.config.needsPointerData&&this.sendTouchEvent(t)}onPointerMoveOver(t){}onPointerMoveOut(t){}tryToSendMoveEvent(t){this.enabled&&this.active&&(!t||t&&!this.shouldCancellWhenOutside)&&this.sendEvent(this.currentState,this.currentState)}sendTouchEvent(t){if(!this.enabled)return;const{onGestureHandlerEvent:e}=this.propsRef.current,r=this.transformTouchEvent(t);r&&W(e,r)}transformEventData(t,e){return{nativeEvent:{numberOfPointers:this.tracker.getTrackedPointersCount(),state:t,pointerInside:this.delegate.isPointerInBounds({x:this.tracker.getLastAvgX(),y:this.tracker.getLastAvgY()}),...this.transformNativeEvent(),handlerTag:this.handlerTag,target:this.viewRef,oldState:t!==e?e:void 0},timeStamp:Date.now()}}transformTouchEvent(t){var e;const r=this.delegate.measureView(),n=[],i=[],o=this.tracker.getData();if(0===o.size||!o.has(t.pointerId))return;o.forEach(((t,e)=>{const i=this.tracker.getMappedTouchEventId(e);n.push({id:i,x:t.lastX-r.pageX,y:t.lastY-r.pageY,absoluteX:t.lastX,absoluteY:t.lastY})})),t.eventType!==P.CANCEL?i.push({id:this.tracker.getMappedTouchEventId(t.pointerId),x:t.x-r.pageX,y:t.y-r.pageY,absoluteX:t.x,absoluteY:t.y}):o.forEach(((t,e)=>{const n=this.tracker.getMappedTouchEventId(e);i.push({id:n,x:t.lastX-r.pageX,y:t.lastY-r.pageY,absoluteX:t.lastX,absoluteY:t.lastY})}));let s=I.UNDETERMINED;switch(t.eventType){case P.DOWN:case P.ADDITIONAL_POINTER_DOWN:s=I.DOWN;break;case P.UP:case P.ADDITIONAL_POINTER_UP:s=I.UP;break;case P.MOVE:s=I.MOVE;break;case P.CANCEL:s=I.CANCELLED}let a=n.length;return t.eventType!==P.UP&&t.eventType!==P.ADDITIONAL_POINTER_UP||--a,{nativeEvent:{handlerTag:this.handlerTag,state:this.currentState,eventType:null!==(e=t.touchEventType)&&void 0!==e?e:s,changedTouches:i,allTouches:n,numberOfTouches:a},timeStamp:Date.now()}}cancelTouches(){const t=this.delegate.measureView(),e=[],r=[],n=this.tracker.getData();if(0===n.size)return;n.forEach(((n,i)=>{const o=this.tracker.getMappedTouchEventId(i);e.push({id:o,x:n.lastX-t.pageX,y:n.lastY-t.pageY,absoluteX:n.lastX,absoluteY:n.lastY}),r.push({id:o,x:n.lastX-t.pageX,y:n.lastY-t.pageY,absoluteX:n.lastX,absoluteY:n.lastY})}));const i={nativeEvent:{handlerTag:this.handlerTag,state:this.currentState,eventType:I.CANCELLED,changedTouches:r,allTouches:e,numberOfTouches:e.length},timeStamp:Date.now()},{onGestureHandlerEvent:o}=this.propsRef.current;W(o,i)}transformNativeEvent(){const t=this.delegate.measureView();return{x:this.tracker.getLastAvgX()-t.pageX,y:this.tracker.getLastAvgY()-t.pageY,absoluteX:this.tracker.getLastAvgX(),absoluteY:this.tracker.getLastAvgY()}}updateGestureConfig({enabled:t=!0,...e}){if(this.config={enabled:t,...e},this.enabled=t,void 0!==this.config.shouldCancelWhenOutside&&this.setShouldCancelWhenOutside(this.config.shouldCancelWhenOutside),this.validateHitSlops(),!this.enabled)switch(this.currentState){case i.ACTIVE:this.fail(!0);break;case i.UNDETERMINED:X.getInstance().removeHandlerFromOrchestrator(this);break;default:this.cancel(!0)}}checkCustomActivationCriteria(t){for(const e in this.config)t.indexOf(e)>=0&&(this.hasCustomActivationCriteria=!0)}validateHitSlops(){if(this.config.hitSlop){if(void 0!==this.config.hitSlop.left&&void 0!==this.config.hitSlop.right&&void 0!==this.config.hitSlop.width)throw new Error("HitSlop Error: Cannot define left, right and width at the same time");if(void 0!==this.config.hitSlop.width&&void 0===this.config.hitSlop.left&&void 0===this.config.hitSlop.right)throw new Error("HitSlop Error: When width is defined, either left or right has to be defined");if(void 0!==this.config.hitSlop.height&&void 0!==this.config.hitSlop.top&&void 0!==this.config.hitSlop.bottom)throw new Error("HitSlop Error: Cannot define top, bottom and height at the same time");if(void 0!==this.config.hitSlop.height&&void 0===this.config.hitSlop.top&&void 0===this.config.hitSlop.bottom)throw new Error("HitSlop Error: When height is defined, either top or bottom has to be defined")}}checkHitSlop(){if(!this.config.hitSlop)return!0;const{width:t,height:e}=this.delegate.measureView();let r=0,n=0,i=t,o=e;void 0!==this.config.hitSlop.horizontal&&(r-=this.config.hitSlop.horizontal,i+=this.config.hitSlop.horizontal),void 0!==this.config.hitSlop.vertical&&(n-=this.config.hitSlop.vertical,o+=this.config.hitSlop.vertical),void 0!==this.config.hitSlop.left&&(r=-this.config.hitSlop.left),void 0!==this.config.hitSlop.right&&(i=t+this.config.hitSlop.right),void 0!==this.config.hitSlop.top&&(n=-this.config.hitSlop.top),void 0!==this.config.hitSlop.bottom&&(o=t+this.config.hitSlop.bottom),void 0!==this.config.hitSlop.width&&(void 0!==this.config.hitSlop.left?i=r+this.config.hitSlop.width:void 0!==this.config.hitSlop.right&&(r=i-this.config.hitSlop.width)),void 0!==this.config.hitSlop.height&&(void 0!==this.config.hitSlop.top?o=n+this.config.hitSlop.height:void 0!==this.config.hitSlop.bottom&&(n=o-this.config.hitSlop.height));const s=this.delegate.measureView(),a=this.tracker.getLastX()-s.pageX,c=this.tracker.getLastY()-s.pageY;return a>=r&&a<=i&&c>=n&&c<=o}resetConfig(){}getTag(){return this.handlerTag}setTag(t){this.handlerTag=t}getConfig(){return this.config}getDelegate(){return this.delegate}getTracker(){return this.tracker}getTrackedPointersID(){return this.tracker.getTrackedPointersID()}getState(){return this.currentState}isEnabled(){return this.enabled}isFinished(){return this.currentState===i.END||this.currentState===i.FAILED||this.currentState===i.CANCELLED}setShouldCancelWhenOutside(t){this.shouldCancellWhenOutside=t}getShouldCancelWhenOutside(){return this.shouldCancellWhenOutside}getPointerType(){return this.pointerType}}function W(t,e){if(!t)return;if("function"==typeof t)return void t(e);if("__getHandler"in t&&"function"==typeof t.__getHandler)return void W(t.__getHandler(),e);if(!("__nodeConfig"in t))return;const{argMapping:r}=t.__nodeConfig;if(Array.isArray(r))for(const[n,[i,o]]of r.entries()){if(!(i in e.nativeEvent))continue;const r=e.nativeEvent[i];null!=o&&o.setValue?o.setValue(r):t.__nodeConfig.argMapping[n]=[i,r]}}function q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Q{constructor(t){$(this,"onScaleBegin",void 0),$(this,"onScale",void 0),$(this,"onScaleEnd",void 0),$(this,"focusX",void 0),$(this,"focusY",void 0),$(this,"currentSpan",void 0),$(this,"prevSpan",void 0),$(this,"initialSpan",void 0),$(this,"currentTime",void 0),$(this,"prevTime",void 0),$(this,"inProgress",!1),$(this,"spanSlop",void 0),$(this,"minSpan",void 0),this.onScaleBegin=t.onScaleBegin,this.onScale=t.onScale,this.onScaleEnd=t.onScaleEnd,this.spanSlop=30,this.minSpan=0}onTouchEvent(t,e){this.currentTime=t.time;const r=t.eventType,n=e.getTrackedPointersCount(),i=r===P.UP||r===P.ADDITIONAL_POINTER_UP||r===P.CANCEL;if((r===P.DOWN||i)&&(this.inProgress&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=0),i))return!0;const o=r===P.DOWN||r===P.ADDITIONAL_POINTER_UP||r===P.ADDITIONAL_POINTER_DOWN,s=r===P.ADDITIONAL_POINTER_UP,a=s?t.pointerId:void 0,c=s?n-1:n,u=e.getSumX(a),l=e.getSumY(a),h=u/c,f=l/c;let p=0,d=0;e.getData().forEach(((t,e)=>{e!==a&&(p+=Math.abs(t.lastX-h),d+=Math.abs(t.lastY-f))}));const g=p/c*2,v=d/c*2,m=Math.hypot(g,v),y=this.inProgress;return this.focusX=h,this.focusY=f,this.inProgress&&(m<this.minSpan||o)&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=m),o&&(this.initialSpan=this.prevSpan=this.currentSpan=m),!this.inProgress&&m>=this.minSpan&&(y||Math.abs(m-this.initialSpan)>this.spanSlop)&&(this.prevSpan=this.currentSpan=m,this.prevTime=this.currentTime,this.inProgress=this.onScaleBegin(this)),r!==P.MOVE||(this.currentSpan=m,this.inProgress&&!this.onScale(this)||(this.prevSpan=this.currentSpan,this.prevTime=this.currentTime),!0)}getCurrentSpan(){return this.currentSpan}getFocusX(){return this.focusX}getFocusY(){return this.focusY}getTimeDelta(){return this.currentTime-this.prevTime}getScaleFactor(t){return t<2?1:this.prevSpan>0?this.currentSpan/this.prevSpan:1}}function J(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class tt{constructor(t){Z(this,"onRotationBegin",void 0),Z(this,"onRotation",void 0),Z(this,"onRotationEnd",void 0),Z(this,"currentTime",0),Z(this,"previousTime",0),Z(this,"previousAngle",0),Z(this,"rotation",0),Z(this,"anchorX",0),Z(this,"anchorY",0),Z(this,"isInProgress",!1),Z(this,"keyPointers",[NaN,NaN]),this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,e){this.previousTime=this.currentTime,this.currentTime=t.time;const[r,n]=this.keyPointers,i=e.getLastX(r),o=e.getLastY(r),s=e.getLastX(n),a=e.getLastY(n),c=s-i,u=a-o;this.anchorX=(i+s)/2,this.anchorY=(o+a)/2;const l=-Math.atan2(u,c);this.rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-l,this.previousAngle=l,this.rotation>Math.PI?this.rotation-=Math.PI:this.rotation<-Math.PI&&(this.rotation+=Math.PI),this.rotation>Math.PI/2?this.rotation-=Math.PI:this.rotation<-Math.PI/2&&(this.rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const e=t.getData().keys();this.keyPointers[0]=e.next().value,this.keyPointers[1]=e.next().value}onTouchEvent(t,e){switch(t.eventType){case P.DOWN:this.isInProgress=!1;break;case P.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=t.time,this.previousAngle=NaN,this.setKeyPointers(e),this.updateCurrent(t,e),this.onRotationBegin(this);break;case P.MOVE:if(!this.isInProgress)break;this.updateCurrent(t,e),this.onRotation(this);break;case P.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(t.pointerId)>=0&&this.finish();break;case P.UP:this.isInProgress&&this.finish()}return!0}getTimeDelta(){return this.currentTime+this.previousTime}getAnchorX(){return this.anchorX}getAnchorY(){return this.anchorY}getRotation(){return this.rotation}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}}function et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const rt=Math.PI/36;function nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function it(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class ot extends Y{constructor(...t){super(...t),it(this,"buttonRole",void 0),it(this,"shouldActivateOnStart",!1),it(this,"disallowInterruption",!1),it(this,"startX",0),it(this,"startY",0),it(this,"minDistSq",225)}init(t,e){if(super.init(t,e),this.setShouldCancelWhenOutside(!0),"web"!==n.Platform.OS)return;const r=this.delegate.getView();r.style.touchAction="auto",r.style.WebkitTouchCallout="auto",r.hasAttribute("role")?this.buttonRole=!0:this.buttonRole=!1}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.shouldActivateOnStart&&(this.shouldActivateOnStart=this.config.shouldActivateOnStart),void 0!==this.config.disallowInterruption&&(this.disallowInterruption=this.config.disallowInterruption)}resetConfig(){super.resetConfig()}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.newPointerAction()}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.startX=this.tracker.getLastAvgX(),this.startY=this.tracker.getLastAvgY(),this.currentState===i.UNDETERMINED&&(this.begin(),this.buttonRole&&this.activate())}onPointerMove(t){this.tracker.track(t);const e=this.startX-this.tracker.getLastAvgX(),r=this.startY-this.tracker.getLastAvgY();e*e+r*r>=this.minDistSq&&(this.buttonRole&&this.currentState===i.ACTIVE?this.cancel():this.buttonRole||this.currentState!==i.BEGAN||this.activate())}onPointerLeave(){this.currentState!==i.BEGAN&&this.currentState!==i.ACTIVE||this.cancel()}onPointerUp(t){super.onPointerUp(t),this.onUp(t)}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.tracker.removeFromTracker(t.pointerId),0===this.tracker.getTrackedPointersCount()&&(this.currentState===i.ACTIVE?this.end():this.fail())}shouldRecognizeSimultaneously(t){if(super.shouldRecognizeSimultaneously(t))return!0;if(t instanceof ot&&t.getState()===i.ACTIVE&&t.disallowsInterruption())return!1;const e=!this.disallowInterruption;return(this.currentState!==i.ACTIVE||t.getState()!==i.ACTIVE||!e)&&this.currentState===i.ACTIVE&&e&&t.getTag()>0}shouldBeCancelledByOther(t){return!this.disallowInterruption}disallowsInterruption(){return this.disallowInterruption}}const st={};function at(t){if(t in st)return st[t];throw new Error(`No handler for tag ${t}`)}function ct(){return ct=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ct.apply(this,arguments)}function ut(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ht,ft="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}:Object.assign,pt=["","webkit","Moz","MS","ms","o"],dt="undefined"==typeof document?{style:{}}:document.createElement("div"),gt=Math.round,vt=Math.abs,mt=Date.now;function yt(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),o=0;o<pt.length;){if((n=(r=pt[o])?r+i:e)in t)return n;o++}}ht="undefined"==typeof window?{}:window;var bt=yt(dt.style,"touchAction"),wt=void 0!==bt,Et="compute",St="auto",_t="manipulation",At="none",Tt="pan-x",Ot="pan-y",Pt=function(){if(!wt)return!1;var t={},e=ht.CSS&&ht.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(r){return t[r]=!e||ht.CSS.supports("touch-action",r)})),t}(),It="ontouchstart"in ht,Ct=void 0!==yt(ht,"PointerEvent"),Nt=It&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),kt="touch",xt="mouse",Rt=25,Dt=1,Mt=4,Lt=8,jt=1,Bt=2,Ft=4,Ut=8,Ht=16,Gt=Bt|Ft,Xt=Ut|Ht,Vt=Gt|Xt,Yt=["x","y"],Wt=["clientX","clientY"];function qt(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Kt(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function zt(t,e){return t.indexOf(e)>-1}var $t=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Et&&(t=this.compute()),wt&&this.manager.element.style&&Pt[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return qt(this.manager.recognizers,(function(e){Kt(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(zt(t,At))return At;var e=zt(t,Tt),r=zt(t,Ot);return e&&r?At:e||r?e?Tt:Ot:zt(t,_t)?_t:St}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,i=zt(n,At)&&!Pt[At],o=zt(n,Ot)&&!Pt[Ot],s=zt(n,Tt)&&!Pt[Tt];if(i){var a=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(a&&c&&u)return}if(!s||!o)return i||o&&r&Gt||s&&r&Xt?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Qt(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Jt(t){var e=t.length;if(1===e)return{x:gt(t[0].clientX),y:gt(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:gt(r/e),y:gt(n/e)}}function Zt(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:gt(t.pointers[r].clientX),clientY:gt(t.pointers[r].clientY)},r++;return{timeStamp:mt(),pointers:e,center:Jt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function te(t,e,r){r||(r=Yt);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function ee(t,e,r){r||(r=Yt);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return 180*Math.atan2(i,n)/Math.PI}function re(t,e){return t===e?jt:vt(t)>=vt(e)?t<0?Bt:Ft:e<0?Ut:Ht}function ne(t,e,r){return{x:e/t||0,y:r/t||0}}function ie(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,o=e&Dt&&n-i==0,s=e&(Mt|Lt)&&n-i==0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,function(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Zt(e)),i>1&&!r.firstMultiple?r.firstMultiple=Zt(e):1===i&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,c=e.center=Jt(n);e.timeStamp=mt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=ee(a,c),e.distance=te(a,c),function(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Dt&&o.eventType!==Mt||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}(r,e),e.offsetDirection=re(e.deltaX,e.deltaY);var u,l,h=ne(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=vt(h.x)>vt(h.y)?h.x:h.y,e.scale=s?(u=s.pointers,te((l=n)[0],l[1],Wt)/te(u[0],u[1],Wt)):1,e.rotation=s?function(t,e){return ee(e[1],e[0],Wt)+ee(t[1],t[0],Wt)}(s.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,function(t,e){var r,n,i,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==Lt&&(a>Rt||void 0===s.velocity)){var c=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,l=ne(a,c,u);n=l.x,i=l.y,r=vt(l.x)>vt(l.y)?l.x:l.y,o=re(c,u),t.lastInterval=e}else r=s.velocity,n=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=r,e.velocityX=n,e.velocityY=i,e.direction=o}(r,e);var f,p=t.element,d=e.srcEvent;Qt(f=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,p)&&(p=f),e.target=p}(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function oe(t){return t.trim().split(/\s+/g)}function se(t,e,r){qt(oe(e),(function(e){t.addEventListener(e,r,!1)}))}function ae(t,e,r){qt(oe(e),(function(e){t.removeEventListener(e,r,!1)}))}function ce(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var ue=function(){function t(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Kt(t.options.enable,[t])&&r.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&se(this.element,this.evEl,this.domHandler),this.evTarget&&se(this.target,this.evTarget,this.domHandler),this.evWin&&se(ce(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ae(this.element,this.evEl,this.domHandler),this.evTarget&&ae(this.target,this.evTarget,this.domHandler),this.evWin&&ae(ce(this.element),this.evWin,this.domHandler)},t}();function le(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var he={pointerdown:Dt,pointermove:2,pointerup:Mt,pointercancel:Lt,pointerout:Lt},fe={2:kt,3:"pen",4:xt,5:"kinect"},pe="pointerdown",de="pointermove pointerup pointercancel";ht.MSPointerEvent&&!ht.PointerEvent&&(pe="MSPointerDown",de="MSPointerMove MSPointerUp MSPointerCancel");var ge=function(t){function e(){var r,n=e.prototype;return n.evEl=pe,n.evWin=de,(r=t.apply(this,arguments)||this).store=r.manager.session.pointerEvents=[],r}return ut(e,t),e.prototype.handler=function(t){var e=this.store,r=!1,n=t.type.toLowerCase().replace("ms",""),i=he[n],o=fe[t.pointerType]||t.pointerType,s=o===kt,a=le(e,t.pointerId,"pointerId");i&Dt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):i&(Mt|Lt)&&(r=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),r&&e.splice(a,1))},e}(ue);function ve(t){return Array.prototype.slice.call(t,0)}function me(t,e,r){for(var n=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];le(i,s)<0&&n.push(t[o]),i[o]=s,o++}return r&&(n=e?n.sort((function(t,r){return t[e]>r[e]})):n.sort()),n}var ye={touchstart:Dt,touchmove:2,touchend:Mt,touchcancel:Lt},be=function(t){function e(){var r;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(r=t.apply(this,arguments)||this).targetIds={},r}return ut(e,t),e.prototype.handler=function(t){var e=ye[t.type],r=we.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:kt,srcEvent:t})},e}(ue);function we(t,e){var r,n,i=ve(t.touches),o=this.targetIds;if(e&(2|Dt)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var s=ve(t.changedTouches),a=[],c=this.target;if(n=i.filter((function(t){return Qt(t.target,c)})),e===Dt)for(r=0;r<n.length;)o[n[r].identifier]=!0,r++;for(r=0;r<s.length;)o[s[r].identifier]&&a.push(s[r]),e&(Mt|Lt)&&delete o[s[r].identifier],r++;return a.length?[me(n.concat(a),"identifier",!0),a]:void 0}var Ee={mousedown:Dt,mousemove:2,mouseup:Mt},Se=function(t){function e(){var r,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(r=t.apply(this,arguments)||this).pressed=!1,r}return ut(e,t),e.prototype.handler=function(t){var e=Ee[t.type];e&Dt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=Mt),this.pressed&&(e&Mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:xt,srcEvent:t}))},e}(ue),_e=2500;function Ae(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(r),setTimeout((function(){var t=n.indexOf(r);t>-1&&n.splice(t,1)}),_e)}}function Te(t,e){t&Dt?(this.primaryTouch=e.changedPointers[0].identifier,Ae.call(this,e)):t&(Mt|Lt)&&Ae.call(this,e)}function Oe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],o=Math.abs(e-i.x),s=Math.abs(r-i.y);if(o<=25&&s<=25)return!0}return!1}var Pe=function(){return function(t){function e(e,r){var n;return(n=t.call(this,e,r)||this).handler=function(t,e,r){var i=r.pointerType===kt,o=r.pointerType===xt;if(!(o&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(i)Te.call(lt(lt(n)),e,r);else if(o&&Oe.call(lt(lt(n)),r))return;n.callback(t,e,r)}},n.touch=new be(n.manager,n.handler),n.mouse=new Se(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return ut(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(ue)}();function Ie(t,e,r){return!!Array.isArray(t)&&(qt(t,r[e],r),!0)}var Ce=32,Ne=1;function ke(t,e){var r=e.manager;return r?r.get(t):t}function xe(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Re=function(){function t(t){void 0===t&&(t={}),this.options=ct({enable:!0},t),this.id=Ne++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return ft(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Ie(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=ke(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Ie(t,"dropRecognizeWith",this)||(t=ke(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Ie(t,"requireFailure",this))return this;var e=this.requireFail;return-1===le(e,t=ke(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Ie(t,"dropRequireFailure",this))return this;t=ke(t,this);var e=le(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,r=this.state;function n(r){e.manager.emit(r,t)}r<8&&n(e.options.event+xe(r)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),r>=8&&n(e.options.event+xe(r))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Ce},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=ft({},t);if(!Kt(this.options.enable,[this,e]))return this.reset(),void(this.state=Ce);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),De=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,ct({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}ut(e,t);var r=e.prototype;return r.getTouchAction=function(){return[_t]},r.process=function(t){var e=this,r=this.options,n=t.pointers.length===r.pointers,i=t.distance<r.threshold,o=t.deltaTime<r.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!==Mt)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<r.interval,a=!this.pCenter||te(this.pCenter,t.center)<r.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%r.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),r.interval),2):8}return Ce},r.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Ce}),this.options.interval),Ce},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Re),Me=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ct({pointers:1},e))||this}ut(e,t);var r=e.prototype;return r.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},r.process=function(t){var e=this.state,r=t.eventType,n=6&e,i=this.attrTest(t);return n&&(r&Lt||!i)?16|e:n||i?r&Mt?8|e:2&e?4|e:2:Ce},e}(Re);function Le(t){return t===Ht?"down":t===Ut?"up":t===Bt?"left":t===Ft?"right":""}var je=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,ct({event:"pan",threshold:10,pointers:1,direction:Vt},e))||this).pX=null,r.pY=null,r}ut(e,t);var r=e.prototype;return r.getTouchAction=function(){var t=this.options.direction,e=[];return t&Gt&&e.push(Ot),t&Xt&&e.push(Tt),e},r.directionTest=function(t){var e=this.options,r=!0,n=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Gt?(i=0===o?jt:o<0?Bt:Ft,r=o!==this.pX,n=Math.abs(t.deltaX)):(i=0===s?jt:s<0?Ut:Ht,r=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=i,r&&n>e.threshold&&i&e.direction},r.attrTest=function(t){return Me.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},r.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var r=Le(e.direction);r&&(e.additionalEvent=this.options.event+r),t.prototype.emit.call(this,e)},e}(Me),Be=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ct({event:"swipe",threshold:10,velocity:.3,direction:Gt|Xt,pointers:1},e))||this}ut(e,t);var r=e.prototype;return r.getTouchAction=function(){return je.prototype.getTouchAction.call(this)},r.attrTest=function(e){var r,n=this.options.direction;return n&(Gt|Xt)?r=e.overallVelocity:n&Gt?r=e.overallVelocityX:n&Xt&&(r=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&vt(r)>this.options.velocity&&e.eventType&Mt},r.emit=function(t){var e=Le(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Me),Fe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ct({event:"pinch",threshold:0,pointers:2},e))||this}ut(e,t);var r=e.prototype;return r.getTouchAction=function(){return[At]},r.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},r.emit=function(e){if(1!==e.scale){var r=e.scale<1?"in":"out";e.additionalEvent=this.options.event+r}t.prototype.emit.call(this,e)},e}(Me),Ue=function(t){function e(e){return void 0===e&&(e={}),t.call(this,ct({event:"rotate",threshold:0,pointers:2},e))||this}ut(e,t);var r=e.prototype;return r.getTouchAction=function(){return[At]},r.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Me),He=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,ct({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,r._input=null,r}ut(e,t);var r=e.prototype;return r.getTouchAction=function(){return[St]},r.process=function(t){var e=this,r=this.options,n=t.pointers.length===r.pointers,i=t.distance<r.threshold,o=t.deltaTime>r.time;if(this._input=t,!i||!n||t.eventType&(Mt|Lt)&&!o)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),r.time);else if(t.eventType&Mt)return 8;return Ce},r.reset=function(){clearTimeout(this._timer)},r.emit=function(t){8===this.state&&(t&&t.eventType&Mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=mt(),this.manager.emit(this.options.event,this._input)))},e}(Re),Ge={domEvents:!1,touchAction:Et,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xe=[[Ue,{enable:!1}],[Fe,{enable:!1},["rotate"]],[Be,{direction:Gt}],[je,{direction:Gt},["swipe"]],[De],[De,{event:"doubletap",taps:2},["tap"]],[He]];function Ve(t,e){var r,n=t.element;n.style&&(qt(t.options.cssProps,(function(i,o){r=yt(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}var Ye=function(){function t(t,e){var r=this;this.options=ft({},Ge,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(Ct?ge:Nt?be:It?Pe:Se))(this,ie),this.touchAction=new $t(this,this.options.touchAction),Ve(this,!0),qt(this.options.recognizers,(function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return ft(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var r;this.touchAction.preventDefaults(t);var n=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(e.curRecognizer=null,i=null);for(var o=0;o<n.length;)r=n[o],2===e.stopped||i&&r!==i&&!r.canRecognizeWith(i)?r.reset():r.recognize(t),!i&&14&r.state&&(e.curRecognizer=r,i=r),o++}},e.get=function(t){if(t instanceof Re)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event===t)return e[r];return null},e.add=function(t){if(Ie(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Ie(t,"remove",this))return this;var e=this.get(t);if(t){var r=this.recognizers,n=le(r,e);-1!==n&&(r.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var r=this.handlers;return qt(oe(t),(function(t){r[t]=r[t]||[],r[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var r=this.handlers;return qt(oe(t),(function(t){e?r[t]&&r[t].splice(le(r[t],e),1):delete r[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}(t,e);var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<r.length;)r[n](e),n++}},e.destroy=function(){this.element&&Ve(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),We={touchstart:Dt,touchmove:2,touchend:Mt,touchcancel:Lt},qe=function(t){function e(){var r,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(r=t.apply(this,arguments)||this).started=!1,r}return ut(e,t),e.prototype.handler=function(t){var e=We[t.type];if(e===Dt&&(this.started=!0),this.started){var r=Ke.call(this,t,e);e&(Mt|Lt)&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:kt,srcEvent:t})}},e}(ue);function Ke(t,e){var r=ve(t.touches),n=ve(t.changedTouches);return e&(Mt|Lt)&&(r=me(r.concat(n),"identifier",!0)),[r,n]}function ze(t,e,r){var n="DEPRECATED METHOD: "+e+"\n"+r+" AT \n";return function(){var e=new Error("get-stack-trace"),r=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=window.console&&(window.console.warn||window.console.log);return i&&i.call(window.console,n,r),t.apply(this,arguments)}}var $e=ze((function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&void 0===t[n[i]])&&(t[n[i]]=e[n[i]]),i++;return t}),"extend","Use `assign`."),Qe=ze((function(t,e){return $e(t,e,!0)}),"merge","Use `assign`.");function Je(t,e,r){var n,i=e.prototype;(n=t.prototype=Object.create(i)).constructor=t,n._super=i,r&&ft(n,r)}function Ze(t,e){return function(){return t.apply(e,arguments)}}var tr=function(){var t=function(t,e){return void 0===e&&(e={}),new Ye(t,ct({recognizers:Xe.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Vt,t.DIRECTION_DOWN=Ht,t.DIRECTION_LEFT=Bt,t.DIRECTION_RIGHT=Ft,t.DIRECTION_UP=Ut,t.DIRECTION_HORIZONTAL=Gt,t.DIRECTION_VERTICAL=Xt,t.DIRECTION_NONE=jt,t.DIRECTION_DOWN=Ht,t.INPUT_START=Dt,t.INPUT_MOVE=2,t.INPUT_END=Mt,t.INPUT_CANCEL=Lt,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Ce,t.Manager=Ye,t.Input=ue,t.TouchAction=$t,t.TouchInput=be,t.MouseInput=Se,t.PointerEventInput=ge,t.TouchMouseInput=Pe,t.SingleTouchInput=qe,t.Recognizer=Re,t.AttrRecognizer=Me,t.Tap=De,t.Pan=je,t.Swipe=Be,t.Pinch=Fe,t.Rotate=Ue,t.Press=He,t.on=se,t.off=ae,t.each=qt,t.merge=Qe,t.extend=$e,t.bindFn=Ze,t.assign=ft,t.inherit=Je,t.bindFn=Ze,t.prefixed=yt,t.toArray=ve,t.inArray=le,t.uniqueArray=me,t.splitStr=oe,t.boolOrFn=Kt,t.hasParent=Qt,t.addEventListeners=se,t.removeEventListeners=ae,t.defaults=ft({},Ge,{preset:Xe}),t}();tr.defaults;const er=tr,rr=Math.PI/180,nr={[er.INPUT_START]:i.BEGAN,[er.INPUT_MOVE]:i.ACTIVE,[er.INPUT_END]:i.END,[er.INPUT_CANCEL]:i.FAILED},ir=(er.DIRECTION_RIGHT,er.DIRECTION_LEFT,er.DIRECTION_UP,er.DIRECTION_DOWN,er.INPUT_START,er.INPUT_MOVE,er.INPUT_END,er.INPUT_CANCEL,er.DIRECTION_HORIZONTAL,er.DIRECTION_UP,er.DIRECTION_DOWN,er.DIRECTION_VERTICAL,er.DIRECTION_NONE,er.DIRECTION_ALL,er.DIRECTION_RIGHT,er.DIRECTION_LEFT,"function"==typeof queueMicrotask?queueMicrotask:setImmediate);function or(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}let sr=0;function ar(t,e){if(t)if("function"==typeof t)t(e);else if("__getHandler"in t&&"function"==typeof t.__getHandler)ar(t.__getHandler(),e);else if("__nodeConfig"in t){const{argMapping:r}=t.__nodeConfig;if(Array.isArray(r))for(const[n,[i,o]]of r.entries())if(i in e.nativeEvent){const r=e.nativeEvent[i];o&&o.setValue?o.setValue(r):t.__nodeConfig.argMapping[n]=[i,r]}}}function cr(t){return null==t?[]:Array.isArray(t)?t:[t]}const ur=class{get id(){return`${this.name}${this.gestureInstance}`}get isNative(){return!1}get isDiscrete(){return!1}get shouldEnableGestureOnSetup(){throw new Error("Must override GestureHandler.shouldEnableGestureOnSetup")}constructor(){or(this,"handlerTag",void 0),or(this,"isGestureRunning",!1),or(this,"view",null),or(this,"hasCustomActivationCriteria",void 0),or(this,"hasGestureFailed",!1),or(this,"hammer",null),or(this,"initialRotation",null),or(this,"__initialX",void 0),or(this,"__initialY",void 0),or(this,"config",{}),or(this,"previousState",i.UNDETERMINED),or(this,"pendingGestures",{}),or(this,"oldState",i.UNDETERMINED),or(this,"lastSentState",null),or(this,"gestureInstance",void 0),or(this,"_stillWaiting",void 0),or(this,"propsRef",void 0),or(this,"ref",void 0),or(this,"clearSelfAsPending",(()=>{if(Array.isArray(this.config.waitFor))for(const t of this.config.waitFor)t.removePendingGesture(this.id)})),or(this,"destroy",(()=>{this.clearSelfAsPending(),this.hammer&&(this.hammer.stop(!1),this.hammer.destroy()),this.hammer=null})),or(this,"isPointInView",(({x:t,y:e})=>{const r=this.view.getBoundingClientRect();return t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom})),or(this,"sendEvent",(t=>{const{onGestureHandlerEvent:e,onGestureHandlerStateChange:r}=this.propsRef.current,n=this.transformEventData(t);ar(e,n),this.lastSentState!==n.nativeEvent.state&&(this.lastSentState=n.nativeEvent.state,ar(r,n))})),or(this,"sync",(()=>{const t=this.hammer.get(this.name);if(!t)return;const e=this.getHammerConfig();t.set({...e,enable:(t,e)=>{if(!this.config.enabled)return this.isGestureRunning=!1,this.hasGestureFailed=!1,!1;if(!e||!t.options||void 0===e.maxPointers)return this.shouldEnableGestureOnSetup;if(this.hasGestureFailed)return!1;if(!this.isDiscrete){if(this.isGestureRunning)return!0;if(this._stillWaiting=this._getPendingGestures(),this._stillWaiting.length){for(const t of this._stillWaiting)if(!t.isDiscrete&&t.isGestureRunning)return this.hasGestureFailed=!0,this.isGestureRunning=!1,!1;return!1}}if(!this.hasCustomActivationCriteria)return!0;const r=null==this.initialRotation?0:e.rotation-this.initialRotation,{success:n,failed:i}=this.isGestureEnabledForEvent(this.getConfig(),t,{...e,deltaRotation:r});return i&&(this.simulateCancelEvent(e),this.hasGestureFailed=!0),n}})})),this.gestureInstance=sr++,this.hasCustomActivationCriteria=!1}getConfig(){return this.config}onWaitingEnded(t){}removePendingGesture(t){delete this.pendingGestures[t]}addPendingGesture(t){this.pendingGestures[t.id]=t}isGestureEnabledForEvent(t,e,r){return{success:!0}}get NativeGestureClass(){throw new Error("Must override GestureHandler.NativeGestureClass")}updateHasCustomActivationCriteria(t){return!0}updateGestureConfig({enabled:t=!0,...e}){if(this.clearSelfAsPending(),this.config=this.ensureConfig({enabled:t,...e}),this.hasCustomActivationCriteria=this.updateHasCustomActivationCriteria(this.config),Array.isArray(this.config.waitFor))for(const t of this.config.waitFor)t.addPendingGesture(this);return this.hammer&&this.sync(),this.config}getState(t){return 0==t?0:nr[t]}transformEventData(t){const{eventType:e,maxPointers:r}=t,n=t.changedPointers[0],i=this.isPointInView({x:n.clientX,y:n.clientY}),o=this.getState(e);return o!==this.previousState&&(this.oldState=this.previousState,this.previousState=o),{nativeEvent:{numberOfPointers:r,state:o,pointerInside:i,...this.transformNativeEvent(t),handlerTag:this.handlerTag,target:this.ref,oldState:o!==this.previousState||4!=o?this.oldState:void 0},timeStamp:Date.now()}}transformNativeEvent(t){return{}}cancelPendingGestures(t){for(const e of Object.values(this.pendingGestures))e&&e.isGestureRunning&&(e.hasGestureFailed=!0,e.cancelEvent(t))}notifyPendingGestures(){for(const t of Object.values(this.pendingGestures))t&&t.onWaitingEnded(this)}onGestureEnded(t){this.isGestureRunning=!1,this.cancelPendingGestures(t)}forceInvalidate(t){this.isGestureRunning&&(this.hasGestureFailed=!0,this.cancelEvent(t))}cancelEvent(t){this.notifyPendingGestures(),this.sendEvent({...t,eventType:er.INPUT_CANCEL,isFinal:!0}),this.onGestureEnded(t)}onRawEvent({isFirst:t}){t&&(this.hasGestureFailed=!1)}shouldUseTouchEvents(t){var e,r;return null!==(e=null===(r=t.simultaneousHandlers)||void 0===r?void 0:r.some((t=>t.isNative)))&&void 0!==e&&e}setView(t,e){if(null==t)return this.destroy(),void(this.view=null);const r="ontouchstart"in window;this.propsRef=e,this.ref=t,this.view=(0,n.findNodeHandle)(t),this.hammer=r&&this.shouldUseTouchEvents(this.config)?new er.Manager(this.view,{inputClass:er.TouchInput}):new er.Manager(this.view),this.oldState=i.UNDETERMINED,this.previousState=i.UNDETERMINED,this.lastSentState=null;const{NativeGestureClass:o}=this,s=new o(this.getHammerConfig());this.hammer.add(s),this.hammer.on("hammer.input",(t=>{if(!this.config.enabled)return this.hasGestureFailed=!1,void(this.isGestureRunning=!1);this.onRawEvent(t),null===this.initialRotation&&0!==t.rotation&&(this.initialRotation=t.rotation),t.isFinal&&setTimeout((()=>{this.initialRotation=null,this.hasGestureFailed=!1}))})),this.setupEvents(),this.sync()}setupEvents(){this.isDiscrete||(this.hammer.on(`${this.name}start`,(t=>this.onStart(t))),this.hammer.on(`${this.name}end ${this.name}cancel`,(t=>{this.onGestureEnded(t)}))),this.hammer.on(this.name,(t=>this.onGestureActivated(t)))}onStart({deltaX:t,deltaY:e,rotation:r}){this.oldState=i.UNDETERMINED,this.previousState=i.UNDETERMINED,this.lastSentState=null,this.isGestureRunning=!0,this.__initialX=t,this.__initialY=e,this.initialRotation=r}onGestureActivated(t){this.sendEvent(t)}onSuccess(){}_getPendingGestures(){return Array.isArray(this.config.waitFor)&&this.config.waitFor.length?this.config.waitFor.filter((({hasGestureFailed:t})=>!1===t)):[]}getHammerConfig(){return{pointers:this.config.minPointers===this.config.maxPointers?this.config.minPointers:0}}simulateCancelEvent(t){}ensureConfig(t){const e={...t};if("minDist"in t&&(e.minDist=t.minDist,e.minDistSq=e.minDist*e.minDist),"minVelocity"in t&&(e.minVelocity=t.minVelocity,e.minVelocitySq=e.minVelocity*e.minVelocity),"maxDist"in t&&(e.maxDist=t.maxDist,e.maxDistSq=t.maxDist*t.maxDist),e.waitFor="waitFor"in t?cr(t.waitFor).map((({handlerTag:t})=>at(t))).filter((t=>t)):null,"simultaneousHandlers"in t){const r=this.shouldUseTouchEvents(this.config);e.simultaneousHandlers=cr(t.simultaneousHandlers).map((t=>at("number"==typeof t?t:t.handlerTag))).filter((t=>t)),r!==this.shouldUseTouchEvents(e)&&ir((()=>{this.destroy(),this.setView(this.ref,this.propsRef)}))}else e.simultaneousHandlers=null;return["minPointers","maxPointers","minDist","maxDist","maxDistSq","minVelocitySq","minDistSq","minVelocity","failOffsetXStart","failOffsetYStart","failOffsetXEnd","failOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","activeOffsetYStart","activeOffsetYEnd"].forEach((t=>{void 0===e[t]&&(e[t]=Number.NaN)})),e}},lr=t=>Number.isNaN(t),hr=t=>"number"==typeof t&&!Number.isNaN(t),fr=(t,e)=>!lr(e)&&(e<0&&t<=e||e>=0&&t>=e),pr=({x:t=0,y:e=0}={})=>t*t+e*e,dr=(t,e)=>!lr(e)&&(e<0&&t<e||e>=0&&t>e);function gr(t,e){return e?setTimeout((()=>t()),e):(t(),null)}const vr=class extends ur{get isDiscrete(){return!0}get shouldEnableGestureOnSetup(){return!0}shouldFailUnderCustomCriteria({x:t,y:e,deltaX:r,deltaY:n},{maxDeltaX:i,maxDeltaY:o,maxDistSq:s,shouldCancelWhenOutside:a}){return!(!a||this.isPointInView({x:t,y:e}))||dr(Math.abs(r),i)||dr(Math.abs(n),o)||dr(Math.abs(n*n+r*r),s)}transformNativeEvent({center:{x:t,y:e}}){const r=this.view.getBoundingClientRect();return{absoluteX:t,absoluteY:e,x:t-r.left,y:e-r.top}}isGestureEnabledForEvent({minPointers:t,maxPointers:e,maxDeltaX:r,maxDeltaY:n,maxDistSq:i,shouldCancelWhenOutside:o},s,{maxPointers:a,center:c,deltaX:u,deltaY:l}){const h=a>=t&&a<=e;return this.shouldFailUnderCustomCriteria({...c,deltaX:u,deltaY:l},{maxDeltaX:r,maxDeltaY:n,maxDistSq:i,shouldCancelWhenOutside:o})||!h&&this.isGestureRunning?{failed:!0}:{success:h}}};function mr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const yr=class extends vr{constructor(...t){super(...t),mr(this,"visualFeedbackTimer",void 0),mr(this,"initialEvent",null),mr(this,"shouldDelayTouches",!0)}get name(){return"press"}get minDurationMs(){return lr(this.config.minDurationMs)?5:this.config.minDurationMs}get maxDist(){return lr(this.config.maxDist)?9:this.config.maxDist}get NativeGestureClass(){return er.Press}simulateCancelEvent(t){this.hasGestureFailed=!0,this.cancelEvent(t)}updateHasCustomActivationCriteria({shouldCancelWhenOutside:t,maxDistSq:e}){return t||!hr(e)}getState(t){return{[er.INPUT_START]:i.BEGAN,[er.INPUT_MOVE]:i.ACTIVE,[er.INPUT_END]:i.END,[er.INPUT_CANCEL]:i.CANCELLED}[t]}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return{...super.getHammerConfig(),time:this.minDurationMs}}onGestureActivated(t){this.onGestureStart(t)}shouldDelayTouchForEvent({pointerType:t}){return this.shouldDelayTouches&&"touch"===t}onGestureStart(t){this.isGestureRunning=!0,clearTimeout(this.visualFeedbackTimer),this.initialEvent=t,this.visualFeedbackTimer=gr((()=>{this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null}),this.shouldDelayTouchForEvent(t)&&240)}sendGestureStartedEvent(t){clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.sendEvent({...t,eventType:er.INPUT_MOVE,isFirst:!0})}forceInvalidate(t){super.forceInvalidate(t),clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.initialEvent=null}onRawEvent(t){if(super.onRawEvent(t),this.isGestureRunning)if(t.isFinal){let e;this.visualFeedbackTimer&&(e=50,this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null),gr((()=>{this.sendEvent({...t,eventType:er.INPUT_END,isFinal:!0}),this.onGestureEnded()}),e)}else this.sendEvent({...t,eventType:er.INPUT_MOVE,isFinal:!1})}updateGestureConfig({shouldActivateOnStart:t=!1,disallowInterruption:e=!1,shouldCancelWhenOutside:r=!0,minDurationMs:n=Number.NaN,maxDist:i=Number.NaN,minPointers:o=1,maxPointers:s=1,...a}){return super.updateGestureConfig({shouldActivateOnStart:t,disallowInterruption:e,shouldCancelWhenOutside:r,minDurationMs:n,maxDist:i,minPointers:o,maxPointers:s,...a})}},br=class extends ur{get shouldEnableGestureOnSetup(){return!0}transformNativeEvent({deltaX:t,deltaY:e,velocityX:r,velocityY:i,center:{x:o,y:s}}){const a=this.view.getBoundingClientRect(),c=n.PixelRatio.get();return{translationX:t-(this.__initialX||0),translationY:e-(this.__initialY||0),absoluteX:o,absoluteY:s,velocityX:r*c,velocityY:i*c,x:o-a.left,y:s-a.top}}};function wr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Er=class extends ur{get shouldEnableGestureOnSetup(){return!1}updateGestureConfig({minPointers:t=2,maxPointers:e=2,...r}){return super.updateGestureConfig({minPointers:t,maxPointers:e,...r})}isGestureEnabledForEvent({minPointers:t,maxPointers:e},r,{maxPointers:n}){return n>e?{failed:!0}:{success:n>=t}}};class Sr extends Error{constructor(t,e,r){super(`Invalid property \`${t}: ${e}\` expected \`${r}\``)}}function _r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Ar{constructor(t){_r(this,"view",void 0),_r(this,"pointersInBounds",[]),_r(this,"activePointersCounter",void 0),this.view=t,this.activePointersCounter=0}onPointerDown(t){}onPointerAdd(t){}onPointerUp(t){}onPointerRemove(t){}onPointerMove(t){}onPointerLeave(t){}onPointerEnter(t){}onPointerCancel(t){}onPointerOutOfBounds(t){}onPointerMoveOver(t){}onPointerMoveOut(t){}setOnPointerDown(t){this.onPointerDown=t}setOnPointerAdd(t){this.onPointerAdd=t}setOnPointerUp(t){this.onPointerUp=t}setOnPointerRemove(t){this.onPointerRemove=t}setOnPointerMove(t){this.onPointerMove=t}setOnPointerLeave(t){this.onPointerLeave=t}setOnPointerEnter(t){this.onPointerEnter=t}setOnPointerCancel(t){this.onPointerCancel=t}setOnPointerOutOfBounds(t){this.onPointerOutOfBounds=t}setOnPointerMoveOver(t){this.onPointerMoveOver=t}setOnPointerMoveOut(t){this.onPointerMoveOut=t}markAsInBounds(t){this.pointersInBounds.indexOf(t)>=0||this.pointersInBounds.push(t)}markAsOutOfBounds(t){const e=this.pointersInBounds.indexOf(t);e<0||this.pointersInBounds.splice(e,1)}resetManager(){this.activePointersCounter=0,this.pointersInBounds=[]}}function Tr(t,{x:e,y:r}){const n=t.getBoundingClientRect();return e>=n.left&&e<=n.right&&r>=n.top&&r<=n.bottom}class Or extends Ar{constructor(...t){super(...t),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"trackedPointers",new Set)}setListeners(){this.view.addEventListener("pointerdown",(t=>{if(t.pointerType===C.TOUCH)return;if(!Tr(this.view,{x:t.clientX,y:t.clientY}))return;const e=this.mapEvent(t,P.DOWN),r=t.target;r instanceof HTMLDivElement&&r.setPointerCapture(e.pointerId),this.markAsInBounds(e.pointerId),this.trackedPointers.add(e.pointerId),++this.activePointersCounter>1?(e.eventType=P.ADDITIONAL_POINTER_DOWN,this.onPointerAdd(e)):this.onPointerDown(e)})),this.view.addEventListener("pointerup",(t=>{if(t.pointerType===C.TOUCH)return;if(0===this.activePointersCounter)return;const e=this.mapEvent(t,P.UP),r=t.target;r instanceof HTMLDivElement&&r.releasePointerCapture(e.pointerId),this.markAsOutOfBounds(e.pointerId),this.trackedPointers.delete(e.pointerId),--this.activePointersCounter>0?(e.eventType=P.ADDITIONAL_POINTER_UP,this.onPointerRemove(e)):this.onPointerUp(e)})),this.view.addEventListener("pointermove",(t=>{if(t.pointerType===C.TOUCH)return;const e=this.mapEvent(t,P.MOVE),r=t.target;!r.hasPointerCapture(t.pointerId)&&r instanceof HTMLDivElement&&r.setPointerCapture(t.pointerId);const n=Tr(this.view,{x:e.x,y:e.y}),i=this.pointersInBounds.indexOf(e.pointerId);n?i<0?(e.eventType=P.ENTER,this.onPointerEnter(e),this.markAsInBounds(e.pointerId)):this.onPointerMove(e):i>=0?(e.eventType=P.LEAVE,this.onPointerLeave(e),this.markAsOutOfBounds(e.pointerId)):this.onPointerOutOfBounds(e)})),this.view.addEventListener("pointercancel",(t=>{if(t.pointerType===C.TOUCH)return;const e=this.mapEvent(t,P.CANCEL);this.onPointerCancel(e),this.markAsOutOfBounds(e.pointerId),this.activePointersCounter=0,this.trackedPointers.clear()})),this.view.addEventListener("pointerenter",(t=>{if(t.pointerType===C.TOUCH)return;const e=this.mapEvent(t,P.ENTER);this.onPointerMoveOver(e)})),this.view.addEventListener("pointerleave",(t=>{if(t.pointerType===C.TOUCH)return;const e=this.mapEvent(t,P.LEAVE);this.onPointerMoveOut(e)})),this.view.addEventListener("lostpointercapture",(t=>{const e=this.mapEvent(t,P.CANCEL);this.trackedPointers.has(e.pointerId)&&(this.onPointerCancel(e),this.activePointersCounter=0,this.trackedPointers.clear())}))}mapEvent(t,e){return{x:t.clientX,y:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,pointerId:t.pointerId,eventType:e,pointerType:t.pointerType,buttons:t.buttons,time:t.timeStamp}}resetManager(){super.resetManager(),this.trackedPointers.clear()}}class Pr extends Ar{setListeners(){this.view.addEventListener("touchstart",(t=>{for(let e=0;e<t.changedTouches.length;++e){const r=this.mapEvent(t,P.DOWN,e,I.DOWN);Tr(this.view,{x:r.x,y:r.y})&&"stylus"!==t.changedTouches[e].touchType&&(this.markAsInBounds(r.pointerId),++this.activePointersCounter>1?(r.eventType=P.ADDITIONAL_POINTER_DOWN,this.onPointerAdd(r)):this.onPointerDown(r))}})),this.view.addEventListener("touchmove",(t=>{for(let e=0;e<t.changedTouches.length;++e){const r=this.mapEvent(t,P.MOVE,e,I.MOVE);if("stylus"===t.changedTouches[e].touchType)continue;const n=Tr(this.view,{x:r.x,y:r.y}),i=this.pointersInBounds.indexOf(r.pointerId);n?i<0?(r.eventType=P.ENTER,this.onPointerEnter(r),this.markAsInBounds(r.pointerId)):this.onPointerMove(r):i>=0?(r.eventType=P.LEAVE,this.onPointerLeave(r),this.markAsOutOfBounds(r.pointerId)):this.onPointerOutOfBounds(r)}})),this.view.addEventListener("touchend",(t=>{for(let e=0;e<t.changedTouches.length&&0!==this.activePointersCounter;++e){if("stylus"===t.changedTouches[e].touchType)continue;const r=this.mapEvent(t,P.UP,e,I.UP);this.markAsOutOfBounds(r.pointerId),--this.activePointersCounter>0?(r.eventType=P.ADDITIONAL_POINTER_UP,this.onPointerRemove(r)):this.onPointerUp(r)}})),this.view.addEventListener("touchcancel",(t=>{for(let e=0;e<t.changedTouches.length;++e){const r=this.mapEvent(t,P.CANCEL,e,I.CANCELLED);"stylus"!==t.changedTouches[e].touchType&&(this.onPointerCancel(r),this.markAsOutOfBounds(r.pointerId),this.activePointersCounter=0)}}))}mapEvent(t,e,r,n){const i=this.view.getBoundingClientRect(),o=t.changedTouches[r].clientX,s=t.changedTouches[r].clientY;return{x:o,y:s,offsetX:o-i.left,offsetY:s-i.top,pointerId:t.changedTouches[r].identifier,eventType:e,pointerType:C.TOUCH,buttons:O.NONE,time:t.timeStamp,allTouches:t.touches,changedTouches:t.changedTouches,touchEventType:n}}}function Ir(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Cr{constructor(){Ir(this,"view",void 0),Ir(this,"gestureHandler",void 0),Ir(this,"eventManagers",[])}getView(){return this.view}init(t,e){if(!t)throw new Error(`Cannot find HTML Element for handler ${e.getTag()}`);this.gestureHandler=e,this.view=(0,n.findNodeHandle)(t),this.view.style.touchAction="none",this.view.style.WebkitTouchCallout="none";const r=e.getConfig();r.userSelect?(this.view.style.webkitUserSelect=r.userSelect,this.view.style.userSelect=r.userSelect):(this.view.style.webkitUserSelect="none",this.view.style.userSelect="none"),this.eventManagers.push(new Or(this.view)),this.eventManagers.push(new Pr(this.view)),this.eventManagers.forEach((t=>this.gestureHandler.attachEventManager(t)))}isPointerInBounds({x:t,y:e}){return Tr(this.view,{x:t,y:e})}measureView(){const t=this.view.getBoundingClientRect();return{pageX:t.left,pageY:t.top,width:t.width,height:t.height}}reset(){this.eventManagers.forEach((t=>t.resetManager()))}tryResetCursor(){const t=this.gestureHandler.getConfig();t.activeCursor&&"auto"!==t.activeCursor&&this.gestureHandler.getState()===i.ACTIVE&&(this.view.style.cursor="auto")}onBegin(){}onActivate(){const t=this.gestureHandler.getConfig();this.view.style.cursor&&"auto"!==this.view.style.cursor||!t.activeCursor||(this.view.style.cursor=t.activeCursor)}onEnd(){this.tryResetCursor()}onCancel(){this.tryResetCursor()}onFail(){this.tryResetCursor()}}const Nr={NativeViewGestureHandler:ot,PanGestureHandler:class extends Y{constructor(...t){super(...t),q(this,"customActivationProperties",["activeOffsetXStart","activeOffsetXEnd","failOffsetXStart","failOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetYStart","failOffsetYEnd","minVelocityX","minVelocityY"]),q(this,"velocityX",0),q(this,"velocityY",0),q(this,"minDistSq",225),q(this,"activeOffsetXStart",-Number.MAX_SAFE_INTEGER),q(this,"activeOffsetXEnd",Number.MIN_SAFE_INTEGER),q(this,"failOffsetXStart",Number.MIN_SAFE_INTEGER),q(this,"failOffsetXEnd",Number.MAX_SAFE_INTEGER),q(this,"activeOffsetYStart",Number.MAX_SAFE_INTEGER),q(this,"activeOffsetYEnd",Number.MIN_SAFE_INTEGER),q(this,"failOffsetYStart",Number.MIN_SAFE_INTEGER),q(this,"failOffsetYEnd",Number.MAX_SAFE_INTEGER),q(this,"minVelocityX",Number.MAX_SAFE_INTEGER),q(this,"minVelocityY",Number.MAX_SAFE_INTEGER),q(this,"minVelocitySq",Number.MAX_SAFE_INTEGER),q(this,"minPointers",1),q(this,"maxPointers",10),q(this,"startX",0),q(this,"startY",0),q(this,"offsetX",0),q(this,"offsetY",0),q(this,"lastX",0),q(this,"lastY",0),q(this,"activateAfterLongPress",0),q(this,"activationTimeout",0)}init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){this.resetConfig(),super.updateGestureConfig({enabled:t,...e}),this.checkCustomActivationCriteria(this.customActivationProperties),void 0!==this.config.minDist?this.minDistSq=this.config.minDist*this.config.minDist:this.hasCustomActivationCriteria&&(this.minDistSq=Number.MAX_SAFE_INTEGER),void 0!==this.config.minPointers&&(this.minPointers=this.config.minPointers),void 0!==this.config.maxPointers&&(this.maxPointers=this.config.maxPointers),void 0!==this.config.minVelocity&&(this.minVelocityX=this.config.minVelocity,this.minVelocityY=this.config.minVelocity),void 0!==this.config.minVelocityX&&(this.minVelocityX=this.config.minVelocityX),void 0!==this.config.minVelocityY&&(this.minVelocityY=this.config.minVelocityY),void 0!==this.config.activateAfterLongPress&&(this.activateAfterLongPress=this.config.activateAfterLongPress),void 0!==this.config.activeOffsetXStart&&(this.activeOffsetXStart=this.config.activeOffsetXStart,void 0===this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=this.config.activeOffsetXEnd,void 0===this.config.activeOffsetXStart&&(this.activeOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetXStart&&(this.failOffsetXStart=this.config.failOffsetXStart,void 0===this.config.failOffsetXEnd&&(this.failOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetXEnd&&(this.failOffsetXEnd=this.config.failOffsetXEnd,void 0===this.config.failOffsetXStart&&(this.failOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.activeOffsetYStart&&(this.activeOffsetYStart=this.config.activeOffsetYStart,void 0===this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=this.config.activeOffsetYEnd,void 0===this.config.activeOffsetYStart&&(this.activeOffsetYStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetYStart&&(this.failOffsetYStart=this.config.failOffsetYStart,void 0===this.config.failOffsetYEnd&&(this.failOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetYEnd&&(this.failOffsetYEnd=this.config.failOffsetYEnd,void 0===this.config.failOffsetYStart&&(this.failOffsetYStart=Number.MIN_SAFE_INTEGER))}resetConfig(){super.resetConfig(),this.activeOffsetXStart=-Number.MAX_SAFE_INTEGER,this.activeOffsetXEnd=Number.MIN_SAFE_INTEGER,this.failOffsetXStart=Number.MIN_SAFE_INTEGER,this.failOffsetXEnd=Number.MAX_SAFE_INTEGER,this.activeOffsetYStart=Number.MAX_SAFE_INTEGER,this.activeOffsetYEnd=Number.MIN_SAFE_INTEGER,this.failOffsetYStart=Number.MIN_SAFE_INTEGER,this.failOffsetYEnd=Number.MAX_SAFE_INTEGER,this.minVelocityX=Number.MAX_SAFE_INTEGER,this.minVelocityY=Number.MAX_SAFE_INTEGER,this.minVelocitySq=Number.MAX_SAFE_INTEGER,this.minDistSq=225,this.minPointers=1,this.maxPointers=10,this.activateAfterLongPress=0}transformNativeEvent(){const t=this.getTranslationX(),e=this.getTranslationY();return{...super.transformNativeEvent(),translationX:isNaN(t)?0:t,translationY:isNaN(e)?0:e,velocityX:this.velocityX,velocityY:this.velocityY}}getTranslationX(){return this.lastX-this.startX+this.offsetX}getTranslationY(){return this.lastY-this.startY+this.offsetY}clearActivationTimeout(){clearTimeout(this.activationTimeout)}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.tryBegin(t),this.checkBegan()}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.startX=this.lastX,this.startY=this.lastY,this.tracker.getTrackedPointersCount()>this.maxPointers?this.currentState===i.ACTIVE?this.cancel():this.fail():this.checkBegan()}onPointerUp(t){super.onPointerUp(t),this.currentState===i.ACTIVE&&(this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY()),this.tracker.removeFromTracker(t.pointerId),this.currentState===i.ACTIVE?this.end():(this.resetProgress(),this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.startX=this.lastX,this.startY=this.lastY,this.currentState===i.ACTIVE&&this.tracker.getTrackedPointersCount()<this.minPointers||this.checkBegan()}onPointerMove(t){this.tracker.track(t),this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.velocityX=this.tracker.getVelocityX(t.pointerId),this.velocityY=this.tracker.getVelocityY(t.pointerId),this.checkBegan(),super.onPointerMove(t)}onPointerOutOfBounds(t){this.getShouldCancelWhenOutside()||(this.tracker.track(t),this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.velocityX=this.tracker.getVelocityX(t.pointerId),this.velocityY=this.tracker.getVelocityY(t.pointerId),this.checkBegan(),this.currentState===i.ACTIVE&&super.onPointerOutOfBounds(t))}shouldActivate(){const t=this.getTranslationX();if(this.activeOffsetXStart!==Number.MAX_SAFE_INTEGER&&t<this.activeOffsetXStart)return!0;if(this.activeOffsetXEnd!==Number.MIN_SAFE_INTEGER&&t>this.activeOffsetXEnd)return!0;const e=this.getTranslationY();if(this.activeOffsetYStart!==Number.MAX_SAFE_INTEGER&&e<this.activeOffsetYStart)return!0;if(this.activeOffsetYEnd!==Number.MIN_SAFE_INTEGER&&e>this.activeOffsetYEnd)return!0;const r=t*t+e*e;if(this.minDistSq!==Number.MAX_SAFE_INTEGER&&r>=this.minDistSq)return!0;const n=this.velocityX;if(this.minVelocityX!==Number.MAX_SAFE_INTEGER&&(this.minVelocityX<0&&n<=this.minVelocityX||this.minVelocityX>=0&&this.minVelocityX<=n))return!0;const i=this.velocityY;if(this.minVelocityY!==Number.MAX_SAFE_INTEGER&&(this.minVelocityY<0&&i<=this.minVelocityY||this.minVelocityY>=0&&this.minVelocityY<=i))return!0;const o=n*n+i*i;return this.minVelocitySq!==Number.MAX_SAFE_INTEGER&&o>=this.minVelocitySq}shouldFail(){const t=this.getTranslationX(),e=this.getTranslationY(),r=t*t+e*e;return this.activateAfterLongPress>0&&r>225?(this.clearActivationTimeout(),!0):this.failOffsetXStart!==Number.MIN_SAFE_INTEGER&&t<this.failOffsetXStart||this.failOffsetXEnd!==Number.MAX_SAFE_INTEGER&&t>this.failOffsetXEnd||this.failOffsetYStart!==Number.MIN_SAFE_INTEGER&&e<this.failOffsetYStart||this.failOffsetYEnd!==Number.MAX_SAFE_INTEGER&&e>this.failOffsetYEnd}tryBegin(t){this.currentState===i.UNDETERMINED&&this.tracker.getTrackedPointersCount()>=this.minPointers?(this.resetProgress(),this.offsetX=0,this.offsetY=0,this.velocityX=0,this.velocityY=0,this.begin(),this.activateAfterLongPress>0&&(this.activationTimeout=setTimeout((()=>{this.activate()}),this.activateAfterLongPress))):(this.velocityX=this.tracker.getVelocityX(t.pointerId),this.velocityY=this.tracker.getVelocityY(t.pointerId))}checkBegan(){this.currentState===i.BEGAN&&(this.shouldFail()?this.fail():this.shouldActivate()&&this.activate())}activate(t=!1){this.currentState!==i.ACTIVE&&this.resetProgress(),super.activate(t)}onCancel(){this.clearActivationTimeout()}onReset(){this.clearActivationTimeout()}resetProgress(){this.currentState!==i.ACTIVE&&(this.startX=this.lastX,this.startY=this.lastY)}},TapGestureHandler:class extends Y{constructor(...t){super(...t),K(this,"maxDeltaX",Number.MIN_SAFE_INTEGER),K(this,"maxDeltaY",Number.MIN_SAFE_INTEGER),K(this,"maxDistSq",Number.MIN_SAFE_INTEGER),K(this,"maxDurationMs",500),K(this,"maxDelayMs",500),K(this,"numberOfTaps",1),K(this,"minNumberOfPointers",1),K(this,"currentMaxNumberOfPointers",1),K(this,"startX",0),K(this,"startY",0),K(this,"offsetX",0),K(this,"offsetY",0),K(this,"lastX",0),K(this,"lastY",0),K(this,"waitTimeout",void 0),K(this,"delayTimeout",void 0),K(this,"tapsSoFar",0)}init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.numberOfTaps&&(this.numberOfTaps=this.config.numberOfTaps),void 0!==this.config.maxDurationMs&&(this.maxDurationMs=this.config.maxDurationMs),void 0!==this.config.maxDelayMs&&(this.maxDelayMs=this.config.maxDelayMs),void 0!==this.config.maxDeltaX&&(this.maxDeltaX=this.config.maxDeltaX),void 0!==this.config.maxDeltaY&&(this.maxDeltaY=this.config.maxDeltaY),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.minPointers&&(this.minNumberOfPointers=this.config.minPointers)}resetConfig(){super.resetConfig(),this.maxDeltaX=Number.MIN_SAFE_INTEGER,this.maxDeltaY=Number.MIN_SAFE_INTEGER,this.maxDistSq=Number.MIN_SAFE_INTEGER,this.maxDurationMs=500,this.maxDelayMs=500,this.numberOfTaps=1,this.minNumberOfPointers=1}clearTimeouts(){clearTimeout(this.waitTimeout),clearTimeout(this.delayTimeout)}startTap(){this.clearTimeouts(),this.waitTimeout=setTimeout((()=>this.fail()),this.maxDurationMs)}endTap(){this.clearTimeouts(),++this.tapsSoFar===this.numberOfTaps&&this.currentMaxNumberOfPointers>=this.minNumberOfPointers?this.activate():this.delayTimeout=setTimeout((()=>this.fail()),this.maxDelayMs)}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.trySettingPosition(t),this.startX=t.x,this.startY=t.y,this.lastX=t.x,this.lastY=t.y,this.updateState(t)}onPointerAdd(t){super.onPointerAdd(t),this.tracker.addToTracker(t),this.trySettingPosition(t),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.startX=this.tracker.getLastAvgX(),this.startY=this.tracker.getLastAvgY(),this.updateState(t)}onPointerUp(t){super.onPointerUp(t),this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.tracker.removeFromTracker(t.pointerId),this.updateState(t)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY=this.startY,this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.startX=this.lastX,this.startY=this.lastY,this.updateState(t)}onPointerMove(t){this.trySettingPosition(t),this.tracker.track(t),this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.updateState(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.trySettingPosition(t),this.tracker.track(t),this.lastX=this.tracker.getLastAvgX(),this.lastY=this.tracker.getLastAvgY(),this.updateState(t),super.onPointerOutOfBounds(t)}updateState(t){if(this.currentMaxNumberOfPointers<this.tracker.getTrackedPointersCount()&&(this.currentMaxNumberOfPointers=this.tracker.getTrackedPointersCount()),this.shouldFail())this.fail();else switch(this.currentState){case i.UNDETERMINED:t.eventType===P.DOWN&&this.begin(),this.startTap();break;case i.BEGAN:t.eventType===P.UP&&this.endTap(),t.eventType===P.DOWN&&this.startTap()}}trySettingPosition(t){this.currentState===i.UNDETERMINED&&(this.offsetX=0,this.offsetY=0,this.startX=t.x,this.startY=t.y)}shouldFail(){const t=this.lastX-this.startX+this.offsetX;if(this.maxDeltaX!==Number.MIN_SAFE_INTEGER&&Math.abs(t)>this.maxDeltaX)return!0;const e=this.lastY-this.startY+this.offsetY;if(this.maxDeltaY!==Number.MIN_SAFE_INTEGER&&Math.abs(e)>this.maxDeltaY)return!0;const r=e*e+t*t;return this.maxDistSq!==Number.MIN_SAFE_INTEGER&&r>this.maxDistSq}activate(){super.activate(),this.end()}onCancel(){this.resetProgress(),this.clearTimeouts()}resetProgress(){this.clearTimeouts(),this.tapsSoFar=0,this.currentMaxNumberOfPointers=0}},LongPressGestureHandler:class extends Y{constructor(...t){super(...t),z(this,"minDurationMs",500),z(this,"defaultMaxDistSq",100),z(this,"maxDistSq",this.defaultMaxDistSq),z(this,"startX",0),z(this,"startY",0),z(this,"startTime",0),z(this,"previousTime",0),z(this,"activationTimeout",void 0)}init(t,e){super.init(t,e),"web"===n.Platform.OS&&(this.delegate.getView().oncontextmenu=()=>!1)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,e){clearTimeout(this.activationTimeout)}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryBegin(t),this.tryActivate(),this.checkDistanceFail(t)}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail(t)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.currentState===i.ACTIVE?this.end():this.fail()}tryBegin(t){this.currentState===i.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin(),this.startX=t.x,this.startY=t.y)}tryActivate(){this.minDurationMs>0?this.activationTimeout=setTimeout((()=>{this.activate()}),this.minDurationMs):0===this.minDurationMs&&this.activate()}checkDistanceFail(t){const e=t.x-this.startX,r=t.y-this.startY;e*e+r*r<=this.maxDistSq||(this.currentState===i.ACTIVE?this.cancel():this.fail())}},PinchGestureHandler:class extends Y{constructor(...t){super(...t),J(this,"scale",1),J(this,"velocity",0),J(this,"startingSpan",0),J(this,"spanSlop",15),J(this,"scaleDetectorListener",{onScaleBegin:t=>(this.startingSpan=t.getCurrentSpan(),!0),onScale:t=>{const e=this.scale;this.scale*=t.getScaleFactor(this.tracker.getTrackedPointersCount());const r=t.getTimeDelta();return r>0&&(this.velocity=(this.scale-e)/r),Math.abs(this.startingSpan-t.getCurrentSpan())>=this.spanSlop&&this.currentState===i.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}}),J(this,"scaleGestureDetector",new Q(this.scaleDetectorListener))}init(t,e){super.init(t,e),this.setShouldCancelWhenOutside(!1)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}transformNativeEvent(){return{focalX:this.scaleGestureDetector.getFocusX(),focalY:this.scaleGestureDetector.getFocusY(),velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.currentState===i.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.currentState===i.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId),this.currentState===i.ACTIVE&&this.tracker.getTrackedPointersCount()<2&&this.end()}onPointerMove(t){this.tracker.getTrackedPointersCount()<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.getTrackedPointersCount()<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.currentState===i.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(t){this.currentState!==i.ACTIVE&&this.resetProgress(),super.activate(t)}onReset(){this.resetProgress()}resetProgress(){this.currentState!==i.ACTIVE&&(this.velocity=0,this.scale=1)}},RotationGestureHandler:class extends Y{constructor(...t){super(...t),et(this,"rotation",0),et(this,"velocity",0),et(this,"cachedAnchorX",0),et(this,"cachedAnchorY",0),et(this,"rotationGestureListener",{onRotationBegin:t=>!0,onRotation:t=>{const e=this.rotation;this.rotation+=t.getRotation();const r=t.getTimeDelta();return r>0&&(this.velocity=(this.rotation-e)/r),Math.abs(this.rotation)>=rt&&this.currentState===i.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}}),et(this,"rotationGestureDetector",new tt(this.rotationGestureListener))}init(t,e){super.init(t,e),this.setShouldCancelWhenOutside(!1)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){return this.rotationGestureDetector.getAnchorX()||this.cachedAnchorX}getAnchorY(){return this.rotationGestureDetector.getAnchorY()||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.getTrackedPointersCount()<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.getTrackedPointersCount()<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.currentState===i.ACTIVE&&(this.currentState===i.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.currentState===i.UNDETERMINED&&this.begin()}activate(t){super.activate()}onReset(){this.currentState!==i.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}},FlingGestureHandler:class extends Y{constructor(...t){super(...t),nt(this,"numberOfPointersRequired",1),nt(this,"direction",1),nt(this,"maxDurationMs",800),nt(this,"minAcceptableDelta",160),nt(this,"delayTimeout",void 0),nt(this,"startX",0),nt(this,"startY",0),nt(this,"maxNumberOfPointersSimultaneously",0),nt(this,"keyPointer",NaN)}init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.startX=this.tracker.getLastX(this.keyPointer),this.startY=this.tracker.getLastY(this.keyPointer),this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout((()=>this.fail()),this.maxDurationMs)}tryEndFling(){return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!(1&this.direction&&this.tracker.getLastX(this.keyPointer)-this.startX>this.minAcceptableDelta||2&this.direction&&this.startX-this.tracker.getLastX(this.keyPointer)>this.minAcceptableDelta||4&this.direction&&this.startY-this.tracker.getLastY(this.keyPointer)>this.minAcceptableDelta||8&this.direction&&this.tracker.getLastY(this.keyPointer)-this.startY>this.minAcceptableDelta)||(clearTimeout(this.delayTimeout),this.activate(),0))}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction()}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.currentState===i.UNDETERMINED&&this.startFling(),this.currentState===i.BEGAN&&(this.tryEndFling(),this.tracker.getTrackedPointersCount()>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.getTrackedPointersCount()))}onPointerMove(t){this.tracker.track(t),this.currentState===i.BEGAN&&(this.tryEndFling(),super.onPointerMove(t))}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(t){this.tracker.removeFromTracker(t.pointerId),this.currentState===i.BEGAN&&this.endFling()}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=1}},ManualGestureHandler:class extends Y{init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.begin()}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t)}onPointerMove(t){this.tracker.track(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.tracker.track(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId)}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId)}},HoverGestureHandler:class extends Y{init(t,e){super.init(t,e)}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e})}onPointerMoveOver(t){X.getInstance().recordHandlerIfNotPresent(this),this.tracker.addToTracker(t),super.onPointerMoveOver(t),this.getState()===i.UNDETERMINED&&(this.begin(),this.activate())}onPointerMoveOut(t){this.tracker.addToTracker(t),super.onPointerMoveOut(t),this.end()}onPointerMove(t){this.tracker.track(t),super.onPointerMove(t)}onPointerCancel(t){super.onPointerCancel(t),this.reset()}}},kr={NativeViewGestureHandler:class extends yr{get isNative(){return!0}onRawEvent(t){if(super.onRawEvent(t),!t.isFinal&&fr(pr({x:t.deltaX,y:t.deltaY}),10)&&this.config.disallowInterruption){const e=Object.values({...st}).filter((t=>{const{handlerTag:e,view:r,isGestureRunning:n}=t;return e!==this.handlerTag&&n&&t instanceof vr&&r&&this.view.contains(r)}));for(const r of e)r.forceInvalidate(t)}}},PanGestureHandler:class extends br{get name(){return"pan"}get NativeGestureClass(){return er.Pan}getHammerConfig(){return{...super.getHammerConfig(),direction:this.getDirection()}}getState(t){const e=super.getState(t);return this.previousState===i.UNDETERMINED&&e===i.ACTIVE?i.BEGAN:e}getDirection(){const t=this.getConfig(),{activeOffsetXStart:e,activeOffsetXEnd:r,activeOffsetYStart:n,activeOffsetYEnd:i,minDist:o}=t;let s=[],a=[];if(!lr(o))return er.DIRECTION_ALL;lr(e)||a.push(er.DIRECTION_LEFT),lr(r)||a.push(er.DIRECTION_RIGHT),2===a.length&&(a=[er.DIRECTION_HORIZONTAL]),s=s.concat(a);let c=[];return lr(n)||c.push(er.DIRECTION_UP),lr(i)||c.push(er.DIRECTION_DOWN),2===c.length&&(c=[er.DIRECTION_VERTICAL]),s=s.concat(c),s.length?s[0]===er.DIRECTION_HORIZONTAL&&s[1]===er.DIRECTION_VERTICAL||a.length&&c.length?er.DIRECTION_ALL:s[0]:er.DIRECTION_NONE}getConfig(){return this.hasCustomActivationCriteria?this.config:{minDistSq:10}}shouldFailUnderCustomCriteria({deltaX:t,deltaY:e},r){return!lr(r.failOffsetXStart)&&t<r.failOffsetXStart||!lr(r.failOffsetXEnd)&&t>r.failOffsetXEnd||!lr(r.failOffsetYStart)&&e<r.failOffsetYStart||!lr(r.failOffsetYEnd)&&e>r.failOffsetYEnd}shouldActivateUnderCustomCriteria({deltaX:t,deltaY:e,velocity:r},n){return!lr(n.activeOffsetXStart)&&t<n.activeOffsetXStart||!lr(n.activeOffsetXEnd)&&t>n.activeOffsetXEnd||!lr(n.activeOffsetYStart)&&e<n.activeOffsetYStart||!lr(n.activeOffsetYEnd)&&e>n.activeOffsetYEnd||fr(pr({x:t,y:e}),n.minDistSq)||fr(r.x,n.minVelocityX)||fr(r.y,n.minVelocityY)||fr(pr(r),n.minVelocitySq)}shouldMultiFingerPanFail({pointerLength:t,scale:e,deltaRotation:r}){if(t<=1)return!1;const n=Math.abs(e-1),i=Math.abs(r);return n>.1||i>7}updateHasCustomActivationCriteria(t){return hr(t.minDistSq)||hr(t.minVelocityX)||hr(t.minVelocityY)||hr(t.minVelocitySq)||hr(t.activeOffsetXStart)||hr(t.activeOffsetXEnd)||hr(t.activeOffsetYStart)||hr(t.activeOffsetYEnd)}isGestureEnabledForEvent(t,e,r){if(this.shouldFailUnderCustomCriteria(r,t))return{failed:!0};const n={x:r.velocityX,y:r.velocityY};return this.hasCustomActivationCriteria&&this.shouldActivateUnderCustomCriteria({deltaX:r.deltaX,deltaY:r.deltaY,velocity:n},t)?this.shouldMultiFingerPanFail({pointerLength:r.maxPointers,scale:r.scale,deltaRotation:r.deltaRotation})?{failed:!0}:{success:!0}:{success:!1}}},TapGestureHandler:class extends vr{constructor(...t){super(...t),wr(this,"_shouldFireEndEvent",null),wr(this,"_timer",void 0),wr(this,"_multiTapTimer",void 0),wr(this,"onSuccessfulTap",(t=>{this._getPendingGestures().length?this._shouldFireEndEvent=t:(t.eventType===er.INPUT_END&&this.sendEvent({...t,eventType:er.INPUT_MOVE}),this.sendEvent({...t,isFinal:!0}),this.onGestureEnded(t))}))}get name(){return"tap"}get NativeGestureClass(){return er.Tap}get maxDelayMs(){return lr(this.config.maxDelayMs)?300:this.config.maxDelayMs}simulateCancelEvent(t){this.isGestureRunning&&this.cancelEvent(t)}onGestureActivated(t){this.isGestureRunning&&this.onSuccessfulTap(t)}onRawEvent(t){if(super.onRawEvent(t),!this.hasGestureFailed&&!this.isGestureRunning&&!t.isFinal){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(clearTimeout(this._multiTapTimer),this.onStart(t),this.sendEvent(t))}if(t.isFinal&&t.maxPointers>1&&setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)})),!this.hasGestureFailed)if(t.isFinal)t.maxPointers>1&&setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)})),clearTimeout(this._timer),this._timer=setTimeout((()=>{this.hasGestureFailed=!0,this.cancelEvent(t)}),this.maxDelayMs);else if(!this.hasGestureFailed&&!this.isGestureRunning){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(clearTimeout(this._multiTapTimer),this.onStart(t),this.sendEvent(t))}}getHammerConfig(){return{...super.getHammerConfig(),event:this.name,taps:lr(this.config.numberOfTaps)?1:this.config.numberOfTaps,interval:this.maxDelayMs,time:lr(this.config.maxDurationMs)||null==this.config.maxDurationMs?250:this.config.maxDurationMs}}updateGestureConfig({shouldCancelWhenOutside:t=!0,maxDeltaX:e=Number.NaN,maxDeltaY:r=Number.NaN,numberOfTaps:n=1,minDurationMs:i=525,maxDelayMs:o=Number.NaN,maxDurationMs:s=Number.NaN,maxDist:a=2,minPointers:c=1,maxPointers:u=1,...l}){return super.updateGestureConfig({shouldCancelWhenOutside:t,numberOfTaps:n,maxDeltaX:e,maxDeltaY:r,minDurationMs:i,maxDelayMs:o,maxDist:a,minPointers:c,maxPointers:u,...l})}onGestureEnded(...t){clearTimeout(this._timer),super.onGestureEnded(...t)}onWaitingEnded(t){this._shouldFireEndEvent&&(this.onSuccessfulTap(this._shouldFireEndEvent),this._shouldFireEndEvent=null)}},LongPressGestureHandler:class extends yr{get minDurationMs(){return lr(this.config.minDurationMs)?251:this.config.minDurationMs}get maxDist(){return lr(this.config.maxDist)?9:this.config.maxDist}updateHasCustomActivationCriteria({maxDistSq:t}){return!hr(t)}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return{...super.getHammerConfig(),time:this.minDurationMs}}getState(t){return{[er.INPUT_START]:i.ACTIVE,[er.INPUT_MOVE]:i.ACTIVE,[er.INPUT_END]:i.END,[er.INPUT_CANCEL]:i.FAILED}[t]}},PinchGestureHandler:class extends Er{get name(){return"pinch"}get NativeGestureClass(){return er.Pinch}transformNativeEvent({scale:t,velocity:e,center:r}){return{focalX:r.x,focalY:r.y,velocity:e,scale:t}}},RotationGestureHandler:class extends Er{get name(){return"rotate"}get NativeGestureClass(){return er.Rotate}transformNativeEvent({rotation:t,velocity:e,center:r}){var n;return{rotation:(t-(null!==(n=this.initialRotation)&&void 0!==n?n:0))*rr,anchorX:r.x,anchorY:r.y,velocity:e}}},FlingGestureHandler:class extends br{get name(){return"swipe"}get NativeGestureClass(){return er.Swipe}onGestureActivated(t){this.sendEvent({...t,eventType:er.INPUT_MOVE,isFinal:!1,isFirst:!0}),this.isGestureRunning=!1,this.hasGestureFailed=!1,this.sendEvent({...t,eventType:er.INPUT_END,isFinal:!0})}onRawEvent(t){if(super.onRawEvent(t),!this.hasGestureFailed)if(t.isFinal)setTimeout((()=>{this.isGestureRunning&&this.cancelEvent(t)}));else if(!this.hasGestureFailed&&!this.isGestureRunning){const e=this.hammer.get(this.name);e.options.enable(e,t)&&(this.onStart(t),this.sendEvent(t))}}getHammerConfig(){return{pointers:this.config.numberOfPointers,direction:this.getDirection()}}getTargetDirections(t){const e=[];return 1&t&&e.push(er.DIRECTION_RIGHT),2&t&&e.push(er.DIRECTION_LEFT),4&t&&e.push(er.DIRECTION_UP),8&t&&e.push(er.DIRECTION_DOWN),e}getDirection(){const{direction:t}=this.getConfig();let e=[];return 1&t&&e.push(er.DIRECTION_HORIZONTAL),2&t&&e.push(er.DIRECTION_HORIZONTAL),4&t&&e.push(er.DIRECTION_VERTICAL),8&t&&e.push(er.DIRECTION_VERTICAL),e=[...new Set(e)],0===e.length?er.DIRECTION_NONE:1===e.length?e[0]:er.DIRECTION_ALL}isGestureEnabledForEvent({numberOfPointers:t},e,{maxPointers:r}){const n=r===t;return!n&&this.isGestureRunning?{failed:!0}:{success:n}}updateGestureConfig({numberOfPointers:t=1,direction:e,...r}){if(lr(e)||"number"!=typeof e)throw new Sr("direction",e,"number");return super.updateGestureConfig({numberOfPointers:t,direction:e,...r})}}},xr={handleSetJSResponder(t,e){console.warn("handleSetJSResponder: ",t,e)},handleClearJSResponder(){console.warn("handleClearJSResponder: ")},createGestureHandler(t,e,r){if(_()){if(!(t in Nr))throw new Error(`react-native-gesture-handler: ${t} is not supported on web.`);const n=Nr[t];l.createGestureHandler(e,new n(new Cr)),T.getInstance().configureInteractions(l.getHandler(e),r)}else{if(!(t in kr))throw new Error(`react-native-gesture-handler: ${t} is not supported on web.`);!function(t,e){if(t in st)throw new Error(`Handler with tag ${t} already exists`);st[t]=e,st[t].handlerTag=t}(e,new(0,kr[t]))}this.updateGestureHandler(e,r)},attachGestureHandler(t,e,r,n){(e instanceof HTMLElement||e instanceof E.Component)&&(_()?l.getHandler(t).init(e,n):at(t).setView(e,n))},updateGestureHandler(t,e){_()?(l.getHandler(t).updateGestureConfig(e),T.getInstance().configureInteractions(l.getHandler(t),e)):at(t).updateGestureConfig(e)},getGestureHandlerNode:t=>_()?l.getHandler(t):at(t),dropGestureHandler(t){_()?l.dropGestureHandler(t):function(t){t in st&&(at(t).destroy(),delete st[t])}(t)},flushOperations(){}};r(4146);const Rr=E.createContext(!1);function Dr(t){return E.createElement(Rr.Provider,{value:!0},E.createElement(n.View,t))}n.StyleSheet.create({container:{flex:1}});var Mr=r(2404),Lr=r.n(Mr);function jr(t){return`[react-native-gesture-handler] ${t}`}const Br=["id","enabled","shouldCancelWhenOutside","hitSlop","cancelsTouchesInView","userSelect","activeCursor"],Fr=[...Br,"waitFor","simultaneousHandlers","blocksHandlers","onBegan","onFailed","onCancelled","onActivated","onEnded","onGestureEvent","onHandlerStateChange"];function Ur(t,e,r={}){const i={...r};for(const r of e){let e=t[r];u=r,void 0===(c=e)||c===Object(c)&&"__isNative"in c||"onHandlerStateChange"===u||"onGestureEvent"===u||("simultaneousHandlers"===r||"waitFor"===r?(o=t[r],a=void 0,a=o,o=Array.isArray(a)?a:[a],e="web"===n.Platform.OS?o.map((({current:t})=>t)).filter((t=>t)):o.map((t=>{var e;return s[t]||(null===(e=t.current)||void 0===e?void 0:e.handlerTag)||-1})).filter((t=>t>0))):"hitSlop"===r&&"object"!=typeof e&&(e={top:e,left:e,bottom:e,right:e}),i[r]=e)}var o,a,c,u;return i}function Hr(t){return"web"===n.Platform.OS?t:(0,n.findNodeHandle)(t)}let Gr=!1;function Xr(){Gr||(Gr=!0,ir((()=>{xr.flushOperations(),Gr=!1})))}var Vr,Yr,Wr;function qr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Kr=n.UIManager,zr={onGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},onGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"},...!(null===($r=r.g)||void 0===$r||!$r.nativeFabricUIManager)&&"android"===n.Platform.OS&&{topOnGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},topOnGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"}}};var $r;Kr.genericDirectEventTypes={...Kr.genericDirectEventTypes,...zr};const Qr=null!==(Vr=null===(Yr=Kr.getViewManagerConfig)||void 0===Yr?void 0:Yr.call(Kr,"getConstants"))&&void 0!==Vr?Vr:null===(Wr=Kr.getConstants)||void 0===Wr?void 0:Wr.call(Kr);Qr&&(Qr.genericDirectEventTypes={...Qr.genericDirectEventTypes,...zr});const{setJSResponder:Jr=(()=>{}),clearJSResponder:Zr=(()=>{})}=Kr;Kr.setJSResponder=(t,e)=>{xr.handleSetJSResponder(t,e),Jr(t,e)},Kr.clearJSResponder=()=>{xr.handleClearJSResponder(),Zr()};function tn(t){const e=t=>Array.isArray(t)?t.some((t=>t&&null===t.current)):t&&null===t.current;return e(t.simultaneousHandlers)||e(t.waitFor)}const en={[i.UNDETERMINED]:void 0,[i.BEGAN]:"onBegan",[i.FAILED]:"onFailed",[i.CANCELLED]:"onCancelled",[i.ACTIVE]:"onActivated",[i.END]:"onEnded"};function rn({name:t,allowedProps:e=[],config:i={},transformProps:o,customNativeProps:a=[]}){class l extends E.Component{constructor(e){if(super(e),qr(this,"handlerTag",void 0),qr(this,"config",void 0),qr(this,"propsRef",void 0),qr(this,"isMountedRef",void 0),qr(this,"viewNode",void 0),qr(this,"viewTag",void 0),qr(this,"inspectorToggleListener",void 0),qr(this,"onGestureHandlerEvent",(t=>{var e,r,n,i;t.nativeEvent.handlerTag===this.handlerTag?"function"==typeof this.props.onGestureEvent&&(null===(e=(r=this.props).onGestureEvent)||void 0===e||e.call(r,t)):null===(n=(i=this.props).onGestureHandlerEvent)||void 0===n||n.call(i,t)})),qr(this,"onGestureHandlerStateChange",(t=>{if(t.nativeEvent.handlerTag===this.handlerTag){var e,r;"function"==typeof this.props.onHandlerStateChange&&(null===(e=(r=this.props).onHandlerStateChange)||void 0===e||e.call(r,t));const n=t.nativeEvent.state,i=en[n],o=i&&this.props[i];o&&"function"==typeof o&&o(t)}else{var n,i;null===(n=(i=this.props).onGestureHandlerStateChange)||void 0===n||n.call(i,t)}})),qr(this,"refHandler",(t=>{this.viewNode=t;const e=E.Children.only(this.props.children),{ref:r}=e;null!==r&&("function"==typeof r?r(t):r.current=t)})),qr(this,"createGestureHandler",(e=>{this.config=e,xr.createGestureHandler(t,this.handlerTag,e)})),qr(this,"attachGestureHandler",(t=>{if(this.viewTag=t,"web"===n.Platform.OS)xr.attachGestureHandler(this.handlerTag,t,3,this.propsRef);else{!function(t,e){c.set(t,e)}(this.handlerTag,{onGestureEvent:this.onGestureHandlerEvent,onGestureStateChange:this.onGestureHandlerStateChange});const e=(()=>{var t,e,r;return null!==(t=this.props)&&void 0!==t&&t.onGestureEvent&&"current"in this.props.onGestureEvent||null!==(e=this.props)&&void 0!==e&&e.onHandlerStateChange&&"current"in this.props.onHandlerStateChange?1:null!==(r=this.props)&&void 0!==r&&r.onGestureEvent&&"__isNative"in this.props.onGestureEvent?2:3})();xr.attachGestureHandler(this.handlerTag,t,e)}Xr()})),qr(this,"updateGestureHandler",(t=>{this.config=t,xr.updateGestureHandler(this.handlerTag,t),Xr()})),this.handlerTag=u++,this.config={},this.propsRef=E.createRef(),this.isMountedRef=E.createRef(),this.state={allowTouches:true},e.id){if(void 0!==s[e.id])throw new Error(`Handler with ID "${e.id}" already registered`);s[e.id]=this.handlerTag}}componentDidMount(){const t=this.props;this.isMountedRef.current=!0,tn(t)&&ir((()=>{this.update(1)})),this.createGestureHandler(Ur(o?o(this.props):this.props,[...e,...a],i)),this.attachGestureHandler(Hr(this.viewNode))}componentDidUpdate(){const t=Hr(this.viewNode);this.viewTag!==t&&this.attachGestureHandler(t),this.update(1)}componentWillUnmount(){var t;null===(t=this.inspectorToggleListener)||void 0===t||t.remove(),this.isMountedRef.current=!1,xr.dropGestureHandler(this.handlerTag),Xr();const e=this.props.id;e&&delete s[e]}update(t){if(this.isMountedRef.current)if(tn(this.props)&&t>0)ir((()=>{this.update(t-1)}));else{const t=Ur(o?o(this.props):this.props,[...e,...a],i);Lr()(this.config,t)||this.updateGestureHandler(t)}}setNativeProps(t){const r={...this.props,...t},n=Ur(o?o(r):r,[...e,...a],i);this.updateGestureHandler(n)}render(){var e;let n=this.onGestureHandlerEvent;const{onGestureEvent:i,onGestureHandlerEvent:o}=this.props;if(i&&"function"!=typeof i){if(o)throw new Error("Nesting touch handlers with native animated driver is not supported yet");n=i}else if(o&&"function"!=typeof o)throw new Error("Nesting touch handlers with native animated driver is not supported yet");let s=this.onGestureHandlerStateChange;const{onHandlerStateChange:a,onGestureHandlerStateChange:c}=this.props;if(a&&"function"!=typeof a){if(c)throw new Error("Nesting touch handlers with native animated driver is not supported yet");s=a}else if(c&&"function"!=typeof c)throw new Error("Nesting touch handlers with native animated driver is not supported yet");const u={onGestureHandlerEvent:this.state.allowTouches?n:void 0,onGestureHandlerStateChange:this.state.allowTouches?s:void 0};this.propsRef.current=u;let l=null;try{l=E.Children.only(this.props.children)}catch(e){throw new Error(jr(`${t} got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view.`))}let h=l.props.children;return E.cloneElement(l,{ref:this.refHandler,collapsable:!1,...(f=r.g,Object.prototype.hasOwnProperty.call(f,"process"),{}),testID:null!==(e=this.props.testID)&&void 0!==e?e:l.props.testID,...u},h);var f}}return qr(l,"displayName",t),qr(l,"contextType",Rr),l}const nn=rn({name:"TapGestureHandler",allowedProps:[...Fr,"maxDurationMs","maxDelayMs","numberOfTaps","maxDeltaX","maxDeltaY","maxDist","minPointers"],config:{shouldCancelWhenOutside:!0}}),on={get forceTouchAvailable(){return!1}};class sn extends E.Component{componentDidMount(){console.warn(jr("ForceTouchGestureHandler is not available on this platform. Please use ForceTouchGestureHandler.forceTouchAvailable to conditionally render other components that would provide a fallback behavior specific to your usecase"))}render(){return this.props.children}}!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(sn,"forceTouchAvailable",!1),(null!=on&&on.forceTouchAvailable?rn({name:"ForceTouchGestureHandler",allowedProps:[...Fr,"minForce","maxForce","feedbackOnActivation"],config:{}}):sn).forceTouchAvailable=(null==on?void 0:on.forceTouchAvailable)||!1;const an=(rn({name:"LongPressGestureHandler",allowedProps:[...Fr,"minDurationMs","maxDist"],config:{shouldCancelWhenOutside:!0}}),["activeOffsetY","activeOffsetX","failOffsetY","failOffsetX","minDist","minVelocity","minVelocityX","minVelocityY","minPointers","maxPointers","avgTouches","enableTrackpadTwoFingerGesture","activateAfterLongPress"]),cn=rn({name:"PanGestureHandler",allowedProps:[...Fr,...an],config:{},transformProps:function(t){return function(t){const e={...t};return void 0!==t.activeOffsetX&&(delete e.activeOffsetX,Array.isArray(t.activeOffsetX)?(e.activeOffsetXStart=t.activeOffsetX[0],e.activeOffsetXEnd=t.activeOffsetX[1]):t.activeOffsetX<0?e.activeOffsetXStart=t.activeOffsetX:e.activeOffsetXEnd=t.activeOffsetX),void 0!==t.activeOffsetY&&(delete e.activeOffsetY,Array.isArray(t.activeOffsetY)?(e.activeOffsetYStart=t.activeOffsetY[0],e.activeOffsetYEnd=t.activeOffsetY[1]):t.activeOffsetY<0?e.activeOffsetYStart=t.activeOffsetY:e.activeOffsetYEnd=t.activeOffsetY),void 0!==t.failOffsetX&&(delete e.failOffsetX,Array.isArray(t.failOffsetX)?(e.failOffsetXStart=t.failOffsetX[0],e.failOffsetXEnd=t.failOffsetX[1]):t.failOffsetX<0?e.failOffsetXStart=t.failOffsetX:e.failOffsetXEnd=t.failOffsetX),void 0!==t.failOffsetY&&(delete e.failOffsetY,Array.isArray(t.failOffsetY)?(e.failOffsetYStart=t.failOffsetY[0],e.failOffsetYEnd=t.failOffsetY[1]):t.failOffsetY<0?e.failOffsetYStart=t.failOffsetY:e.failOffsetYEnd=t.failOffsetY),e}(t)},customNativeProps:["activeOffsetYStart","activeOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","failOffsetYStart","failOffsetYEnd","failOffsetXStart","failOffsetXEnd"]});rn({name:"PinchGestureHandler",allowedProps:Fr,config:{}}),rn({name:"RotationGestureHandler",allowedProps:Fr,config:{}});const un=(rn({name:"FlingGestureHandler",allowedProps:[...Fr,"numberOfPointers","direction"],config:{}}),["shouldActivateOnStart","disallowInterruption"]),ln=[...Fr,...un],hn=rn({name:"NativeViewGestureHandler",allowedProps:ln,config:{}});function fn(){return fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fn.apply(this,arguments)}const pn=[...ln,"onGestureHandlerEvent","onGestureHandlerStateChange"];function dn(t,e={}){var r;const n=E.forwardRef(((r,n)=>{const i=Object.keys(r).reduce(((t,e)=>(pn.includes(e)&&(t[e]=r[e]),t)),{...e}),o=(0,E.useRef)(),s=(0,E.useRef)();return(0,E.useImperativeHandle)(n,(()=>{const t=s.current;return o.current&&t?(o.current.handlerTag=t.handlerTag,o.current):null}),[o,s]),E.createElement(hn,fn({},i,{ref:s}),E.createElement(t,fn({},r,{ref:o})))}));return n.displayName=(null==t?void 0:t.displayName)||(null==t||null===(r=t.render)||void 0===r?void 0:r.name)||"string"==typeof t&&t||"ComponentWrapper",n}var gn;let vn,mn;try{vn=r(64134)}catch(t){vn=void 0}var yn;null!==(gn=vn)&&void 0!==gn&&gn.useSharedValue||(vn=void 0),void 0===vn||vn.setGestureState||(vn.setGestureState=()=>{console.warn(jr("Please use newer version of react-native-reanimated in order to control state of the gestures."))}),function(t){t[t.NONE=0]="NONE",t[t.LIFT=1]="LIFT",t[t.HIGHLIGHT=2]="HIGHLIGHT"}(mn||(mn={}));class bn extends E.Component{render(){try{const t=E.Children.only(this.props.children);return E.cloneElement(t,{collapsable:!1},t.props.children)}catch(t){throw new Error(jr("GestureDetector got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view."))}}}function wn(){return wn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wn.apply(this,arguments)}function En(){return En=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},En.apply(this,arguments)}function Sn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}null==vn||null===(yn=vn.default)||void 0===yn||yn.createAnimatedComponent(bn);const _n=dn(E.forwardRef(((t,e)=>E.createElement(n.View,wn({ref:e,accessibilityRole:"button"},t)))),{shouldCancelWhenOutside:!1,shouldActivateOnStart:!1});class An extends E.Component{constructor(t){super(t),Sn(this,"lastActive",void 0),Sn(this,"longPressTimeout",void 0),Sn(this,"longPressDetected",void 0),Sn(this,"handleEvent",(({nativeEvent:t})=>{const{state:e,oldState:r,pointerInside:o}=t,s=o&&e===i.ACTIVE;s!==this.lastActive&&this.props.onActiveStateChange&&this.props.onActiveStateChange(s),!this.longPressDetected&&r===i.ACTIVE&&e!==i.CANCELLED&&this.lastActive&&this.props.onPress&&this.props.onPress(s),!this.lastActive&&e===("android"!==n.Platform.OS?i.ACTIVE:i.BEGAN)&&o?(this.longPressDetected=!1,this.props.onLongPress&&(this.longPressTimeout=setTimeout(this.onLongPress,this.props.delayLongPress))):(e!==i.ACTIVE||o||void 0===this.longPressTimeout)&&(void 0===this.longPressTimeout||e!==i.END&&e!==i.CANCELLED&&e!==i.FAILED)||(clearTimeout(this.longPressTimeout),this.longPressTimeout=void 0),this.lastActive=s})),Sn(this,"onLongPress",(()=>{var t,e;this.longPressDetected=!0,null===(t=(e=this.props).onLongPress)||void 0===t||t.call(e)})),Sn(this,"onHandlerStateChange",(t=>{var e,r;null===(e=(r=this.props).onHandlerStateChange)||void 0===e||e.call(r,t),this.handleEvent(t)})),Sn(this,"onGestureEvent",(t=>{var e,r;null===(e=(r=this.props).onGestureEvent)||void 0===e||e.call(r,t),this.handleEvent(t)})),this.lastActive=!1,this.longPressDetected=!1}render(){const{rippleColor:t,...e}=this.props;return E.createElement(_n,En({rippleColor:(0,n.processColor)(t)},e,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange}))}}Sn(An,"defaultProps",{delayLongPress:600});const Tn=n.Animated.createAnimatedComponent(An),On=n.StyleSheet.create({underlay:{position:"absolute",left:0,right:0,bottom:0,top:0}});class Pn extends E.Component{constructor(t){super(t),Sn(this,"opacity",void 0),Sn(this,"onActiveStateChange",(t=>{var e,r;"android"!==n.Platform.OS&&this.opacity.setValue(t?this.props.activeOpacity:0),null===(e=(r=this.props).onActiveStateChange)||void 0===e||e.call(r,t)})),this.opacity=new n.Animated.Value(0)}render(){const{children:t,style:e,...r}=this.props,i=n.StyleSheet.flatten(null!=e?e:{});return E.createElement(An,En({},r,{style:i,onActiveStateChange:this.onActiveStateChange}),E.createElement(n.Animated.View,{style:[On.underlay,{opacity:this.opacity,backgroundColor:this.props.underlayColor,borderRadius:i.borderRadius,borderTopLeftRadius:i.borderTopLeftRadius,borderTopRightRadius:i.borderTopRightRadius,borderBottomLeftRadius:i.borderBottomLeftRadius,borderBottomRightRadius:i.borderBottomRightRadius}]}),t)}}Sn(Pn,"defaultProps",{activeOpacity:.105,underlayColor:"black"});class In extends E.Component{constructor(t){super(t),Sn(this,"opacity",void 0),Sn(this,"onActiveStateChange",(t=>{var e,r;"android"!==n.Platform.OS&&this.opacity.setValue(t?this.props.activeOpacity:1),null===(e=(r=this.props).onActiveStateChange)||void 0===e||e.call(r,t)})),this.opacity=new n.Animated.Value(1)}render(){const{children:t,style:e,...r}=this.props;return E.createElement(Tn,En({},r,{onActiveStateChange:this.onActiveStateChange,style:[e,"ios"===n.Platform.OS&&{opacity:this.opacity}]}),t)}}function Cn(){return Cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cn.apply(this,arguments)}function Nn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Sn(In,"defaultProps",{activeOpacity:.3,borderless:!0});class kn extends E.Component{constructor(...t){super(...t),Nn(this,"pressInTimeout",void 0),Nn(this,"pressOutTimeout",void 0),Nn(this,"longPressTimeout",void 0),Nn(this,"longPressDetected",!1),Nn(this,"pointerInside",!0),Nn(this,"STATE",0),Nn(this,"onGestureEvent",(({nativeEvent:{pointerInside:t}})=>{this.pointerInside!==t&&(t?this.onMoveIn():this.onMoveOut()),this.pointerInside=t})),Nn(this,"onHandlerStateChange",(({nativeEvent:t})=>{const{state:e}=t;if(e===i.CANCELLED||e===i.FAILED)this.moveToState(0);else if(e===("android"!==n.Platform.OS?i.ACTIVE:i.BEGAN)&&0===this.STATE)this.handlePressIn();else if(e===i.END){const t=!this.longPressDetected&&2!==this.STATE&&null===this.pressOutTimeout;var r,o;this.handleGoToUndetermined(),t&&(null===(r=(o=this.props).onPress)||void 0===r||r.call(o))}})),Nn(this,"onLongPressDetected",(()=>{var t,e;this.longPressDetected=!0,null===(t=(e=this.props).onLongPress)||void 0===t||t.call(e)}))}handlePressIn(){if(this.props.delayPressIn?this.pressInTimeout=setTimeout((()=>{this.moveToState(1),this.pressInTimeout=null}),this.props.delayPressIn):this.moveToState(1),this.props.onLongPress){const t=(this.props.delayPressIn||0)+(this.props.delayLongPress||0);this.longPressTimeout=setTimeout(this.onLongPressDetected,t)}}handleMoveOutside(){this.props.delayPressOut?this.pressOutTimeout=this.pressOutTimeout||setTimeout((()=>{this.moveToState(2),this.pressOutTimeout=null}),this.props.delayPressOut):this.moveToState(2)}handleGoToUndetermined(){clearTimeout(this.pressOutTimeout),this.props.delayPressOut?this.pressOutTimeout=setTimeout((()=>{0===this.STATE&&this.moveToState(1),this.moveToState(0),this.pressOutTimeout=null}),this.props.delayPressOut):(0===this.STATE&&this.moveToState(1),this.moveToState(0))}componentDidMount(){this.reset()}reset(){this.longPressDetected=!1,this.pointerInside=!0,clearTimeout(this.pressInTimeout),clearTimeout(this.pressOutTimeout),clearTimeout(this.longPressTimeout),this.pressOutTimeout=null,this.longPressTimeout=null,this.pressInTimeout=null}moveToState(t){var e,r;if(t!==this.STATE){var n,i;if(1===t)null===(n=(i=this.props).onPressIn)||void 0===n||n.call(i);else if(2===t){var o,s;null===(o=(s=this.props).onPressOut)||void 0===o||o.call(s)}else if(0===t){var a,c;this.reset(),1===this.STATE&&(null===(a=(c=this.props).onPressOut)||void 0===a||a.call(c))}null===(e=(r=this.props).onStateChange)||void 0===e||e.call(r,this.STATE,t),this.STATE=t}}componentWillUnmount(){this.reset()}onMoveIn(){2===this.STATE&&this.moveToState(1)}onMoveOut(){clearTimeout(this.longPressTimeout),this.longPressTimeout=null,1===this.STATE&&this.handleMoveOutside()}render(){var t,e;const r=null!==(t="number"==typeof this.props.hitSlop?{top:this.props.hitSlop,left:this.props.hitSlop,bottom:this.props.hitSlop,right:this.props.hitSlop}:this.props.hitSlop)&&void 0!==t?t:void 0,i={accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,nativeID:this.props.nativeID,onLayout:this.props.onLayout};return E.createElement(An,Cn({style:this.props.containerStyle,onHandlerStateChange:this.props.disabled?void 0:this.onHandlerStateChange,onGestureEvent:this.onGestureEvent,hitSlop:r,shouldActivateOnStart:this.props.shouldActivateOnStart,disallowInterruption:this.props.disallowInterruption,testID:this.props.testID,touchSoundDisabled:null!==(e=this.props.touchSoundDisabled)&&void 0!==e&&e,enabled:!this.props.disabled},this.props.extraButtonProps),E.createElement(n.Animated.View,Cn({},i,{style:this.props.style}),this.props.children))}}function xn(){return xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xn.apply(this,arguments)}Nn(kn,"defaultProps",{delayLongPress:600,extraButtonProps:{rippleColor:"transparent",exclusive:!0}});function Rn(){return Rn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rn.apply(this,arguments)}function Dn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}E.forwardRef(((t,e)=>E.createElement(kn,xn({ref:e},t)))).defaultProps=kn.defaultProps;class Mn extends E.Component{constructor(...t){super(...t),Dn(this,"getChildStyleOpacityWithDefault",(()=>{const t=n.StyleSheet.flatten(this.props.style)||{};return null==t.opacity?1:t.opacity.valueOf()})),Dn(this,"opacity",new n.Animated.Value(this.getChildStyleOpacityWithDefault())),Dn(this,"setOpacityTo",((t,e)=>{var r;n.Animated.timing(this.opacity,{toValue:t,duration:e,easing:n.Easing.inOut(n.Easing.quad),useNativeDriver:null===(r=this.props.useNativeAnimations)||void 0===r||r}).start()})),Dn(this,"onStateChange",((t,e)=>{1===e?this.setOpacityTo(this.props.activeOpacity,0):0!==e&&2!==e||this.setOpacityTo(this.getChildStyleOpacityWithDefault(),150)}))}render(){const{style:t={},...e}=this.props;return E.createElement(kn,Rn({},e,{style:[t,{opacity:this.opacity}],onStateChange:this.onStateChange}),this.props.children?this.props.children:E.createElement(n.View,null))}}function Ln(){return Ln=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ln.apply(this,arguments)}function jn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Dn(Mn,"defaultProps",{...kn.defaultProps,activeOpacity:.2});class Bn extends E.Component{constructor(t){super(t),jn(this,"showUnderlay",(()=>{var t,e;this.hasPressHandler()&&(this.setState({extraChildStyle:{opacity:this.props.activeOpacity},extraUnderlayStyle:{backgroundColor:this.props.underlayColor}}),null===(t=(e=this.props).onShowUnderlay)||void 0===t||t.call(e))})),jn(this,"hasPressHandler",(()=>this.props.onPress||this.props.onPressIn||this.props.onPressOut||this.props.onLongPress)),jn(this,"hideUnderlay",(()=>{var t,e;this.setState({extraChildStyle:null,extraUnderlayStyle:null}),null===(t=(e=this.props).onHideUnderlay)||void 0===t||t.call(e)})),jn(this,"onStateChange",((t,e)=>{1===e?this.showUnderlay():0!==e&&2!==e||this.hideUnderlay()})),this.state={extraChildStyle:null,extraUnderlayStyle:null}}renderChildren(){if(!this.props.children)return E.createElement(n.View,null);const t=E.Children.only(this.props.children);return E.cloneElement(t,{style:n.StyleSheet.compose(t.props.style,this.state.extraChildStyle)})}render(){const{style:t={},...e}=this.props,{extraUnderlayStyle:r}=this.state;return E.createElement(kn,Ln({},e,{style:[t,r],onStateChange:this.onStateChange}),this.renderChildren())}}function Fn(){return Fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fn.apply(this,arguments)}function Un(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}jn(Bn,"defaultProps",{...kn.defaultProps,activeOpacity:.85,delayPressOut:100,underlayColor:"black"}),dn(n.ScrollView,{disallowInterruption:!1}),dn(n.Switch,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!0,disallowInterruption:!0}),dn(n.TextInput),dn(n.View);class Hn extends E.Component{constructor(t){super(t),Un(this,"onGestureEvent",void 0),Un(this,"transX",void 0),Un(this,"showLeftAction",void 0),Un(this,"leftActionTranslate",void 0),Un(this,"showRightAction",void 0),Un(this,"rightActionTranslate",void 0),Un(this,"updateAnimatedEvent",((t,e)=>{const{friction:r,overshootFriction:i}=t,{dragX:o,rowTranslation:s,leftWidth:a=0,rowWidth:c=0}=e,{rightOffset:u=c}=e,l=Math.max(0,c-u),{overshootLeft:h=a>0,overshootRight:f=l>0}=t,p=n.Animated.add(s,o.interpolate({inputRange:[0,r],outputRange:[0,1]})).interpolate({inputRange:[-l-1,-l,a,a+1],outputRange:[-l-(f?1/i:0),-l,a,a+(h?1/i:0)]});this.transX=p,this.showLeftAction=a>0?p.interpolate({inputRange:[-1,0,a],outputRange:[0,0,1]}):new n.Animated.Value(0),this.leftActionTranslate=this.showLeftAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"}),this.showRightAction=l>0?p.interpolate({inputRange:[-l,0,1],outputRange:[1,0,0]}):new n.Animated.Value(0),this.rightActionTranslate=this.showRightAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"})})),Un(this,"onTapHandlerStateChange",(({nativeEvent:t})=>{t.oldState===i.ACTIVE&&this.close()})),Un(this,"onHandlerStateChange",(t=>{if(t.nativeEvent.oldState===i.ACTIVE&&this.handleRelease(t),t.nativeEvent.state===i.ACTIVE){const{velocityX:i,translationX:s}=t.nativeEvent,{rowState:a}=this.state,{friction:c}=this.props,u=-1===a?"right":1===a||(s+.05*i)/c>0?"left":"right";var e,r,n,o;0===a?null===(e=(r=this.props).onSwipeableOpenStartDrag)||void 0===e||e.call(r,u):null===(n=(o=this.props).onSwipeableCloseStartDrag)||void 0===n||n.call(o,u)}})),Un(this,"handleRelease",(t=>{const{velocityX:e,translationX:r}=t.nativeEvent,{leftWidth:n=0,rowWidth:i=0,rowState:o}=this.state,{rightOffset:s=i}=this.state,a=i-s,{friction:c,leftThreshold:u=n/2,rightThreshold:l=a/2}=this.props,h=this.currentOffset()+r/c,f=(r+.05*e)/c;let p=0;0===o?f>u?p=n:f<-l&&(p=-a):1===o?f>-u&&(p=n):f<l&&(p=-a),this.animateRow(h,p,e/c)})),Un(this,"animateRow",((t,e,r)=>{const{dragX:i,rowTranslation:o}=this.state;var s,a,c,u;if(i.setValue(0),o.setValue(t),this.setState({rowState:Math.sign(e)}),n.Animated.spring(o,{restSpeedThreshold:1.7,restDisplacementThreshold:.4,velocity:r,bounciness:0,toValue:e,useNativeDriver:this.props.useNativeAnimations,...this.props.animationOptions}).start((({finished:r})=>{var n,i,o,s;if(r)if(e>0)null===(n=(i=this.props).onSwipeableLeftOpen)||void 0===n||n.call(i),null===(o=(s=this.props).onSwipeableOpen)||void 0===o||o.call(s,"left",this);else if(e<0){var a,c,u,l;null===(a=(c=this.props).onSwipeableRightOpen)||void 0===a||a.call(c),null===(u=(l=this.props).onSwipeableOpen)||void 0===u||u.call(l,"right",this)}else{var h,f;const e=t>0?"left":"right";null===(h=(f=this.props).onSwipeableClose)||void 0===h||h.call(f,e,this)}})),e>0)null===(s=(a=this.props).onSwipeableLeftWillOpen)||void 0===s||s.call(a),null===(c=(u=this.props).onSwipeableWillOpen)||void 0===c||c.call(u,"left");else if(e<0){var l,h,f,p;null===(l=(h=this.props).onSwipeableRightWillOpen)||void 0===l||l.call(h),null===(f=(p=this.props).onSwipeableWillOpen)||void 0===f||f.call(p,"right")}else{var d,g;const e=t>0?"left":"right";null===(d=(g=this.props).onSwipeableWillClose)||void 0===d||d.call(g,e)}})),Un(this,"onRowLayout",(({nativeEvent:t})=>{this.setState({rowWidth:t.layout.width})})),Un(this,"currentOffset",(()=>{const{leftWidth:t=0,rowWidth:e=0,rowState:r}=this.state,{rightOffset:n=e}=this.state;return 1===r?t:-1===r?-(e-n):0})),Un(this,"close",(()=>{this.animateRow(this.currentOffset(),0)})),Un(this,"openLeft",(()=>{const{leftWidth:t=0}=this.state;this.animateRow(this.currentOffset(),t)})),Un(this,"openRight",(()=>{const{rowWidth:t=0}=this.state,{rightOffset:e=t}=this.state,r=t-e;this.animateRow(this.currentOffset(),-r)})),Un(this,"reset",(()=>{const{dragX:t,rowTranslation:e}=this.state;t.setValue(0),e.setValue(0),this.setState({rowState:0})}));const e=new n.Animated.Value(0);this.state={dragX:e,rowTranslation:new n.Animated.Value(0),rowState:0,leftWidth:void 0,rightOffset:void 0,rowWidth:void 0},this.updateAnimatedEvent(t,this.state),this.onGestureEvent=n.Animated.event([{nativeEvent:{translationX:e}}],{useNativeDriver:t.useNativeAnimations})}shouldComponentUpdate(t,e){return this.props.friction===t.friction&&this.props.overshootLeft===t.overshootLeft&&this.props.overshootRight===t.overshootRight&&this.props.overshootFriction===t.overshootFriction&&this.state.leftWidth===e.leftWidth&&this.state.rightOffset===e.rightOffset&&this.state.rowWidth===e.rowWidth||this.updateAnimatedEvent(t,e),!0}render(){const{rowState:t}=this.state,{children:e,renderLeftActions:r,renderRightActions:i,dragOffsetFromLeftEdge:o=10,dragOffsetFromRightEdge:s=10}=this.props,a=r&&E.createElement(n.Animated.View,{style:[Gn.leftActions,{transform:[{translateX:this.leftActionTranslate}]}]},r(this.showLeftAction,this.transX,this),E.createElement(n.View,{onLayout:({nativeEvent:t})=>this.setState({leftWidth:t.layout.x})})),c=i&&E.createElement(n.Animated.View,{style:[Gn.rightActions,{transform:[{translateX:this.rightActionTranslate}]}]},i(this.showRightAction,this.transX,this),E.createElement(n.View,{onLayout:({nativeEvent:t})=>this.setState({rightOffset:t.layout.x})}));return E.createElement(cn,Fn({activeOffsetX:[-s,o]},this.props,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange}),E.createElement(n.Animated.View,{onLayout:this.onRowLayout,style:[Gn.container,this.props.containerStyle]},a,c,E.createElement(nn,{enabled:0!==t,onHandlerStateChange:this.onTapHandlerStateChange},E.createElement(n.Animated.View,{pointerEvents:0===t?"auto":"box-only",style:[{transform:[{translateX:this.transX}]},this.props.childrenContainerStyle]},e))))}}Un(Hn,"defaultProps",{friction:1,overshootFriction:1,useNativeAnimations:!0});const Gn=n.StyleSheet.create({container:{overflow:"hidden"},leftActions:{...n.StyleSheet.absoluteFillObject,flexDirection:n.I18nManager.isRTL?"row-reverse":"row"},rightActions:{...n.StyleSheet.absoluteFillObject,flexDirection:n.I18nManager.isRTL?"row":"row-reverse"}});var Xn=r(20311),Vn=r.n(Xn);function Yn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Wn="Idle",qn="Dragging",Kn="Settling";class zn extends E.Component{constructor(t){super(t),Yn(this,"openValue",void 0),Yn(this,"onGestureEvent",void 0),Yn(this,"accessibilityIsModalView",E.createRef()),Yn(this,"pointerEventsView",E.createRef()),Yn(this,"panGestureHandler",E.createRef()),Yn(this,"drawerShown",!1),Yn(this,"updateAnimatedEvent",((t,e)=>{const{drawerPosition:r,drawerWidth:i,drawerType:o}=t,{dragX:s,touchX:a,drawerTranslation:c,containerWidth:u}=e;let l=s,h=a;"left"!==r?(l=n.Animated.multiply(new n.Animated.Value(-1),s),h=n.Animated.add(new n.Animated.Value(u),n.Animated.multiply(new n.Animated.Value(-1),a)),a.setValue(u)):a.setValue(0);let f=l;if("front"===o){const t=n.Animated.add(h,n.Animated.multiply(new n.Animated.Value(-1),l)).interpolate({inputRange:[i-1,i,i+1],outputRange:[0,0,1]});f=n.Animated.add(l,t)}this.openValue=n.Animated.add(f,c).interpolate({inputRange:[0,i],outputRange:[0,1],extrapolate:"clamp"});const p={useNativeDriver:t.useNativeAnimations};this.props.onDrawerSlide&&(p.listener=t=>{var e,r;const n=Math.floor(Math.abs(t.nativeEvent.translationX))/this.state.containerWidth;null===(e=(r=this.props).onDrawerSlide)||void 0===e||e.call(r,n)}),this.onGestureEvent=n.Animated.event([{nativeEvent:{translationX:s,x:a}}],p)})),Yn(this,"handleContainerLayout",(({nativeEvent:t})=>{this.setState({containerWidth:t.layout.width})})),Yn(this,"emitStateChanged",((t,e)=>{var r,n;null===(r=(n=this.props).onDrawerStateChanged)||void 0===r||r.call(n,t,e)})),Yn(this,"openingHandlerStateChange",(({nativeEvent:t})=>{t.oldState===i.ACTIVE?this.handleRelease({nativeEvent:t}):t.state===i.ACTIVE&&(this.emitStateChanged(qn,!1),this.setState({drawerState:qn}),"on-drag"===this.props.keyboardDismissMode&&n.Keyboard.dismiss(),this.props.hideStatusBar&&n.StatusBar.setHidden(!0,this.props.statusBarAnimation||"slide"))})),Yn(this,"onTapHandlerStateChange",(({nativeEvent:t})=>{this.drawerShown&&t.oldState===i.ACTIVE&&"locked-open"!==this.props.drawerLockMode&&this.closeDrawer()})),Yn(this,"handleRelease",(({nativeEvent:t})=>{const{drawerWidth:e,drawerPosition:r,drawerType:n}=this.props,{containerWidth:i}=this.state;let{translationX:o,velocityX:s,x:a}=t;"left"!==r&&(o=-o,a=i-a,s=-s);const c=a-o;let u=0;"front"===n&&(u=c>e?c-e:0);const l=o+u+(this.drawerShown?e:0);l+.05*s>e/2?this.animateDrawer(l,e,s):this.animateDrawer(l,0,s)})),Yn(this,"updateShowing",(t=>{var e,r,n;this.drawerShown=t,null===(e=this.accessibilityIsModalView.current)||void 0===e||e.setNativeProps({accessibilityViewIsModal:t}),null===(r=this.pointerEventsView.current)||void 0===r||r.setNativeProps({pointerEvents:t?"auto":"none"});const{drawerPosition:i,minSwipeDistance:o,edgeWidth:s}=this.props,a="left"===i,c=(a?1:-1)*(this.drawerShown?-1:1),u=a?{left:0,width:t?void 0:s}:{right:0,width:t?void 0:s};null===(n=this.panGestureHandler.current)||void 0===n||n.setNativeProps({hitSlop:u,activeOffsetX:c*o})})),Yn(this,"animateDrawer",((t,e,r,i)=>{if(this.state.dragX.setValue(0),this.state.touchX.setValue("left"===this.props.drawerPosition?0:this.state.containerWidth),null!=t){let n=t;this.props.useNativeAnimations&&(t<e&&r>0?n=Math.min(t+r/60,e):t>e&&r<0&&(n=Math.max(t+r/60,e))),this.state.drawerTranslation.setValue(n)}const o=0!==e;this.updateShowing(o),this.emitStateChanged(Kn,o),this.setState({drawerState:Kn}),this.props.hideStatusBar&&n.StatusBar.setHidden(o,this.props.statusBarAnimation||"slide"),n.Animated.spring(this.state.drawerTranslation,{velocity:r,bounciness:0,toValue:e,useNativeDriver:this.props.useNativeAnimations,speed:null!=i?i:void 0}).start((({finished:t})=>{var e,r,n,i;t&&(this.emitStateChanged(Wn,o),this.setState({drawerOpened:o}),this.state.drawerState!==qn&&this.setState({drawerState:Wn}),o?null===(e=(r=this.props).onDrawerOpen)||void 0===e||e.call(r):null===(n=(i=this.props).onDrawerClose)||void 0===n||n.call(i))}))})),Yn(this,"openDrawer",((t={})=>{this.animateDrawer(void 0,this.props.drawerWidth,t.velocity?t.velocity:0,t.speed),this.forceUpdate()})),Yn(this,"closeDrawer",((t={})=>{this.animateDrawer(void 0,0,t.velocity?t.velocity:0,t.speed),this.forceUpdate()})),Yn(this,"renderOverlay",(()=>{let t;Vn()(this.openValue,"should be set"),t=this.state.drawerState!==Wn?this.openValue:this.state.drawerOpened?1:0;const e={opacity:t,backgroundColor:this.props.overlayColor};return E.createElement(nn,{onHandlerStateChange:this.onTapHandlerStateChange},E.createElement(n.Animated.View,{pointerEvents:this.drawerShown?"auto":"none",ref:this.pointerEventsView,style:[$n.overlay,e]}))})),Yn(this,"renderDrawer",(()=>{const{drawerBackgroundColor:t,drawerWidth:e,drawerPosition:r,drawerType:i,drawerContainerStyle:o,contentContainerStyle:s}=this.props,a="left"===r,c="back"!==i,u="front"!==i,l=n.I18nManager.isRTL?a:!a,h={backgroundColor:t,width:e},f=this.openValue;let p;Vn()(f,"should be set"),u&&(p={transform:[{translateX:f.interpolate({inputRange:[0,1],outputRange:a?[0,e]:[0,-e],extrapolate:"clamp"})}]});let d=0;if(c){const t=a?-e:e;d=this.state.drawerState!==Wn?f.interpolate({inputRange:[0,1],outputRange:[t,0],extrapolate:"clamp"}):this.state.drawerOpened?0:t}const g={transform:[{translateX:d}],flexDirection:l?"row-reverse":"row"};return E.createElement(n.Animated.View,{style:$n.main,onLayout:this.handleContainerLayout},E.createElement(n.Animated.View,{style:["front"===i?$n.containerOnBack:$n.containerInFront,p,s],importantForAccessibility:this.drawerShown?"no-hide-descendants":"yes"},"function"==typeof this.props.children?this.props.children(this.openValue):this.props.children,this.renderOverlay()),E.createElement(n.Animated.View,{pointerEvents:"box-none",ref:this.accessibilityIsModalView,accessibilityViewIsModal:this.drawerShown,style:[$n.drawerContainer,g,o]},E.createElement(n.View,{style:h},this.props.renderNavigationView(this.openValue))))})),Yn(this,"setPanGestureRef",(t=>{var e,r;this.panGestureHandler.current=t,null===(e=(r=this.props).onGestureRef)||void 0===e||e.call(r,t)}));const e=new n.Animated.Value(0),r=new n.Animated.Value(0),o=new n.Animated.Value(0);this.state={dragX:e,touchX:r,drawerTranslation:o,containerWidth:0,drawerState:Wn,drawerOpened:!1},this.updateAnimatedEvent(t,this.state)}shouldComponentUpdate(t,e){return this.props.drawerPosition===t.drawerPosition&&this.props.drawerWidth===t.drawerWidth&&this.props.drawerType===t.drawerType&&this.state.containerWidth===e.containerWidth||this.updateAnimatedEvent(t,e),!0}render(){const{drawerPosition:t,drawerLockMode:e,edgeWidth:r,minSwipeDistance:n}=this.props,i="left"===t,o=(i?1:-1)*(this.drawerShown?-1:1),s=i?{left:0,width:this.drawerShown?void 0:r}:{right:0,width:this.drawerShown?void 0:r};return E.createElement(cn,{userSelect:this.props.userSelect,activeCursor:this.props.activeCursor,ref:this.setPanGestureRef,hitSlop:s,activeOffsetX:o*n,failOffsetY:[-15,15],onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.openingHandlerStateChange,enableTrackpadTwoFingerGesture:this.props.enableTrackpadTwoFingerGesture,enabled:"locked-closed"!==e&&"locked-open"!==e},this.renderDrawer())}}Yn(zn,"defaultProps",{drawerWidth:200,drawerPosition:"left",useNativeAnimations:!0,drawerType:"front",edgeWidth:20,minSwipeDistance:3,overlayColor:"rgba(0, 0, 0, 0.7)",drawerLockMode:"unlocked",enableTrackpadTwoFingerGesture:!1}),Yn(zn,"positions",{Left:"left",Right:"right"});const $n=n.StyleSheet.create({drawerContainer:{...n.StyleSheet.absoluteFillObject,zIndex:1001,flexDirection:"row"},containerInFront:{...n.StyleSheet.absoluteFillObject,zIndex:1002},containerOnBack:{...n.StyleSheet.absoluteFillObject},main:{flex:1,zIndex:0,overflow:"hidden"},overlay:{...n.StyleSheet.absoluteFillObject,zIndex:1e3}});g&&(g.remove(),g=null),v&&(v.remove(),v=null),g=n.DeviceEventEmitter.addListener("onGestureHandlerEvent",w),v=n.DeviceEventEmitter.addListener("onGestureHandlerStateChange",w)},86048:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,o,s,a,c;if("string"==typeof e&&(o="not ",e.substr(0,4)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-9,r)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=t).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(n(e,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.F=e},25382:(t,e,r)=>{"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=u;var i=r(45412),o=r(16708);r(56698)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},63600:(t,e,r)=>{"use strict";t.exports=i;var n=r(74610);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(56698)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},45412:(t,e,r)=>{"use strict";var n;t.exports=A,A.ReadableState=_,r(37007).EventEmitter;var i,o=function(t,e){return t.listeners(e).length},s=r(40345),a=r(48287).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(57457);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f,p=r(80345),d=r(75896),g=r(65291).getHighWaterMark,v=r(86048).F,m=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(56698)(A,s);var E=d.errorOrDestroy,S=["error","close","destroy","pause","resume"];function _(t,e,i){n=n||r(25382),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(83141).I),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function A(t){if(n=n||r(25382),!(this instanceof A))return new A(t);var e=this instanceof n;this._readableState=new _(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function T(t,e,r,n,o){i("readableAddChunk",e);var s,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?C(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,N(t)))}}(t,u);else if(o||(s=function(t,e){var r,n;return n=e,a.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e)),r}(u,e)),s)E(t,s);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)u.endEmitted?E(t,new w):O(t,u,e,!0);else if(u.ended)E(t,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?O(t,u,e,!1):k(t,u)):O(t,u,e,!1)}else n||(u.reading=!1,k(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function O(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&C(t)),k(t,e)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=d.destroy,A.prototype._undestroy=d.undestroy,A.prototype._destroy=function(t,e){e(t)},A.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),T(this,t,e,!1,r)},A.prototype.unshift=function(t){return T(this,t,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(t){l||(l=r(83141).I);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function I(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=P?t=P:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(N,t))}function N(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function k(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(x,t,e))}function x(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function R(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function D(t){i("readable nexttick read 0"),t.read(0)}function M(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function B(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(F,e,t))}function F(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function U(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}A.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):C(this),null;if(0===(t=I(t,e))&&e.ended)return 0===e.length&&B(this),null;var n,o=e.needReadable;return i("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",o=!0),e.ended||e.reading?i("reading or ended",o=!1):o&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=I(r,e))),null===(n=t>0?j(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&B(this)),null!==n&&this.emit("data",n),n},A.prototype._read=function(t){E(this,new b("_read()"))},A.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var s=e&&!1===e.end||t===process.stdout||t===process.stderr?d:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",(function e(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),t.removeListener("close",f),t.removeListener("finish",p),t.removeListener("drain",c),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",d),r.removeListener("data",l),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,L(t))}}(r);t.on("drain",c);var u=!1;function l(e){i("ondata");var o=t.write(e);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==U(n.pipes,t))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),d(),t.removeListener("error",h),0===o(t,"error")&&E(t,e)}function f(){t.removeListener("finish",p),d()}function p(){i("onfinish"),t.removeListener("close",f),d()}function d(){i("unpipe"),r.unpipe(t)}return r.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",h),t.once("close",f),t.once("finish",p),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},A.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},A.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?C(this):n.reading||process.nextTick(D,this))),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(R,this),r},A.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(R,this),e},A.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(M,t,e))}(this,t)),t.paused=!1,this},A.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var o in t.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var s=0;s<S.length;s++)t.on(S[s],this.emit.bind(this,S[s]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(2955)),h(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=j,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(t,e){return void 0===f&&(f=r(55157)),f(A,t,e)})},74610:(t,e,r)=>{"use strict";t.exports=l;var n=r(86048).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(25382);function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}r(56698)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},16708:(t,e,r)=>{"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=A,A.WritableState=_;var o,s={deprecate:r(94643)},a=r(40345),c=r(48287).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(75896),h=r(65291).getHighWaterMark,f=r(86048).F,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,m=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,E=l.errorOrDestroy;function S(){}function _(t,e,o){i=i||r(25382),t=t||{},"boolean"!=typeof o&&(o=e instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(N,t,e),t._writableState.errorEmitted=!0,E(t,n)):(i(n),t._writableState.errorEmitted=!0,E(t,n),N(t,e))}(t,r,n,e,i);else{var o=I(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||P(t,r),n?process.nextTick(O,t,r,o,i):O(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function A(t){var e=this instanceof(i=i||r(25382));if(!e&&!o.call(A,this))return new A(t);this._writableState=new _(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function T(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function O(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),N(t,e)}function P(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,o=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,T(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(T(t,e,!1,e.objectMode?1:u.length,u,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function I(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(r){e.pendingcb--,r&&E(t,r),e.prefinished=!0,t.emit("prefinish"),N(t,e)}))}function N(t,e){var r=I(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(C,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(56698)(A,a),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===A&&t&&t._writableState instanceof _}})):o=function(t){return t instanceof this},A.prototype.pipe=function(){E(this,new v)},A.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=t,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(t,e){var r=new b;E(t,r),process.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i;return null===r?i=new y:"string"==typeof r||e.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(E(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else T(t,e,!1,a,n,i,o);return u}(this,i,s,t,e,r)),o},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||P(this,t))},A.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(t,e,r){r(new d("_write()"))},A.prototype._writev=null,A.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,N(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(t,e){e(t)}},2955:(t,e,r)=>{"use strict";var n;function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(86238),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(t,e){return{value:t,done:e}}function d(t){var e=t[s];if(null!==e){var r=t[f].read();null!==r&&(t[l]=null,t[s]=null,t[a]=null,e(p(r,!1)))}}function g(t){process.nextTick(d,t)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[c]?r(t[c]):e(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[u]?r(p(void 0,!0)):e[h](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[f].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),n),v);t.exports=function(t){var e,r=Object.create(m,(i(e={},f,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,t(p(n,!1))):(r[s]=t,r[a]=e)},writable:!0}),e));return r[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[s]=null,r[a]=null,e(t)),void(r[c]=t)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(p(void 0,!0))),r[u]=!0})),t.on("readable",g.bind(null,r)),r}},80345:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var c=r(48287).Buffer,u=r(15340).inspect,l=u&&u.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return c.alloc(0);for(var e,r,n,i=c.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=i,n=s,c.prototype.copy.call(e,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=c.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:l,value:function(t,e){return u(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},75896:t=>{"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!i&&t?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(e,o,t)):process.nextTick(e,o,t):i?(process.nextTick(r,o),i(t)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},86238:(t,e,r)=>{"use strict";var n=r(86048).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(e)},p=function(t){o.call(e,t)},d=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},g=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",d),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",f),e.on("finish",l),!1!==r.error&&e.on("error",p),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",p),e.removeListener("close",d)}}},55157:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},57758:(t,e,r)=>{"use strict";var n,i=r(86048).F,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t){t()}function u(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var l,h=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var f=e.map((function(t,i){var o=i<e.length-1;return function(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(86238)),n(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}(t,o,i>0,(function(t){l||(l=t),t&&f.forEach(c),o||(f.forEach(c),h(l))}))}));return e.reduce(u)}},65291:(t,e,r)=>{"use strict";var n=r(86048).F.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var o=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},40345:(t,e,r)=>{t.exports=r(37007).EventEmitter},28399:(t,e,r)=>{(e=t.exports=r(45412)).Stream=e,e.Readable=e,e.Writable=r(16708),e.Duplex=r(25382),e.Transform=r(74610),e.PassThrough=r(63600),e.finished=r(86238),e.pipeline=r(57758)},10262:t=>{"use strict";function e(t,e,r){var n=this;this._callback=t,this._args=r,this._interval=setInterval(t,e,this._args),this.reschedule=function(t){t||(t=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,t,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var t;if(arguments.length>0){t=new Array(arguments.length-2);for(var r=0;r<t.length;r++)t[r]=arguments[r+2]}return new e(arguments[0],arguments[1],t)}},53885:(t,e,r)=>{"use strict";t.exports=r(89844)()},89844:t=>{"use strict";function e(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(t){if((t=t||{}).circles)return function(t){const r=[],n=[],i=new Map;if(i.set(Date,(t=>new Date(t))),i.set(Map,((t,e)=>new Map(s(Array.from(t),e)))),i.set(Set,((t,e)=>new Set(s(Array.from(t),e)))),t.constructorHandlers)for(const e of t.constructorHandlers)i.set(e[0],e[1]);let o=null;return t.proto?function t(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,t);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,t);const c={};r.push(a),n.push(c);for(const s in a){const u=a[s];if("object"!=typeof u||null===u)c[s]=u;else if(u.constructor!==Object&&(o=i.get(u.constructor)))c[s]=o(u,t);else if(ArrayBuffer.isView(u))c[s]=e(u);else{const e=r.indexOf(u);c[s]=-1!==e?n[e]:t(u)}}return r.pop(),n.pop(),c}:function t(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,t);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,t);const c={};r.push(a),n.push(c);for(const s in a){if(!1===Object.hasOwnProperty.call(a,s))continue;const u=a[s];if("object"!=typeof u||null===u)c[s]=u;else if(u.constructor!==Object&&(o=i.get(u.constructor)))c[s]=o(u,t);else if(ArrayBuffer.isView(u))c[s]=e(u);else{const e=r.indexOf(u);c[s]=-1!==e?n[e]:t(u)}}return r.pop(),n.pop(),c};function s(t,s){const a=Object.keys(t),c=new Array(a.length);for(let u=0;u<a.length;u++){const l=a[u],h=t[l];if("object"!=typeof h||null===h)c[l]=h;else if(h.constructor!==Object&&(o=i.get(h.constructor)))c[l]=o(h,s);else if(ArrayBuffer.isView(h))c[l]=e(h);else{const t=r.indexOf(h);c[l]=-1!==t?n[t]:s(h)}}return c}}(t);const r=new Map;if(r.set(Date,(t=>new Date(t))),r.set(Map,((t,e)=>new Map(i(Array.from(t),e)))),r.set(Set,((t,e)=>new Set(i(Array.from(t),e)))),t.constructorHandlers)for(const e of t.constructorHandlers)r.set(e[0],e[1]);let n=null;return t.proto?function t(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,t);if(o.constructor!==Object&&(n=r.get(o.constructor)))return n(o,t);const s={};for(const i in o){const a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=r.get(a.constructor))?s[i]=n(a,t):ArrayBuffer.isView(a)?s[i]=e(a):s[i]=t(a)}return s}:function t(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,t);if(o.constructor!==Object&&(n=r.get(o.constructor)))return n(o,t);const s={};for(const i in o){if(!1===Object.hasOwnProperty.call(o,i))continue;const a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=r.get(a.constructor))?s[i]=n(a,t):ArrayBuffer.isView(a)?s[i]=e(a):s[i]=t(a)}return s};function i(t,i){const o=Object.keys(t),s=new Array(o.length);for(let a=0;a<o.length;a++){const c=o[a],u=t[c];"object"!=typeof u||null===u?s[c]=u:u.constructor!==Object&&(n=r.get(u.constructor))?s[c]=n(u,i):ArrayBuffer.isView(u)?s[c]=e(u):s[c]=i(u)}return s}}},92861:(t,e,r)=>{var n=r(48287),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},14011:function(t,e,r){!function(t,e){function r(){}r.prototype.name="ANONYMOUS",r.prototype.clientFirst=!0,r.prototype.response=function(t){return t.trace||""},r.prototype.challenge=function(t){},e.exports=r}(0,t=r.nmd(t))},63481:function(t,e,r){!function(t,e,r){(e.exports=r).Mechanism=r}(0,t=r.nmd(t),r(14011))},87474:function(t,e,r){!function(t,e){function r(){}r.prototype.name="PLAIN",r.prototype.clientFirst=!0,r.prototype.response=function(t){var e="";return e+=t.authzid||"",e+="\0",e+=t.username,(e+="\0")+t.password},r.prototype.challenge=function(t){return this},e.exports=r}(0,t=r.nmd(t))},61978:function(t,e,r){!function(t,e,r){(e.exports=r).Mechanism=r}(0,t=r.nmd(t),r(87474))},22074:function(t,e,r){!function(t,e){function r(){this._mechs=[]}r.prototype.use=function(t,e){return e||(t=(e=t).prototype.name),this._mechs.push({name:t,mech:e}),this},r.prototype.create=function(t){for(var e=0,r=this._mechs.length;e<r;e++)for(var n=0,i=t.length;n<i;n++){var o=this._mechs[e];if(o.name==t[n])return new o.mech}return null},e.exports=r}(0,t=r.nmd(t))},45591:function(t,e,r){!function(t,e,r){(e.exports=r).Factory=r}(0,t=r.nmd(t),r(22074))},96897:(t,e,r)=>{"use strict";var n=r(70453),i=r(30041),o=r(30592)(),s=r(75795),a=r(69675),c=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||c(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in t&&s){var l=s(t,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},920:(t,e,r)=>{"use strict";var n=r(70453),i=r(38075),o=r(58859),s=r(69675),a=n("%WeakMap%",!0),c=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),d=i("Map.prototype.has",!0),g=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new s("Side channel does not contain "+o(t))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return u(t,n)}else if(c){if(e)return f(e,n)}else if(r)return function(t,e){var r=g(t,e);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return h(t,n)}else if(c){if(e)return d(e,n)}else if(r)return function(t,e){return!!g(t,e)}(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new a),l(t,n,i)):c?(e||(e=new c),p(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=g(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},15332:t=>{t.exports=function(t){var e=t._readableState;return e?e.objectMode||"number"==typeof t._duplexState?t.read():t.read(function(t){if(t.buffer.length){var e=t.bufferIndex||0;if(t.buffer.head)return t.buffer.head.data.length;if(t.buffer.length-e>0&&t.buffer[e])return t.buffer[e].length}return t.length}(e)):null}},83141:(t,e,r)=>{"use strict";var n=r(92861).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.I=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},88835:(t,e,r)=>{"use strict";var n=r(48379);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),l=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(55373);function y(t,e,r){if(t&&"object"==typeof t&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var y=t=c.join(s);if(y=y.trim(),!r&&1===t.split("#").length){var b=a.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=o.exec(y);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,y=y.substr(w.length)}if(r||w||y.match(/^\/\/[^@/]+@[^@/]+/)){var S="//"===y.substr(0,2);!S||w&&g[w]||(y=y.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!v[w])){for(var _,A,T=-1,O=0;O<h.length;O++)-1!==(P=y.indexOf(h[O]))&&(-1===T||P<T)&&(T=P);for(-1!==(A=-1===T?y.lastIndexOf("@"):y.lastIndexOf("@",T))&&(_=y.slice(0,A),y=y.slice(A+1),this.auth=decodeURIComponent(_)),T=-1,O=0;O<l.length;O++){var P;-1!==(P=y.indexOf(l[O]))&&(-1===T||P<T)&&(T=P)}-1===T&&(T=y.length),this.host=y.slice(0,T),y=y.slice(T),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\./),N=(O=0,C.length);O<N;O++){var k=C[O];if(k&&!k.match(f)){for(var x="",R=0,D=k.length;R<D;R++)k.charCodeAt(R)>127?x+="x":x+=k[R];if(!x.match(f)){var M=C.slice(0,O),L=C.slice(O+1),j=k.match(p);j&&(M.push(j[1]),L.unshift(j[2])),L.length&&(y="/"+L.join(".")+y),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!d[E])for(O=0,N=u.length;O<N;O++){var U=u[O];if(-1!==y.indexOf(U)){var H=encodeURIComponent(U);H===U&&(H=escape(U)),y=y.split(U).join(H)}}var G=y.indexOf("#");-1!==G&&(this.hash=y.substr(G),y=y.slice(0,G));var X=y.indexOf("?");if(-1!==X?(this.search=y.substr(X),this.query=y.substr(X+1),e&&(this.query=m.parse(this.query)),y=y.slice(0,X)):e&&(this.search="",this.query={}),y&&(this.pathname=y),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var V=this.search||"";this.path=B+V}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if("string"==typeof t){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(r[u]=t[u])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var l=Object.keys(t),h=0;h<l.length;h++){var f=l[h];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||g[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",m=r.search||"";r.path=d+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||y||r.host&&t.pathname,E=w,S=r.pathname&&r.pathname.split("/")||[],_=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),w=w&&(""===p[0]||""===S[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),r.search=t.search,r.query=t.query;else if(null!=t.search)return _&&(r.host=S.shift(),r.hostname=r.host,(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)),r.search=t.search,r.query=t.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=S.slice(-1)[0],T=(r.host||t.host||S.length>1)&&("."===A||".."===A)||""===A,O=0,P=S.length;P>=0;P--)"."===(A=S[P])?S.splice(P,1):".."===A?(S.splice(P,1),O++):O&&(S.splice(P,1),O--);if(!w&&!E)for(;O--;O)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),T&&"/"!==S.join("/").substr(-1)&&S.push("");var I,C=""===S[0]||S[0]&&"/"===S[0].charAt(0);return _&&(r.hostname=C?"":S.length?S.shift():"",r.host=r.hostname,(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.hostname=I.shift(),r.host=r.hostname)),(w=w||r.host&&S.length)&&!C&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){return"string"==typeof t&&(t=y(t)),t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i},94643:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},86587:t=>{t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(t){n[t]=i[t]})),n}}},51591:t=>{"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},57510:t=>{t.exports=function(){for(var t={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)e.call(n,i)&&(t[i]=n[i])}return t};var e=Object.prototype.hasOwnProperty},40259:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},28799:(t,e,r)=>{"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function i(t,e,r){var n=e===t.head?new a(r,null,e,t):new a(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,r,n){if(!(this instanceof a))return new a(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,n=this.head;null!==n&&r<t;r++)n=n.next;var o=[];for(r=0;n&&r<e;r++)o.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),r=2;r<arguments.length;r++)n=i(this,n,arguments[r]);return o},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(40259)(n)}catch(t){}}}]);